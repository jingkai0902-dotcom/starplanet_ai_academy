{
  "title": "[PYAI-2-2-11] 举重若轻3",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\PythonAI\\L2\\M2_项目应用\\PYAI-2-2-11_举重若轻3.md",
  "sections": [
    {
      "title": "课程基本信息",
      "content": "| 项目 | 内容 |\n|------|------|\n| **课程编号** | 2-2-11 |\n| **课程名称** | 举重若轻3 |\n| **认知负荷** | 高 |\n| **核心技能** | 向量拆分合并、爆炸效果、音频加载 |\n\n---"
    },
    {
      "title": "详细教学流程",
      "content": "**步骤1：知识讲解（20分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"今天是大炮射击的最后一课！我们要加入**目标**、**爆炸效果**和**音效**，让游戏更完整！\"\n>\n> \"**Pygame音频**：\n> ```python\n> import pygame\n>\n> pygame.mixer.init()  # 初始化音频\n>\n> # 加载音效\n> explosion_sound = pygame.mixer.Sound('explosion.wav')\n>\n> # 播放音效\n> explosion_sound.play()\n>\n> # 加载背景音乐\n> pygame.mixer.music.load('bgm.mp3')\n> pygame.mixer.music.play(-1)  # -1表示循环播放\n> ```\n>\n> **爆炸效果**：\n> - 碰撞时创建爆炸粒子\n> - 粒子向四周扩散\n> - 逐渐消失\"\n\n---"
    },
    {
      "title": "核心代码模式",
      "content": "```python\nimport pygame\nimport math\nimport random\n\npygame.init()\npygame.mixer.init()\nscreen = pygame.display.set_mode((800, 600))\n\nGRAVITY = 0.3\n\n# 目标类\nclass Target:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n        self.radius = 25\n        self.alive = True\n\n    def draw(self, screen):\n        if self.alive:\n            pygame.draw.circle(screen, (255, 0, 0), (self.x, self.y), self.radius)\n            pygame.draw.circle(screen, (255, 255, 255), (self.x, self.y), 15)\n            pygame.draw.circle(screen, (255, 0, 0), (self.x, self.y), 5)\n\n# 爆炸粒子类\nclass Particle:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n        angle = random.uniform(0, 2 * math.pi)\n        speed = random.uniform(2, 8)\n        self.vx = speed * math.cos(angle)\n        self.vy = speed * math.sin(angle)\n        self.life = 30  # 生命周期\n        self.color = random.choice([(255,100,0), (255,200,0), (255,50,0)])\n\n    def update(self):\n        self.x += self.vx\n        self.y += self.vy\n        self.vy += 0.1  # 轻微重力\n        self.life -= 1\n\n    def draw(self, screen):\n        if self.life > 0:\n            size = max(1, self.life // 5)\n            pygame.draw.circle(screen, self.color, (int(self.x), int(self.y)), size)\n\n# 炮弹类（简化版）\nclass Bullet:\n    def __init__(self, x, y, speed, angle):\n        self.x, self.y = x, y\n        rad = math.radians(angle)\n        self.vx = speed * math.cos(rad)\n        self.vy = -speed * math.sin(rad)\n        self.active = True\n\n    def update(self):\n        self.x += self.vx\n        self.vy += GRAVITY\n        self.y += self.vy\n        if self.y > 550: self.active = False\n\n    def draw(self, screen):\n        pygame.draw.circle(screen, (50,50,50), (int(self.x), int(self.y)), 8)\n\n# 碰撞检测\ndef check_hit(bullet, target):\n    dist = math.sqrt((bullet.x - target.x)**2 + (bullet.y - target.y)**2)\n    return dist < target.radius + 8\n\n# 创建爆炸\ndef create_explosion(x, y):\n    return [Particle(x, y) for _ in range(20)]\n\n# 游戏对象\ntargets = [Target(600, 500), Target(500, 450), Target(700, 480)]\nbullets = []\nparticles = []\nscore = 0\n\nrunning = True\nwhile running:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running = False\n        if event.type == pygame.KEYUP:\n            if event.key == pygame.K_SPACE:\n                bullets.append(Bullet(80, 480, 15, 45))\n\n    screen.fill((135, 206, 235))\n    pygame.draw.rect(screen, (34, 139, 34), (0, 550, 800, 50))\n\n    # 更新炮弹\n    for bullet in bullets[:]:\n        bullet.update()\n        bullet.draw(screen)\n\n        # 检测碰撞\n        for target in targets:\n            if target.alive and check_hit(bullet, target):\n                target.alive = False\n                bullet.active = False\n                particles.extend(create_explosion(target.x, target.y))\n                score += 100\n\n    bullets = [b for b in bullets if b.active]\n\n    # 更新粒子\n    for p in particles[:]:\n        p.update()\n        p.draw(screen)\n    particles = [p for p in particles if p.life > 0]\n\n    # 绘制目标\n    for target in targets:\n        target.draw(screen)\n\n    pygame.display.flip()\n    pygame.time.delay(16)\n\npygame.quit()\n```\n\n---"
    },
    {
      "title": "变体示例",
      "content": "| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 爆炸效果太弱 | 增加粒子数量 | 把20改成50 |\n| 想加音效 | 加载wav文件 | 碰撞时播放explosion_sound.play() |\n| 想加关卡 | 设计关卡系统 | 消灭所有目标后进入下一关 |\n\n---"
    },
    {
      "title": "禁忌提醒",
      "content": "- ❌ 音频格式不支持——推荐使用wav或ogg\n- ❌ 粒子太多导致卡顿——控制粒子数量和生命周期\n\n---"
    },
    {
      "title": "核心知识点",
      "content": "- 音频加载：`pygame.mixer.Sound()` / `pygame.mixer.music`\n- 粒子系统：随机方向、速度、颜色\n- 碰撞响应：检测到碰撞后触发效果\n- 生命周期：粒子逐渐消失\n\n---"
    },
    {
      "title": "底层逻辑",
      "content": "- **粒子系统**：大量简单对象模拟复杂效果\n- **游戏完整性**：视觉+音效+交互\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-22-11-001]\n\n---\n\n[上一课](PYAI-2-2-10_举重若轻2.md) | [下一课](PYAI-2-2-12_阶段复习.md) | [返回模块概览](_模块概览.md)"
    }
  ],
  "full_content": "# [PYAI-2-2-11] 举重若轻3\n\n> **模块**：L2-M2 项目应用\n> **认知负荷**：高\n> **核心技能**：向量拆分合并、爆炸效果、音频加载\n> **UID**：PYAI-22-11-001\n\n---\n\n## 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 2-2-11 |\n| **课程名称** | 举重若轻3 |\n| **认知负荷** | 高 |\n| **核心技能** | 向量拆分合并、爆炸效果、音频加载 |\n\n---\n\n## 详细教学流程\n\n**步骤1：知识讲解（20分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"今天是大炮射击的最后一课！我们要加入**目标**、**爆炸效果**和**音效**，让游戏更完整！\"\n>\n> \"**Pygame音频**：\n> ```python\n> import pygame\n>\n> pygame.mixer.init()  # 初始化音频\n>\n> # 加载音效\n> explosion_sound = pygame.mixer.Sound('explosion.wav')\n>\n> # 播放音效\n> explosion_sound.play()\n>\n> # 加载背景音乐\n> pygame.mixer.music.load('bgm.mp3')\n> pygame.mixer.music.play(-1)  # -1表示循环播放\n> ```\n>\n> **爆炸效果**：\n> - 碰撞时创建爆炸粒子\n> - 粒子向四周扩散\n> - 逐渐消失\"\n\n---\n\n## 核心代码模式\n\n```python\nimport pygame\nimport math\nimport random\n\npygame.init()\npygame.mixer.init()\nscreen = pygame.display.set_mode((800, 600))\n\nGRAVITY = 0.3\n\n# 目标类\nclass Target:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n        self.radius = 25\n        self.alive = True\n\n    def draw(self, screen):\n        if self.alive:\n            pygame.draw.circle(screen, (255, 0, 0), (self.x, self.y), self.radius)\n            pygame.draw.circle(screen, (255, 255, 255), (self.x, self.y), 15)\n            pygame.draw.circle(screen, (255, 0, 0), (self.x, self.y), 5)\n\n# 爆炸粒子类\nclass Particle:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n        angle = random.uniform(0, 2 * math.pi)\n        speed = random.uniform(2, 8)\n        self.vx = speed * math.cos(angle)\n        self.vy = speed * math.sin(angle)\n        self.life = 30  # 生命周期\n        self.color = random.choice([(255,100,0), (255,200,0), (255,50,0)])\n\n    def update(self):\n        self.x += self.vx\n        self.y += self.vy\n        self.vy += 0.1  # 轻微重力\n        self.life -= 1\n\n    def draw(self, screen):\n        if self.life > 0:\n            size = max(1, self.life // 5)\n            pygame.draw.circle(screen, self.color, (int(self.x), int(self.y)), size)\n\n# 炮弹类（简化版）\nclass Bullet:\n    def __init__(self, x, y, speed, angle):\n        self.x, self.y = x, y\n        rad = math.radians(angle)\n        self.vx = speed * math.cos(rad)\n        self.vy = -speed * math.sin(rad)\n        self.active = True\n\n    def update(self):\n        self.x += self.vx\n        self.vy += GRAVITY\n        self.y += self.vy\n        if self.y > 550: self.active = False\n\n    def draw(self, screen):\n        pygame.draw.circle(screen, (50,50,50), (int(self.x), int(self.y)), 8)\n\n# 碰撞检测\ndef check_hit(bullet, target):\n    dist = math.sqrt((bullet.x - target.x)**2 + (bullet.y - target.y)**2)\n    return dist < target.radius + 8\n\n# 创建爆炸\ndef create_explosion(x, y):\n    return [Particle(x, y) for _ in range(20)]\n\n# 游戏对象\ntargets = [Target(600, 500), Target(500, 450), Target(700, 480)]\nbullets = []\nparticles = []\nscore = 0\n\nrunning = True\nwhile running:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running = False\n        if event.type == pygame.KEYUP:\n            if event.key == pygame.K_SPACE:\n                bullets.append(Bullet(80, 480, 15, 45))\n\n    screen.fill((135, 206, 235))\n    pygame.draw.rect(screen, (34, 139, 34), (0, 550, 800, 50))\n\n    # 更新炮弹\n    for bullet in bullets[:]:\n        bullet.update()\n        bullet.draw(screen)\n\n        # 检测碰撞\n        for target in targets:\n            if target.alive and check_hit(bullet, target):\n                target.alive = False\n                bullet.active = False\n                particles.extend(create_explosion(target.x, target.y))\n                score += 100\n\n    bullets = [b for b in bullets if b.active]\n\n    # 更新粒子\n    for p in particles[:]:\n        p.update()\n        p.draw(screen)\n    particles = [p for p in particles if p.life > 0]\n\n    # 绘制目标\n    for target in targets:\n        target.draw(screen)\n\n    pygame.display.flip()\n    pygame.time.delay(16)\n\npygame.quit()\n```\n\n---\n\n## 变体示例\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 爆炸效果太弱 | 增加粒子数量 | 把20改成50 |\n| 想加音效 | 加载wav文件 | 碰撞时播放explosion_sound.play() |\n| 想加关卡 | 设计关卡系统 | 消灭所有目标后进入下一关 |\n\n---\n\n## 禁忌提醒\n\n- ❌ 音频格式不支持——推荐使用wav或ogg\n- ❌ 粒子太多导致卡顿——控制粒子数量和生命周期\n\n---\n\n## 核心知识点\n\n- 音频加载：`pygame.mixer.Sound()` / `pygame.mixer.music`\n- 粒子系统：随机方向、速度、颜色\n- 碰撞响应：检测到碰撞后触发效果\n- 生命周期：粒子逐渐消失\n\n---\n\n## 底层逻辑\n\n- **粒子系统**：大量简单对象模拟复杂效果\n- **游戏完整性**：视觉+音效+交互\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-22-11-001]\n\n---\n\n[上一课](PYAI-2-2-10_举重若轻2.md) | [下一课](PYAI-2-2-12_阶段复习.md) | [返回模块概览](_模块概览.md)\n"
}