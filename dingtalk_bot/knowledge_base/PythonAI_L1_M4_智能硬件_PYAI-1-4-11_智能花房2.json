{
  "title": "[PYAI-1-4-11] 智能花房(2) - 可视化智能灌溉",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\PythonAI\\L1\\M4_智能硬件\\PYAI-1-4-11_智能花房2.md",
  "sections": [
    {
      "title": "课程基本信息",
      "content": "| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI-1-4-11 |\n| **课程名称** | 智能花房(2) - 可视化智能灌溉 |\n| **认知负荷** | 高 |\n| **核心技能** | OLED屏幕显示、数据可视化、多传感器融合 |\n| **课时** | 90分钟 |\n| **系列** | 智能花房（2/2） |\n\n---"
    },
    {
      "title": "详细教学流程",
      "content": "### 步骤1：课程回顾（5分钟）\n\n`#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了自动浇水系统。但是，我们只能通过电脑看数据。今天我们要把数据显示在**OLED屏幕**上，让花房更智能！\"\n\n---\n\n### 步骤2：知识讲解（15分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"**OLED屏幕**是一种小型显示屏：\n> - 分辨率：128×64像素\n> - 可以显示文字、数字、图形\n> - 自发光，不需要背光\n>\n> **显示函数**：\n> ```python\n> from mpython import *\n>\n> # 清屏\n> oled.fill(0)\n>\n> # 显示文字（x坐标, y坐标, 内容）\n> oled.DispChar('土壤湿度:', 0, 0)\n> oled.DispChar('750', 0, 16)\n>\n> # 显示英文\n> oled.DispChar('Soil: 750', 0, 32)\n>\n> # 更新显示\n> oled.show()\n> ```\n>\n> **进度条显示**：\n> ```python\n> # 画矩形框（x, y, 宽, 高, 颜色）\n> oled.rect(0, 50, 128, 10, 1)\n>\n> # 填充进度（根据湿度百分比）\n> progress = int(soil_value / 1024 * 128)\n> oled.fill_rect(0, 50, progress, 10, 1)\n> ```\"\n\n**核心代码模式**\n\n```python\nfrom mpython import *\nimport time\n\n# 传感器\nsoil_sensor = Pin(Pin.P0, Pin.IN)\npump = Pin(Pin.P8, Pin.OUT)\n\nDRY_THRESHOLD = 800\n\ndef update_display(soil_value, status):\n    \"\"\"更新OLED显示\"\"\"\n    oled.fill(0)  # 清屏\n\n    # 标题\n    oled.DispChar('智能花房', 32, 0)\n\n    # 土壤湿度\n    oled.DispChar(f'湿度: {soil_value}', 0, 20)\n\n    # 状态\n    oled.DispChar(f'状态: {status}', 0, 36)\n\n    # 进度条\n    oled.rect(0, 52, 128, 10, 1)\n    progress = min(128, int((1024 - soil_value) / 1024 * 128))\n    oled.fill_rect(0, 52, progress, 10, 1)\n\n    oled.show()\n\nwhile True:\n    soil_value = soil_sensor.read_analog()\n\n    if soil_value > DRY_THRESHOLD:\n        update_display(soil_value, '浇水中...')\n        pump.write_digital(1)\n        time.sleep(2)\n        pump.write_digital(0)\n        update_display(soil_value, '等待渗透')\n        time.sleep(30)\n    else:\n        update_display(soil_value, '湿润正常')\n\n    time.sleep(2)\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 中文显示乱码 | 检查字体 | 确认使用DispChar而非text |\n| 进度条方向反 | 调整计算 | 湿度高时进度条应该长 |\n| 想加更多信息 | 分屏显示 | 用按键切换不同页面 |\n\n---\n\n### 步骤3：硬件搭建（20分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"今天使用板载OLED屏幕，不需要额外接线！\n>\n> 硬件连接和上节课一样：\n> - 土壤湿度传感器 → P0\n> - 水泵继电器 → P8\n>\n> 如果想加入更多传感器：\n> - 光线传感器 → 板载\n> - 温度传感器 → P1\"\n\n---\n\n### 步骤4：编程调试（30分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"调试重点：\n>\n> 1. **屏幕显示**：\n>    - 文字位置是否合适\n>    - 中文是否正常显示\n>    - 进度条是否正确\n>\n> 2. **数据更新**：\n>    - 数值是否实时变化\n>    - 状态是否正确切换\n>\n> 3. **整体联调**：\n>    - 浇水时屏幕显示'浇水中'\n>    - 正常时显示'湿润正常'\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 屏幕闪烁 | 减少刷新频率 | 不要每次循环都清屏 |\n| 想加图标 | 用画图函数 | oled.pixel()画点，oled.line()画线 |\n| 想记录历史 | 用列表存储 | 保存最近10次的数值 |\n\n---\n\n### 步骤5：成果展示（10分钟）\n\n`#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"谁的可视化花房做好了？展示一下你的屏幕界面！\n>\n> 挑战：能不能加入更多功能？\n> - 显示当前时间\n> - 显示累计浇水次数\n> - 显示光照强度\"\n\n---"
    },
    {
      "title": "核心知识点",
      "content": "- OLED显示：`oled.DispChar()` 显示文字\n- 清屏和更新：`oled.fill(0)` + `oled.show()`\n- 进度条：`oled.rect()` 画框 + `oled.fill_rect()` 填充\n- 数据可视化：把数值转换为图形\n\n---"
    },
    {
      "title": "底层逻辑",
      "content": "- **人机交互**：数据 → 可视化 → 用户理解\n- **系统集成**：传感器 + 执行器 + 显示器\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-14-11-001]\n\n---\n\n[上一课](PYAI-1-4-10_智能花房1.md) | [返回模块](_模块概览.md) | [下一课](PYAI-1-4-12_家居回顾.md)"
    }
  ],
  "full_content": "# [PYAI-1-4-11] 智能花房(2) - 可视化智能灌溉\n\n> **模块**：L1-M4 智能硬件\n> **认知负荷**：高\n> **核心技能**：OLED屏幕显示、数据可视化、多传感器融合\n> **UID**：PYAI-14-11-001\n\n---\n\n## 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI-1-4-11 |\n| **课程名称** | 智能花房(2) - 可视化智能灌溉 |\n| **认知负荷** | 高 |\n| **核心技能** | OLED屏幕显示、数据可视化、多传感器融合 |\n| **课时** | 90分钟 |\n| **系列** | 智能花房（2/2） |\n\n---\n\n## 详细教学流程\n\n### 步骤1：课程回顾（5分钟）\n\n`#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了自动浇水系统。但是，我们只能通过电脑看数据。今天我们要把数据显示在**OLED屏幕**上，让花房更智能！\"\n\n---\n\n### 步骤2：知识讲解（15分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"**OLED屏幕**是一种小型显示屏：\n> - 分辨率：128×64像素\n> - 可以显示文字、数字、图形\n> - 自发光，不需要背光\n>\n> **显示函数**：\n> ```python\n> from mpython import *\n>\n> # 清屏\n> oled.fill(0)\n>\n> # 显示文字（x坐标, y坐标, 内容）\n> oled.DispChar('土壤湿度:', 0, 0)\n> oled.DispChar('750', 0, 16)\n>\n> # 显示英文\n> oled.DispChar('Soil: 750', 0, 32)\n>\n> # 更新显示\n> oled.show()\n> ```\n>\n> **进度条显示**：\n> ```python\n> # 画矩形框（x, y, 宽, 高, 颜色）\n> oled.rect(0, 50, 128, 10, 1)\n>\n> # 填充进度（根据湿度百分比）\n> progress = int(soil_value / 1024 * 128)\n> oled.fill_rect(0, 50, progress, 10, 1)\n> ```\"\n\n**核心代码模式**\n\n```python\nfrom mpython import *\nimport time\n\n# 传感器\nsoil_sensor = Pin(Pin.P0, Pin.IN)\npump = Pin(Pin.P8, Pin.OUT)\n\nDRY_THRESHOLD = 800\n\ndef update_display(soil_value, status):\n    \"\"\"更新OLED显示\"\"\"\n    oled.fill(0)  # 清屏\n\n    # 标题\n    oled.DispChar('智能花房', 32, 0)\n\n    # 土壤湿度\n    oled.DispChar(f'湿度: {soil_value}', 0, 20)\n\n    # 状态\n    oled.DispChar(f'状态: {status}', 0, 36)\n\n    # 进度条\n    oled.rect(0, 52, 128, 10, 1)\n    progress = min(128, int((1024 - soil_value) / 1024 * 128))\n    oled.fill_rect(0, 52, progress, 10, 1)\n\n    oled.show()\n\nwhile True:\n    soil_value = soil_sensor.read_analog()\n\n    if soil_value > DRY_THRESHOLD:\n        update_display(soil_value, '浇水中...')\n        pump.write_digital(1)\n        time.sleep(2)\n        pump.write_digital(0)\n        update_display(soil_value, '等待渗透')\n        time.sleep(30)\n    else:\n        update_display(soil_value, '湿润正常')\n\n    time.sleep(2)\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 中文显示乱码 | 检查字体 | 确认使用DispChar而非text |\n| 进度条方向反 | 调整计算 | 湿度高时进度条应该长 |\n| 想加更多信息 | 分屏显示 | 用按键切换不同页面 |\n\n---\n\n### 步骤3：硬件搭建（20分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"今天使用板载OLED屏幕，不需要额外接线！\n>\n> 硬件连接和上节课一样：\n> - 土壤湿度传感器 → P0\n> - 水泵继电器 → P8\n>\n> 如果想加入更多传感器：\n> - 光线传感器 → 板载\n> - 温度传感器 → P1\"\n\n---\n\n### 步骤4：编程调试（30分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"调试重点：\n>\n> 1. **屏幕显示**：\n>    - 文字位置是否合适\n>    - 中文是否正常显示\n>    - 进度条是否正确\n>\n> 2. **数据更新**：\n>    - 数值是否实时变化\n>    - 状态是否正确切换\n>\n> 3. **整体联调**：\n>    - 浇水时屏幕显示'浇水中'\n>    - 正常时显示'湿润正常'\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 屏幕闪烁 | 减少刷新频率 | 不要每次循环都清屏 |\n| 想加图标 | 用画图函数 | oled.pixel()画点，oled.line()画线 |\n| 想记录历史 | 用列表存储 | 保存最近10次的数值 |\n\n---\n\n### 步骤5：成果展示（10分钟）\n\n`#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"谁的可视化花房做好了？展示一下你的屏幕界面！\n>\n> 挑战：能不能加入更多功能？\n> - 显示当前时间\n> - 显示累计浇水次数\n> - 显示光照强度\"\n\n---\n\n## 核心知识点\n\n- OLED显示：`oled.DispChar()` 显示文字\n- 清屏和更新：`oled.fill(0)` + `oled.show()`\n- 进度条：`oled.rect()` 画框 + `oled.fill_rect()` 填充\n- 数据可视化：把数值转换为图形\n\n---\n\n## 底层逻辑\n\n- **人机交互**：数据 → 可视化 → 用户理解\n- **系统集成**：传感器 + 执行器 + 显示器\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-14-11-001]\n\n---\n\n[上一课](PYAI-1-4-10_智能花房1.md) | [返回模块](_模块概览.md) | [下一课](PYAI-1-4-12_家居回顾.md)\n"
}