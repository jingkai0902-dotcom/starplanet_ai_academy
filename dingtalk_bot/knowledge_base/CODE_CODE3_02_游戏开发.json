{
  "title": "CODE萃取：CODE3阶段3-2 游戏开发PBL",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\CODE\\CODE3_02_游戏开发.md",
  "sections": [
    {
      "title": "单元概览",
      "content": "| 项目 | 内容 |\n|------|------|\n| **单元编号** | 3-2 |\n| **单元名称** | 游戏开发PBL (Game Development PBL) |\n| **适用年龄** | 三年级（8-9岁） |\n| **课时数** | 12节 × 90分钟（4个大型项目，每个3节课） |\n| **核心目标** | 复杂游戏架构、物理模拟、数据结构（列表）、高级算法 |\n| **主要教具** | Scratch软件（纯软件模块） |\n\n**底层逻辑**\nCODE3-2采用Project-Based Learning(项目制学习)模式，通常3节课为一个完整的大型项目周期，培养学生的系统设计能力。\n\n**单元教学策略**\n- 项目一（01-03）：太空防卫战 - 克隆、变量、冷却机制\n- 项目二（04-06）：篮球小子 - 状态机、物理抛物线\n- 项目三（07-09）：植物大战僵尸 - 列表、网格对齐\n- 项目四（10-12）：勇闯黑白岛 - 重力引擎、卷轴地图\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-001]\n[关联: CODE3-M1-001 CODE智能系统（前置基础）]\n[关联: CODE3-M3-001 CODE高级工程（进阶衔接）]\n[关联: PYAI-13-001 PythonAI数据结构（进阶衔接）]\n\n---"
    },
    {
      "title": "四大PBL项目概览",
      "content": "| 项目 | 课次 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 太空防卫战 | 1-3 | 克隆体、私有变量、冷却时间 | 高 |\n| 篮球小子 | 4-6 | 状态机、抛物线算法 | 高 |\n| 植物大战僵尸 | 7-9 | 列表、网格对齐、射线检测 | 高 |\n| 勇闯黑白岛 | 10-12 | 重力模拟、卷轴地图、敌人AI | 高 |\n\n---"
    },
    {
      "title": "通用PBL教学流程（90分钟）",
      "content": "| 环节 | 时间 | 内容 | 认知负荷 | IFC标签 |\n|------|------|------|----------|---------|\n| 课堂问候 | 2分钟 | 项目进度确认 | `#低负荷-热身` | `#IFC-预防` |\n| 项目回顾 | 5分钟 | 复习上节课完成部分 | `#低负荷-热身` | `#IFC-预防` |\n| 任务分解 | 15分钟 | 本节课目标拆解 | `#中负荷-操练` | `#IFC-即时` |\n| 编程实现 | 40分钟 | 动手编程 | `#高负荷-产出` | `#IFC-即时` |\n| 调试优化 | 15分钟 | 测试、发现Bug、修复 | `#高负荷-产出` | `#IFC-即时` |\n| 项目展示 | 10分钟 | 展示成果、讨论改进 | `#低负荷-热身` | `#IFC-复盘` |\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-FLOW-001]\n\n---"
    },
    {
      "title": "项目一：太空防卫战（第1-3课）",
      "content": "### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第1课 | 基础功能 | 角色绘制、键盘控制、子弹发射 | 中-高 |\n| 第2课 | 变量与克隆 | 克隆体私有变量、全局变量、碰撞检测 | 高 |\n| 第3课 | 大招与平衡 | 冷却时间(Cooldown)、UI设计、音效 | 高 |\n\n---\n\n### 第1课：太空防卫战-基础功能\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-01 |\n| **课程名称** | 太空防卫战-基础功能 |\n| **认知负荷** | 中-高 |\n| **核心技能** | 角色绘制、键盘控制、克隆发射 |\n\n#### 详细教学流程\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"小朋友们，你们玩过太空射击游戏吗？今天我们要做一个自己的太空防卫战！你是宇宙中最勇敢的飞行员，要保护地球不被外星人入侵！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"太空防卫战需要哪些元素？\n> 1. **战机**：我们控制的主角\n> 2. **子弹**：战机发射的武器\n> 3. **敌机**：从四面八方飞来的敌人\n>\n> 今天我们先完成战机和子弹！\n>\n> 战机的控制逻辑：\n> - 按左键 → 战机向左移动\n> - 按右键 → 战机向右移动\n> - 按上键 → 战机向上移动\n> - 按下键 → 战机向下移动\n> - 按空格 → 发射子弹\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 移动太慢 | 增加步数 | 从5步改为10步 |\n| 想用WASD | 修改按键 | 用W/A/S/D替代方向键 |\n| 战机出界 | 添加边界检测 | 碰到边缘就停止 |\n\n**核心代码模式**\n```\n// 战机移动\n当绿旗被点击\n重复执行\n  如果 <按下 [左移] 键?> 那么\n    将 x 增加 (-10)\n  结束\n  如果 <按下 [右移] 键?> 那么\n    将 x 增加 (10)\n  结束\n  如果 <按下 [上移] 键?> 那么\n    将 y 增加 (10)\n  结束\n  如果 <按下 [下移] 键?> 那么\n    将 y 增加 (-10)\n  结束\n结束\n\n// 子弹发射\n当按下 [空格] 键\n克隆 [子弹]\n\n// 子弹角色脚本\n当作为克隆体启动时\n移到 [战机] 位置\n显示\n重复执行直到 <碰到边缘?>\n  将 y 增加 (15)\n结束\n删除此克隆体\n```\n\n---\n\n**步骤3：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长好！今天是太空防卫战项目的第一课。孩子们学习了：\n> 1. **键盘控制**：用按键控制角色移动\n> 2. **克隆技术**：一个子弹角色可以克隆出无数子弹\n> 3. **角色通信**：子弹知道战机在哪里\n>\n> 这是游戏开发的基础技能！\"\n\n---\n\n**核心知识点**\n- 键盘控制：检测按键并执行对应动作\n- 克隆技术：创建角色的副本\n- 坐标移动：通过改变x/y坐标实现移动\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-01-001]\n\n---\n\n### 第2课：太空防卫战-变量与克隆\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-02 |\n| **课程名称** | 太空防卫战-变量与克隆 |\n| **认知负荷** | 高 |\n| **核心技能** | 克隆体私有变量、全局变量、碰撞检测 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了战机和子弹，今天要加入敌机！敌机会从四面八方飞来，被子弹打中就消失，打中战机游戏就结束！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"敌机的逻辑比较复杂：\n>\n> 1. **随机出现**：从上、下、左、右四个方向随机出现\n> 2. **朝战机飞**：敌机要朝着战机的方向移动\n> 3. **碰撞检测**：\n>    - 敌机碰到子弹 → 敌机消失，得分+1\n>    - 敌机碰到战机 → 游戏结束\n>\n> 这里有个重要概念：**私有变量**！\n>\n> 每个敌机克隆体都有自己的'出生方向'，这个变量只属于这个克隆体，叫'私有变量'。\n> 而'得分'是所有角色共享的，叫'全局变量'。\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 敌机太多 | 减少生成频率 | 等待时间从1秒改为2秒 |\n| 敌机太快 | 降低移动速度 | 从5步改为3步 |\n| 混淆私有/全局 | 用盒子类比 | \"私有变量是每个人自己的盒子\" |\n\n**核心代码模式**\n```\n// 敌机生成（敌机角色脚本）\n当绿旗被点击\n隐藏\n重复执行\n  等待 (在 1 到 2 之间取随机数) 秒\n  克隆 [自己]\n结束\n\n// 敌机克隆体行为\n当作为克隆体启动时\n将 [出生方向] 设为 (在 1 到 4 之间取随机数)  // 私有变量\n如果 <(出生方向) = (1)> 那么\n  移到 x: (在 -200 到 200 之间取随机数) y: (180)  // 从上方\n结束\n如果 <(出生方向) = (2)> 那么\n  移到 x: (在 -200 到 200 之间取随机数) y: (-180) // 从下方\n结束\n如果 <(出生方向) = (3)> 那么\n  移到 x: (-240) y: (在 -150 到 150 之间取随机数) // 从左方\n结束\n如果 <(出生方向) = (4)> 那么\n  移到 x: (240) y: (在 -150 到 150 之间取随机数)  // 从右方\n结束\n显示\n重复执行\n  面向 [战机] 方向\n  移动 (3) 步\n  如果 <碰到 [子弹] ?> 那么\n    将 [得分] 增加 (1)  // 全局变量\n    删除此克隆体\n  结束\n  如果 <碰到 [战机] ?> 那么\n    广播 [游戏结束]\n    删除此克隆体\n  结束\n结束\n```\n\n**禁忌提醒**\n❌ 不要把私有变量设为\"适用于所有角色\"——会导致所有敌机行为相同\n❌ 不要忘记删除克隆体——会导致内存溢出\n\n---\n\n**核心知识点**\n- 私有变量：只属于当前克隆体的变量\n- 全局变量：所有角色共享的变量\n- 碰撞检测：检测两个角色是否接触\n- 随机生成：用随机数决定出现位置\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-02-001]\n\n---\n\n### 第3课：太空防卫战-大招与平衡\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-03 |\n| **课程名称** | 太空防卫战-大招与平衡 |\n| **认知负荷** | 高 |\n| **核心技能** | 冷却时间(Cooldown)、UI设计、游戏平衡 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们的太空防卫战已经有战机、子弹、敌机了！但是游戏还不够刺激。今天我们要加入'大招'——一个超强的技能，可以清除屏幕上所有敌机！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"大招太强了，如果随时都能用，游戏就太简单了。所以我们要加入'冷却时间'！\n>\n> 冷却时间的逻辑：\n> 1. 按Q键释放大招\n> 2. 大招释放后，开始10秒倒计时\n> 3. 倒计时结束前，不能再次释放\n> 4. 倒计时结束，大招可用\n>\n> 这就是游戏设计中的'平衡性'——让游戏不会太简单也不会太难！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 冷却太长 | 减少冷却时间 | 从10秒改为5秒 |\n| 想要多种大招 | 添加不同技能 | 护盾、加速等 |\n| UI不清晰 | 添加进度条 | 显示冷却剩余时间 |\n\n**核心代码模式**\n```\n// 大招系统\n当绿旗被点击\n将 [冷却时间] 设为 (0)\n将 [大招可用] 设为 [是]\n\n// 冷却倒计时\n当绿旗被点击\n重复执行\n  如果 <(冷却时间) > (0)> 那么\n    将 [大招可用] 设为 [否]\n    等待 (1) 秒\n    将 [冷却时间] 增加 (-1)\n  否则\n    将 [大招可用] 设为 [是]\n  结束\n结束\n\n// 释放大招\n当按下 [q] 键\n如果 <(大招可用) = [是]> 那么\n  广播 [大招发动]\n  播放声音 [爆炸]\n  将 [冷却时间] 设为 (10)\n结束\n\n// 敌机响应大招\n当收到 [大招发动]\n删除此克隆体\n```\n\n---\n\n**步骤3：UI设计（10分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"一个好游戏需要好的界面设计：\n> 1. **得分显示**：让玩家知道打了多少敌机\n> 2. **冷却显示**：让玩家知道大招什么时候可用\n> 3. **开始界面**：游戏开始前的标题画面\n> 4. **结束界面**：游戏结束时显示最终得分\"\n\n---\n\n**步骤4：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！太空防卫战项目完成了！三节课下来，孩子们学会了：\n> 1. **克隆技术**：批量创建游戏对象\n> 2. **变量系统**：私有变量vs全局变量\n> 3. **冷却机制**：游戏平衡性设计\n> 4. **UI设计**：用户界面的重要性\n>\n> 这是一个完整的游戏开发流程！\"\n\n---\n\n**核心知识点**\n- 冷却时间(Cooldown)：技能使用后的等待时间\n- 游戏平衡：通过数值调整控制游戏难度\n- UI设计：得分、冷却条、开始/结束界面\n- 广播机制：一对多的消息传递\n\n**底层逻辑**\n- **游戏设计**：平衡性是游戏可玩性的关键\n- **用户体验**：清晰的UI让玩家更容易上手\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-03-001]\n\n---"
    },
    {
      "title": "项目二：篮球小子（第4-6课）",
      "content": "### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第4课 | 投篮物理 | 状态机（运球vs投篮）、造型切换 | 高 |\n| 第5课 | 力度与角度 | 局部变量、游标控制 | 高 |\n| 第6课 | 关卡与判定 | 抛物线算法、关卡切换、碰撞侦测 | 高 |\n\n---\n\n### 第4课：篮球小子-投篮物理\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-04 |\n| **课程名称** | 篮球小子-投篮物理 |\n| **认知负荷** | 高 |\n| **核心技能** | 状态机、造型切换、角色动画 |\n\n#### 详细教学流程\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"小朋友们，你们喜欢打篮球吗？今天我们要做一个投篮游戏！你要控制一个篮球运动员，瞄准篮筐，把球投进去！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"篮球运动员有两种状态：\n> 1. **运球状态**：球在手上，可以移动位置\n> 2. **投篮状态**：球飞出去，运动员不能动\n>\n> 这就是'状态机'的概念！程序根据当前状态决定能做什么。\n>\n> 运球状态时：\n> - 按左右键移动位置\n> - 按空格键进入投篮状态\n>\n> 投篮状态时：\n> - 球飞向篮筐\n> - 等球落地后回到运球状态\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解状态机 | 用红绿灯类比 | \"红灯时只能停，绿灯时才能走\" |\n| 造型切换混乱 | 画状态图 | 画出两种状态和切换条件 |\n| 想增加功能 | 添加跳投 | 投篮时角色跳起来 |\n\n**核心代码模式**\n```\n// 状态机控制\n当绿旗被点击\n将 [游戏状态] 设为 [运球]\n重复执行\n  如果 <(游戏状态) = [运球]> 那么\n    将造型设为 [运球造型]\n    如果 <按下 [左移] 键?> 那么\n      将 x 增加 (-5)\n    结束\n    如果 <按下 [右移] 键?> 那么\n      将 x 增加 (5)\n    结束\n    如果 <按下 [空格] 键?> 那么\n      将 [游戏状态] 设为 [投篮]\n      广播 [开始投篮]\n    结束\n  结束\n结束\n```\n\n**禁忌提醒**\n❌ 不要在投篮状态允许移动——会导致逻辑混乱\n❌ 不要忘记状态切换——球落地后要回到运球状态\n\n---\n\n**核心知识点**\n- 状态机：程序根据当前状态决定行为\n- 造型切换：不同状态显示不同造型\n- 状态变量：用变量记录当前状态\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-04-001]\n\n---\n\n### 第5课：篮球小子-力度与角度\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-05 |\n| **课程名称** | 篮球小子-力度与角度 |\n| **认知负荷** | 高 |\n| **核心技能** | 力度条、角度控制、游标系统 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了状态机，运动员可以运球和投篮了。但是投篮的力度和角度怎么控制呢？今天我们来加入力度条和角度控制！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"力度控制的原理：\n> 1. 屏幕上有一个来回移动的游标\n> 2. 游标在左边 → 力度小\n> 3. 游标在右边 → 力度大\n> 4. 按空格键时，记录游标位置作为力度\n>\n> 角度控制也类似：\n> 1. 另一个游标控制投篮角度\n> 2. 游标位置决定球飞出的方向\n>\n> 这样玩家需要把握时机，在合适的位置按下空格！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 游标太快 | 降低移动速度 | 从5步改为3步 |\n| 想简化操作 | 只控制力度 | 角度固定为45度 |\n| 想增加难度 | 游标加速 | 游标速度逐渐变快 |\n\n**核心代码模式**\n```\n// 力度游标（力度条角色）\n当绿旗被点击\n移到 x: (-100) y: (-150)\n将 [方向] 设为 (1)\n重复执行\n  如果 <(游戏状态) = [运球]> 那么\n    将 x 增加 ((方向) * 5)\n    如果 <(x) > (100)> 那么\n      将 [方向] 设为 (-1)\n    结束\n    如果 <(x) < (-100)> 那么\n      将 [方向] 设为 (1)\n    结束\n  结束\n结束\n\n// 记录力度\n当按下 [空格] 键\n如果 <(游戏状态) = [运球]> 那么\n  将 [投篮力度] 设为 ((x) + 100)  // 0-200的范围\n  将 [投篮力度] 设为 ((投篮力度) / 20)  // 转换为0-10的力度\n结束\n```\n\n---\n\n**步骤3：角度控制（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"角度控制的代码和力度类似，但我们用Y坐标来表示角度：\n> - Y坐标高 → 角度大（高抛）\n> - Y坐标低 → 角度小（平射）\n>\n> 投篮角度一般在30度到70度之间效果最好！\"\n\n**核心代码模式**\n```\n// 角度游标\n当绿旗被点击\n移到 x: (-150) y: (0)\n将 [角度方向] 设为 (1)\n重复执行\n  如果 <(游戏状态) = [瞄准角度]> 那么\n    将 y 增加 ((角度方向) * 3)\n    如果 <(y) > (50)> 那么\n      将 [角度方向] 设为 (-1)\n    结束\n    如果 <(y) < (-50)> 那么\n      将 [角度方向] 设为 (1)\n    结束\n  结束\n结束\n\n// 记录角度\n当按下 [空格] 键\n如果 <(游戏状态) = [瞄准角度]> 那么\n  将 [投篮角度] 设为 (30 + ((y) + 50) * 0.4)  // 30-70度\n结束\n```\n\n---\n\n**核心知识点**\n- 游标系统：来回移动的指示器\n- 力度控制：游标位置决定力度大小\n- 角度控制：游标位置决定投篮角度\n- 时机把握：玩家需要在合适时机按键\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-05-001]\n\n---\n\n### 第6课：篮球小子-关卡与判定\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-06 |\n| **课程名称** | 篮球小子-关卡与判定 |\n| **认知负荷** | 高 |\n| **核心技能** | 抛物线算法、碰撞检测、关卡系统 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们已经有了力度和角度控制，今天要让球真正飞起来！球在空中的轨迹是什么形状？对，是抛物线！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"抛物线的物理原理：\n> 1. **水平方向**：匀速运动，X每次增加固定值\n> 2. **垂直方向**：先上升后下降，Y速度逐渐减小\n>\n> 代码逻辑：\n> ```\n> X速度 = 力度 × cos(角度)  // 水平分量\n> Y速度 = 力度 × sin(角度)  // 垂直分量\n>\n> 每帧：\n>   X增加（X速度）  // 水平匀速\n>   Y增加（Y速度）  // 垂直变速\n>   Y速度减少1     // 重力作用\n> ```\n>\n> 这就是物理课学的抛体运动！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解三角函数 | 简化公式 | 用固定比例代替sin/cos |\n| 球飞太远/太近 | 调整力度系数 | 修改力度的乘数 |\n| 想增加功能 | 添加风力 | X速度受风力影响 |\n\n**核心代码模式**\n```\n// 篮球飞行（篮球角色）\n当收到 [开始投篮]\n移到 [运动员] 位置\n显示\n// 简化版：用角度45度近似\n将 [X速度] 设为 ((投篮力度) * 0.7)\n将 [Y速度] 设为 ((投篮力度) * 0.7)\n重复执行直到 <<碰到 [地面] ?> 或 <碰到 [篮筐] ?>>\n  将 x 增加 (X速度)\n  将 y 增加 (Y速度)\n  将 [Y速度] 增加 (-0.5)  // 重力\n结束\n如果 <碰到 [篮筐] ?> 那么\n  将 [得分] 增加 (1)\n  播放声音 [进球]\n  说 [好球！] (1) 秒\n结束\n隐藏\n将 [游戏状态] 设为 [运球]\n```\n\n---\n\n**步骤3：关卡系统（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"一个好游戏需要多个关卡！每个关卡篮筐的位置不同：\n> - 第1关：篮筐在近处\n> - 第2关：篮筐在远处\n> - 第3关：篮筐在高处\n>\n> 每进3个球就进入下一关！\"\n\n**核心代码模式**\n```\n// 关卡控制\n当绿旗被点击\n将 [关卡] 设为 (1)\n将 [本关得分] 设为 (0)\n广播 [设置关卡]\n\n当收到 [设置关卡]\n如果 <(关卡) = (1)> 那么\n  篮筐移到 x: (150) y: (50)\n结束\n如果 <(关卡) = (2)> 那么\n  篮筐移到 x: (200) y: (50)\n结束\n如果 <(关卡) = (3)> 那么\n  篮筐移到 x: (150) y: (100)\n结束\n\n// 进球后检查关卡\n当 [得分] 变化时\n将 [本关得分] 增加 (1)\n如果 <(本关得分) >= (3)> 那么\n  将 [关卡] 增加 (1)\n  将 [本关得分] 设为 (0)\n  说 (连接 [恭喜进入第] 和 (关卡) 和 [关！])\n  广播 [设置关卡]\n结束\n```\n\n---\n\n**步骤4：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！篮球小子项目完成了！三节课下来，孩子们学会了：\n> 1. **状态机**：程序根据状态决定行为\n> 2. **游标控制**：力度和角度的交互设计\n> 3. **抛物线算法**：物理运动的编程实现\n> 4. **关卡系统**：游戏难度递进设计\n>\n> 这是一个完整的物理模拟游戏！\"\n\n---\n\n**核心知识点**\n- 抛物线运动：水平匀速+垂直变速\n- 碰撞检测：检测球是否进入篮筐\n- 关卡系统：根据得分切换关卡\n- 物理模拟：用代码模拟真实物理\n\n**底层逻辑**\n- **物理与编程**：将物理知识转化为代码\n- **游戏设计**：关卡递进增加可玩性\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-06-001]\n\n---"
    },
    {
      "title": "项目三：植物大战僵尸（第7-9课）",
      "content": "### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第7课 | 阳光与种植 | 阳光掉落、鼠标跟随、网格对齐 | 高 |\n| 第8课 | 射手与子弹 | 射线检测、克隆体通信 | 高 |\n| 第9课 | 僵尸潮 | 列表(List)应用、胜负判定 | 高 |\n\n---\n\n### 第7课：植物大战僵尸-阳光与种植\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-07 |\n| **课程名称** | 植物大战僵尸-阳光与种植 |\n| **认知负荷** | 高 |\n| **核心技能** | 阳光掉落、鼠标跟随、网格对齐 |\n\n#### 详细教学流程\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"小朋友们，你们玩过植物大战僵尸吗？这是一个超级经典的塔防游戏！今天开始，我们要用三节课的时间，自己做一个植物大战僵尸！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"植物大战僵尸有几个核心元素：\n> 1. **阳光**：从天上掉下来，点击收集\n> 2. **植物**：用阳光购买，种在草坪上\n> 3. **僵尸**：从右边走过来，要被植物消灭\n>\n> 今天我们先做阳光系统和种植系统！\n>\n> 阳光的逻辑：\n> - 阳光从天上随机位置掉落\n> - 点击阳光，阳光消失，阳光值+25\n>\n> 种植的逻辑：\n> - 点击植物卡片，植物跟随鼠标\n> - 点击草坪，植物种下（要对齐格子！）\n> - 阳光值减少\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 阳光掉太快 | 调整下落速度 | 从-3改为-2 |\n| 网格对齐困难 | 简化格子 | 先用5×3的大格子 |\n| 想增加功能 | 添加向日葵 | 向日葵可以生产阳光 |\n\n**核心代码模式**\n```\n// 阳光掉落（阳光角色）\n当绿旗被点击\n隐藏\n重复执行\n  等待 (在 3 到 8 之间取随机数) 秒\n  克隆 [自己]\n结束\n\n当作为克隆体启动时\n移到 x: (在 -200 到 200 之间取随机数) y: (180)\n显示\n重复执行直到 <(y) < (-100)>\n  将 y 增加 (-2)\n  如果 <碰到 [鼠标指针] ?> 那么\n    如果 <按下鼠标?> 那么\n      将 [阳光值] 增加 (25)\n      播放声音 [收集]\n      删除此克隆体\n    结束\n  结束\n结束\n删除此克隆体\n\n// 网格对齐算法\n// 草坪格子：每格80像素宽，60像素高\n// 左上角起点：x=-200, y=100\n当按下鼠标\n如果 <(种植模式) = [是]> 那么\n  // 计算对齐后的格子位置\n  将 [格子X] 设为 (取整 (((鼠标x) + 200) / 80))\n  将 [格子Y] 设为 (取整 ((100 - (鼠标y)) / 60))\n  // 转换回实际坐标\n  将 [种植X] 设为 (-200 + (格子X) * 80 + 40)\n  将 [种植Y] 设为 (100 - (格子Y) * 60 - 30)\n  // 种植植物\n  移到 x: (种植X) y: (种植Y)\n  将 [种植模式] 设为 [否]\n结束\n```\n\n**禁忌提醒**\n❌ 不要让阳光掉出屏幕外——设置边界检测\n❌ 不要忘记网格对齐——植物乱放会很丑\n\n---\n\n**核心知识点**\n- 阳光掉落：克隆+随机位置+下落动画\n- 鼠标跟随：植物跟随鼠标移动\n- 网格对齐：坐标取整算法，让植物对齐格子\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-07-001]\n\n---\n\n### 第8课：植物大战僵尸-射手与子弹\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-08 |\n| **课程名称** | 植物大战僵尸-射手与子弹 |\n| **认知负荷** | 高 |\n| **核心技能** | 射线检测、克隆体通信、攻击逻辑 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了阳光收集和植物种植。今天要让植物'活'起来——豌豆射手要发射豌豆！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"豌豆射手的攻击逻辑：\n> 1. 检测同一行有没有僵尸（射线检测）\n> 2. 如果有僵尸，发射豌豆\n> 3. 豌豆飞行，碰到僵尸就消失，僵尸扣血\n>\n> 什么是'射线检测'？\n> - 想象豌豆射手往右边'看'\n> - 如果看到僵尸，就开火\n> - 如果没看到，就不发射（节省资源）\n>\n> 这里有个难点：豌豆射手是克隆体，僵尸也是克隆体，它们怎么通信？\n> - 用'私有变量'记录每个克隆体的行号\n> - 豌豆射手只攻击同一行的僵尸\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 射线检测困难 | 简化逻辑 | 先做\"一直发射\"，再优化 |\n| 豌豆太慢 | 调整速度 | 从10步改为15步 |\n| 想增加植物 | 添加寒冰射手 | 豌豆变蓝色，僵尸减速 |\n\n**核心代码模式**\n```\n// 豌豆射手（种下后的行为）\n当作为克隆体启动时\n将 [我的行号] 设为 (格子Y)  // 私有变量，记录在哪一行\n显示\n重复执行\n  // 射线检测：检查同一行有没有僵尸\n  将 [检测到僵尸] 设为 [否]\n  // 遍历检测（简化版：直接检测颜色）\n  如果 <颜色 [绿色] 碰到 [僵尸颜色] ?> 那么\n    将 [检测到僵尸] 设为 [是]\n  结束\n\n  如果 <(检测到僵尸) = [是]> 那么\n    // 发射豌豆\n    广播 (连接 [发射豌豆-行] 和 (我的行号))\n    等待 (1.5) 秒  // 攻击间隔\n  结束\n结束\n\n// 豌豆角色\n当收到 [发射豌豆-行0]  // 第0行的豌豆\n克隆 [自己]\n\n当作为克隆体启动时\n将 [豌豆行号] 设为 (0)  // 根据消息设置行号\n移到 [发射位置]\n显示\n重复执行直到 <<碰到边缘?> 或 <碰到 [僵尸] ?>>\n  将 x 增加 (10)\n结束\n如果 <碰到 [僵尸] ?> 那么\n  广播 [僵尸受伤]\n结束\n删除此克隆体\n```\n\n---\n\n**步骤3：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长好！今天孩子们学习了'射线检测'和'克隆体通信'。\n> 1. **射线检测**：让程序'看'到远处的物体\n> 2. **克隆体通信**：多个相似对象之间传递信息\n>\n> 这些是游戏开发中非常重要的技术！\"\n\n---\n\n**核心知识点**\n- 射线检测：检测某个方向上是否有目标\n- 克隆体通信：用广播+私有变量实现\n- 攻击间隔：控制发射频率\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-08-001]\n\n---\n\n### 第9课：植物大战僵尸-僵尸潮\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-09 |\n| **课程名称** | 植物大战僵尸-僵尸潮 |\n| **认知负荷** | 高 |\n| **核心技能** | 列表(List)应用、波次系统、胜负判定 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们已经有了阳光、植物、豌豆，今天要加入最重要的敌人——僵尸！而且不是一个僵尸，是一波一波的僵尸潮！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"僵尸潮的设计需要用到'列表'！\n>\n> 什么是列表？就像一排小格子，每个格子存一个数据：\n> - 列表[僵尸血量]：记录每个僵尸还有多少血\n> - 列表[僵尸行号]：记录每个僵尸在哪一行\n>\n> 波次系统：\n> - 第1波：3个普通僵尸\n> - 第2波：5个普通僵尸\n> - 第3波：3个普通僵尸 + 2个铁桶僵尸\n>\n> 胜负判定：\n> - 胜利：所有波次的僵尸都被消灭\n> - 失败：任何一个僵尸走到最左边\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 列表概念困难 | 用抽屉类比 | \"每个抽屉放一个僵尸的信息\" |\n| 僵尸太强 | 减少血量 | 普通僵尸从3血改为2血 |\n| 想增加难度 | 添加僵尸类型 | 路障僵尸、铁桶僵尸 |\n\n**核心代码模式**\n```\n// 僵尸生成系统\n当绿旗被点击\n删除 [僵尸列表] 的全部项目\n将 [当前波次] 设为 (1)\n将 [本波僵尸数] 设为 (3)\n将 [已生成数] 设为 (0)\n广播 [开始波次]\n\n当收到 [开始波次]\n重复 (本波僵尸数) 次\n  等待 (在 2 到 5 之间取随机数) 秒\n  克隆 [僵尸]\n  将 [已生成数] 增加 (1)\n结束\n\n// 僵尸克隆体行为\n当作为克隆体启动时\n将 [我的血量] 设为 (3)\n将 [我的行号] 设为 (在 0 到 4 之间取随机数)\n// 添加到列表\n将 (我的血量) 加入 [僵尸血量列表]\n将 (我的行号) 加入 [僵尸行号列表]\n// 移动到对应行\n移到 x: (240) y: (100 - (我的行号) * 60 - 30)\n显示\n重复执行\n  将 x 增加 (-1)  // 向左移动\n  // 检测是否被豌豆击中\n  如果 <碰到 [豌豆] ?> 那么\n    将 [我的血量] 增加 (-1)\n    如果 <(我的血量) <= (0)> 那么\n      将 [击杀数] 增加 (1)\n      删除此克隆体\n    结束\n  结束\n  // 检测是否到达终点\n  如果 <(x) < (-220)> 那么\n    广播 [游戏失败]\n    停止 [全部]\n  结束\n结束\n\n// 胜利判定\n当绿旗被点击\n等待直到 <<(当前波次) > (3)> 且 <(击杀数) = (总僵尸数)>>\n广播 [游戏胜利]\n```\n\n---\n\n**步骤3：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！植物大战僵尸项目完成了！三节课下来，孩子们学会了：\n> 1. **阳光系统**：资源收集与管理\n> 2. **网格对齐**：坐标计算与取整\n> 3. **射线检测**：智能攻击判断\n> 4. **列表应用**：批量数据管理\n> 5. **波次系统**：游戏难度设计\n>\n> 这是一个完整的塔防游戏，涉及了很多高级编程概念！\"\n\n---\n\n**核心知识点**\n- 列表(List)：存储多个数据的数据结构\n- 波次系统：分批生成敌人，控制难度曲线\n- 胜负判定：检测游戏结束条件\n\n**底层逻辑**\n- **数据结构**：列表是管理批量数据的基础\n- **游戏设计**：波次系统控制游戏节奏\n- **状态管理**：用变量和列表记录游戏状态\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-09-001]\n\n---"
    },
    {
      "title": "项目四：勇闯黑白岛（第10-12课，典型案例）",
      "content": "### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第10课 | 重力引擎 | 重力模拟、地面检测、二段跳 | 高 |\n| 第11课 | 卷轴地图 | 相对坐标、背景滚动 | 高 |\n| 第12课 | 交互与AI | NPC对话、敌人巡逻AI、机关陷阱 | 高 |\n\n### 详细教学流程（第10课：重力引擎）\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-10 |\n| **课程名称** | 勇闯黑白岛-重力引擎 |\n| **认知负荷** | 高 |\n| **核心技能** | 重力模拟、地面检测、跳跃 |\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"斯斯透过超能眼镜发现，黑白岛上有很多危险的机关... 小白说：'大家不要害怕，我在前面带路。' 可是，小白要怎么跳过这些深坑呢？如果不小心掉下去会怎么样？\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"大家观察一下，小白跳起来的时候，是一直往上飞吗？（不是，会掉下来）\"\n>\n> \"为什么会掉下来？（因为有地心引力/重力）\"\n>\n> \"在编程里，我们怎么模拟重力？是不是让Y坐标一直减小？那什么时候停止减小呢？（碰到地面/黑色的时候）\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解重力 | 扔球演示 | \"你扔一个球，球会一直往上吗？\" |\n| 跳跃太高/太低 | 调整初速度 | 调整\"Y速度设为10\"中的数值 |\n| 想做二段跳 | 增加跳跃次数变量 | 只有跳跃次数<2才能跳 |\n\n---\n\n**步骤3：拆解任务** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"这个游戏太复杂了，我们把它切成小块：\n> - 第一块是'主角移动'\n> - 第二块是'地图设计'\n> - 第三块是'敌人AI'\n>\n> 今天我们先攻克第一块。\"\n\n---\n\n**步骤4：编程实现（40分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"重力模拟的代码逻辑是：\n> ```\n> 重复执行：\n>   将Y速度增加-1  // 重力加速度\n>   将Y坐标增加（Y速度）\n>   如果碰到黑色：\n>     将Y速度设为0  // 停止下落\n> ```\"\n\n---\n\n**步骤5：调试引导（15分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"哎呀，我发现小白跳起来后陷进地里了，这是为什么？是不是地面检测的颜色不对？大家用'取色笔'重新吸一下地面的颜色。\"\n\n**禁忌提醒**\n❌ 颜色检测不准——用取色笔精确取色\n❌ 角色陷入地面——检测点要在角色脚底\n\n---\n\n**核心知识点**\n- 重力模拟：Y速度逐渐减小（负加速度）\n- 地面检测：碰到特定颜色时停止下落\n- 跳跃：将Y速度设为正数\n\n**底层逻辑**\n- **物理模拟**：用代码模拟现实世界的物理规律\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-10-001]\n\n---\n\n### 第11课：勇闯黑白岛-卷轴地图\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-11 |\n| **课程名称** | 勇闯黑白岛-卷轴地图 |\n| **认知负荷** | 高 |\n| **核心技能** | 相对坐标、背景滚动、视差效果 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了重力引擎，小白可以跳跃了！但是地图只有一个屏幕大小，太小了！今天我们要让地图变得无限大——用卷轴地图技术！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"什么是卷轴地图？想象一下古代的卷轴画，画很长，但你只能看到展开的那一部分。\n>\n> 卷轴地图的原理：\n> - 主角始终在屏幕中央\n> - 按右键时，不是主角向右走，而是背景向左移动\n> - 看起来就像主角在前进！\n>\n> 这就是'相对运动'——你坐在火车上，看窗外的树在往后跑，其实是你在往前走！\n>\n> 我们还要做'视差效果'：\n> - 远处的山移动慢\n> - 近处的树移动快\n> - 这样看起来更有立体感！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解相对运动 | 用火车类比 | \"坐火车时树往后跑\" |\n| 背景移动卡顿 | 减少背景数量 | 先用一层背景 |\n| 想增加效果 | 添加云朵层 | 云朵移动最慢 |\n\n**核心代码模式**\n```\n// 主角控制（保持在屏幕中央）\n当绿旗被点击\n移到 x: (0) y: (-50)  // 屏幕中央偏下\n重复执行\n  // 主角不移动X坐标，只处理跳跃\n  如果 <按下 [上移] 键?> 那么\n    如果 <碰到 [黑色] ?> 那么  // 在地面上才能跳\n      将 [Y速度] 设为 (12)\n    结束\n  结束\n  // 重力\n  将 [Y速度] 增加 (-1)\n  将 y 增加 (Y速度)\n  如果 <碰到 [黑色] ?> 那么\n    将 [Y速度] 设为 (0)\n    将 y 增加 (1)  // 微调防止陷入\n  结束\n结束\n\n// 背景滚动（背景角色脚本）\n当绿旗被点击\n重复执行\n  如果 <按下 [右移] 键?> 那么\n    将 x 增加 (-5)  // 背景向左移动\n    广播 [向右移动]\n  结束\n  如果 <按下 [左移] 键?> 那么\n    将 x 增加 (5)   // 背景向右移动\n    广播 [向左移动]\n  结束\n  // 背景循环：当背景移出屏幕时，移到另一边\n  如果 <(x) < (-480)> 那么\n    将 x 增加 (960)\n  结束\n  如果 <(x) > (480)> 那么\n    将 x 增加 (-960)\n  结束\n结束\n\n// 视差效果（远景角色，移动更慢）\n当绿旗被点击\n重复执行\n  如果 <按下 [右移] 键?> 那么\n    将 x 增加 (-2)  // 远景移动慢\n  结束\n  如果 <按下 [左移] 键?> 那么\n    将 x 增加 (2)\n  结束\n结束\n```\n\n**禁忌提醒**\n❌ 不要让主角X坐标改变——会破坏卷轴效果\n❌ 不要忘记背景循环——否则背景会移出屏幕\n\n---\n\n**步骤3：地图拼接（15分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"一张背景图不够长怎么办？我们用多张背景拼接！\n>\n> 技巧：\n> 1. 准备2-3张背景图，首尾能衔接\n> 2. 把它们排成一排\n> 3. 当第一张移出屏幕时，移到最后面\n>\n> 这样就能实现无限循环的地图！\"\n\n---\n\n**核心知识点**\n- 卷轴地图：主角保持屏幕中心，背景移动\n- 相对坐标：背景移动而非角色移动\n- 视差效果：不同层移动速度不同，产生立体感\n- 背景循环：背景移出屏幕后移到另一边\n\n**底层逻辑**\n- **相对运动**：参照物不同，运动描述不同\n- **视觉欺骗**：用背景移动模拟角色移动\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-11-001]\n\n---\n\n### 第12课：勇闯黑白岛-交互与AI\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-12 |\n| **课程名称** | 勇闯黑白岛-交互与AI |\n| **认知负荷** | 高 |\n| **核心技能** | NPC对话、敌人巡逻AI、机关陷阱 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们的勇闯黑白岛已经有了重力和卷轴地图！今天是最后一课，我们要让游戏更有趣——加入NPC对话、敌人AI和机关陷阱！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"今天要做三个功能：\n>\n> 1. **NPC对话**：遇到村民，按空格键可以对话\n> 2. **敌人AI**：怪物会来回巡逻，碰到就掉血\n> 3. **机关陷阱**：踩到陷阱会触发机关\n>\n> 先来看NPC对话的逻辑：\n> - 主角靠近NPC时，显示'按空格对话'提示\n> - 按空格后，NPC说出对话内容\n> - 对话可以用列表存储多句话\n>\n> 敌人AI的逻辑：\n> - 敌人在两个点之间来回走动（巡逻）\n> - 碰到边界就转向\n> - 碰到主角就造成伤害\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 对话太简单 | 添加选项 | 玩家可以选择回答 |\n| 敌人太难 | 减慢速度 | 敌人移动速度降低 |\n| 想增加功能 | 添加商店 | NPC可以买卖道具 |\n\n**核心代码模式**\n```\n// NPC对话系统\n当绿旗被点击\n将 [对话列表] 设为 [你好，勇士！|前方有危险！|小心那些怪物！|祝你好运！]\n将 [当前对话] 设为 (0)\n隐藏变量 [对话提示]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    显示变量 [对话提示]\n    将 [对话提示] 设为 [按空格对话]\n    如果 <按下 [空格] 键?> 那么\n      将 [当前对话] 增加 (1)\n      如果 <(当前对话) > (4)> 那么\n        将 [当前对话] 设为 (1)\n      结束\n      说 (第 (当前对话) 项 [对话列表]) (2) 秒\n      等待 (0.5) 秒\n    结束\n  否则\n    隐藏变量 [对话提示]\n  结束\n结束\n\n// 敌人巡逻AI\n当绿旗被点击\n将 [巡逻方向] 设为 (1)  // 1=向右，-1=向左\n将 [左边界] 设为 (-100)\n将 [右边界] 设为 (100)\n重复执行\n  // 巡逻移动\n  将 x 增加 ((巡逻方向) * 2)\n  // 到达边界就转向\n  如果 <(x) > (右边界)> 那么\n    将 [巡逻方向] 设为 (-1)\n    面向 (-90) 度  // 面向左\n  结束\n  如果 <(x) < (左边界)> 那么\n    将 [巡逻方向] 设为 (1)\n    面向 (90) 度   // 面向右\n  结束\n  // 碰到主角造成伤害\n  如果 <碰到 [主角] ?> 那么\n    广播 [主角受伤]\n    等待 (1) 秒  // 无敌时间\n  结束\n结束\n\n// 机关陷阱\n当绿旗被点击\n将造型设为 [隐藏]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    将造型设为 [触发]\n    播放声音 [陷阱]\n    广播 [陷阱触发]\n    等待 (0.5) 秒\n    // 发射飞镖或落石\n    克隆 [飞镖]\n    等待 (2) 秒\n    将造型设为 [隐藏]\n  结束\n结束\n\n// 主角受伤处理\n当收到 [主角受伤]\n将 [生命值] 增加 (-1)\n将 [虚像] 特效设为 (50)  // 闪烁效果\n等待 (0.2) 秒\n清除图形特效\n如果 <(生命值) <= (0)> 那么\n  广播 [游戏结束]\n结束\n```\n\n---\n\n**步骤3：游戏完善（15分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"最后我们来完善游戏：\n> 1. **生命值系统**：用爱心显示剩余生命\n> 2. **胜利条件**：到达终点旗帜就胜利\n> 3. **开始/结束界面**：让游戏更完整\"\n\n**核心代码模式**\n```\n// 胜利判定\n当绿旗被点击\n重复执行\n  如果 <碰到 [终点旗帜] ?> 那么\n    广播 [游戏胜利]\n    停止 [全部]\n  结束\n结束\n\n// 游戏胜利界面\n当收到 [游戏胜利]\n播放声音 [胜利]\n说 [恭喜通关！] (3) 秒\n```\n\n---\n\n**步骤4：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！勇闯黑白岛项目完成了！这是一个完整的平台跳跃游戏，三节课下来，孩子们学会了：\n> 1. **重力引擎**：物理模拟，让角色能跳跃和下落\n> 2. **卷轴地图**：相对运动，创造无限大的游戏世界\n> 3. **游戏AI**：敌人巡逻、NPC对话、机关陷阱\n>\n> 整个CODE3-2单元，孩子们完成了四个大型游戏项目：\n> - 太空防卫战：克隆、变量、冷却机制\n> - 篮球小子：状态机、抛物线算法\n> - 植物大战僵尸：列表、网格对齐、射线检测\n> - 勇闯黑白岛：重力引擎、卷轴地图、敌人AI\n>\n> 这些都是专业游戏开发的核心技术！孩子们已经具备了独立设计和开发游戏的能力！\"\n\n---\n\n**核心知识点**\n- NPC对话：靠近触发、按键交互、列表存储对话\n- 敌人巡逻AI：边界检测、方向切换、伤害判定\n- 机关陷阱：触发检测、状态切换、克隆发射\n- 生命值系统：变量管理、受伤反馈、游戏结束\n\n**底层逻辑**\n- **游戏AI**：用简单规则模拟智能行为\n- **状态管理**：用变量记录游戏各种状态\n- **完整性**：开始、游戏、结束的完整流程\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-12-001]\n\n---"
    },
    {
      "title": "教学禁忌清单",
      "content": "| 序号 | 禁忌 | 原因 | 正确做法 |\n|------|------|------|----------|\n| 1 | 直接给代码 | 学生产生依赖，遇Bug无法独立解决 | 通过流程图或伪代码讲解逻辑 |\n| 2 | 忽视调试过程 | 学生不会Debug | 引导学生观察现象（\"变量数值在变吗？\"） |\n| 3 | 忽视游戏平衡性 | 游戏太简单没趣味 | 讨论游戏设计，调整数值增加可玩性 |\n| 4 | 只关注功能不关注体验 | 产品不完整 | 强调UI/UX设计（开始界面、胜利特效） |\n| 5 | 项目拆分不清晰 | 学生不知道从哪里下手 | 每节课明确本次目标 |\n\n`#执行层` `#测评项`\n[UID: CODE3-TABOO-002]\n\n---"
    },
    {
      "title": "底层教育学原理",
      "content": "| 原理 | 说明 | 在本单元的应用 |\n|------|------|----------------|\n| **PBL项目制学习** | 通过真实项目驱动学习 | 3节课完成一个完整游戏 |\n| **物理模拟** | 用代码模拟现实物理规律 | 重力、抛物线、碰撞 |\n| **数据结构** | 列表(数组)管理批量数据 | 植物大战僵尸的僵尸状态管理 |\n| **游戏设计** | 平衡性、可玩性、用户体验 | 冷却时间、难度曲线 |\n| **工程迭代** | 设计-实现-测试-优化 | 每节课都有调试环节 |\n\n`#执行层` `#测评项`\n[UID: CODE3-THEORY-002]\n\n---\n\n**质量评估**：10/10（原子化萃取版）\n**已补充**：认知负荷标签、IFC标签、变体示例、详细教师话术\n\n---\n\n**最后更新**：2026-02-09"
    }
  ],
  "full_content": "# CODE萃取：CODE3阶段3-2 游戏开发PBL\n\n> **来源**：NotebookLM Code Lesson Plan (148个来源)\n> **萃取日期**：2026-02-02\n> **萃取深度**：5-5多维度（含认知负荷标签、IFC标签、变体示例）\n> **更新日期**：2026-02-04\n\n---\n\n## 单元概览\n\n| 项目 | 内容 |\n|------|------|\n| **单元编号** | 3-2 |\n| **单元名称** | 游戏开发PBL (Game Development PBL) |\n| **适用年龄** | 三年级（8-9岁） |\n| **课时数** | 12节 × 90分钟（4个大型项目，每个3节课） |\n| **核心目标** | 复杂游戏架构、物理模拟、数据结构（列表）、高级算法 |\n| **主要教具** | Scratch软件（纯软件模块） |\n\n**底层逻辑**\nCODE3-2采用Project-Based Learning(项目制学习)模式，通常3节课为一个完整的大型项目周期，培养学生的系统设计能力。\n\n**单元教学策略**\n- 项目一（01-03）：太空防卫战 - 克隆、变量、冷却机制\n- 项目二（04-06）：篮球小子 - 状态机、物理抛物线\n- 项目三（07-09）：植物大战僵尸 - 列表、网格对齐\n- 项目四（10-12）：勇闯黑白岛 - 重力引擎、卷轴地图\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-001]\n[关联: CODE3-M1-001 CODE智能系统（前置基础）]\n[关联: CODE3-M3-001 CODE高级工程（进阶衔接）]\n[关联: PYAI-13-001 PythonAI数据结构（进阶衔接）]\n\n---\n\n## 四大PBL项目概览\n\n| 项目 | 课次 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 太空防卫战 | 1-3 | 克隆体、私有变量、冷却时间 | 高 |\n| 篮球小子 | 4-6 | 状态机、抛物线算法 | 高 |\n| 植物大战僵尸 | 7-9 | 列表、网格对齐、射线检测 | 高 |\n| 勇闯黑白岛 | 10-12 | 重力模拟、卷轴地图、敌人AI | 高 |\n\n---\n\n## 通用PBL教学流程（90分钟）\n\n| 环节 | 时间 | 内容 | 认知负荷 | IFC标签 |\n|------|------|------|----------|---------|\n| 课堂问候 | 2分钟 | 项目进度确认 | `#低负荷-热身` | `#IFC-预防` |\n| 项目回顾 | 5分钟 | 复习上节课完成部分 | `#低负荷-热身` | `#IFC-预防` |\n| 任务分解 | 15分钟 | 本节课目标拆解 | `#中负荷-操练` | `#IFC-即时` |\n| 编程实现 | 40分钟 | 动手编程 | `#高负荷-产出` | `#IFC-即时` |\n| 调试优化 | 15分钟 | 测试、发现Bug、修复 | `#高负荷-产出` | `#IFC-即时` |\n| 项目展示 | 10分钟 | 展示成果、讨论改进 | `#低负荷-热身` | `#IFC-复盘` |\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-FLOW-001]\n\n---\n\n## 项目一：太空防卫战（第1-3课）\n\n### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第1课 | 基础功能 | 角色绘制、键盘控制、子弹发射 | 中-高 |\n| 第2课 | 变量与克隆 | 克隆体私有变量、全局变量、碰撞检测 | 高 |\n| 第3课 | 大招与平衡 | 冷却时间(Cooldown)、UI设计、音效 | 高 |\n\n---\n\n### 第1课：太空防卫战-基础功能\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-01 |\n| **课程名称** | 太空防卫战-基础功能 |\n| **认知负荷** | 中-高 |\n| **核心技能** | 角色绘制、键盘控制、克隆发射 |\n\n#### 详细教学流程\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"小朋友们，你们玩过太空射击游戏吗？今天我们要做一个自己的太空防卫战！你是宇宙中最勇敢的飞行员，要保护地球不被外星人入侵！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"太空防卫战需要哪些元素？\n> 1. **战机**：我们控制的主角\n> 2. **子弹**：战机发射的武器\n> 3. **敌机**：从四面八方飞来的敌人\n>\n> 今天我们先完成战机和子弹！\n>\n> 战机的控制逻辑：\n> - 按左键 → 战机向左移动\n> - 按右键 → 战机向右移动\n> - 按上键 → 战机向上移动\n> - 按下键 → 战机向下移动\n> - 按空格 → 发射子弹\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 移动太慢 | 增加步数 | 从5步改为10步 |\n| 想用WASD | 修改按键 | 用W/A/S/D替代方向键 |\n| 战机出界 | 添加边界检测 | 碰到边缘就停止 |\n\n**核心代码模式**\n```\n// 战机移动\n当绿旗被点击\n重复执行\n  如果 <按下 [左移] 键?> 那么\n    将 x 增加 (-10)\n  结束\n  如果 <按下 [右移] 键?> 那么\n    将 x 增加 (10)\n  结束\n  如果 <按下 [上移] 键?> 那么\n    将 y 增加 (10)\n  结束\n  如果 <按下 [下移] 键?> 那么\n    将 y 增加 (-10)\n  结束\n结束\n\n// 子弹发射\n当按下 [空格] 键\n克隆 [子弹]\n\n// 子弹角色脚本\n当作为克隆体启动时\n移到 [战机] 位置\n显示\n重复执行直到 <碰到边缘?>\n  将 y 增加 (15)\n结束\n删除此克隆体\n```\n\n---\n\n**步骤3：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长好！今天是太空防卫战项目的第一课。孩子们学习了：\n> 1. **键盘控制**：用按键控制角色移动\n> 2. **克隆技术**：一个子弹角色可以克隆出无数子弹\n> 3. **角色通信**：子弹知道战机在哪里\n>\n> 这是游戏开发的基础技能！\"\n\n---\n\n**核心知识点**\n- 键盘控制：检测按键并执行对应动作\n- 克隆技术：创建角色的副本\n- 坐标移动：通过改变x/y坐标实现移动\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-01-001]\n\n---\n\n### 第2课：太空防卫战-变量与克隆\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-02 |\n| **课程名称** | 太空防卫战-变量与克隆 |\n| **认知负荷** | 高 |\n| **核心技能** | 克隆体私有变量、全局变量、碰撞检测 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了战机和子弹，今天要加入敌机！敌机会从四面八方飞来，被子弹打中就消失，打中战机游戏就结束！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"敌机的逻辑比较复杂：\n>\n> 1. **随机出现**：从上、下、左、右四个方向随机出现\n> 2. **朝战机飞**：敌机要朝着战机的方向移动\n> 3. **碰撞检测**：\n>    - 敌机碰到子弹 → 敌机消失，得分+1\n>    - 敌机碰到战机 → 游戏结束\n>\n> 这里有个重要概念：**私有变量**！\n>\n> 每个敌机克隆体都有自己的'出生方向'，这个变量只属于这个克隆体，叫'私有变量'。\n> 而'得分'是所有角色共享的，叫'全局变量'。\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 敌机太多 | 减少生成频率 | 等待时间从1秒改为2秒 |\n| 敌机太快 | 降低移动速度 | 从5步改为3步 |\n| 混淆私有/全局 | 用盒子类比 | \"私有变量是每个人自己的盒子\" |\n\n**核心代码模式**\n```\n// 敌机生成（敌机角色脚本）\n当绿旗被点击\n隐藏\n重复执行\n  等待 (在 1 到 2 之间取随机数) 秒\n  克隆 [自己]\n结束\n\n// 敌机克隆体行为\n当作为克隆体启动时\n将 [出生方向] 设为 (在 1 到 4 之间取随机数)  // 私有变量\n如果 <(出生方向) = (1)> 那么\n  移到 x: (在 -200 到 200 之间取随机数) y: (180)  // 从上方\n结束\n如果 <(出生方向) = (2)> 那么\n  移到 x: (在 -200 到 200 之间取随机数) y: (-180) // 从下方\n结束\n如果 <(出生方向) = (3)> 那么\n  移到 x: (-240) y: (在 -150 到 150 之间取随机数) // 从左方\n结束\n如果 <(出生方向) = (4)> 那么\n  移到 x: (240) y: (在 -150 到 150 之间取随机数)  // 从右方\n结束\n显示\n重复执行\n  面向 [战机] 方向\n  移动 (3) 步\n  如果 <碰到 [子弹] ?> 那么\n    将 [得分] 增加 (1)  // 全局变量\n    删除此克隆体\n  结束\n  如果 <碰到 [战机] ?> 那么\n    广播 [游戏结束]\n    删除此克隆体\n  结束\n结束\n```\n\n**禁忌提醒**\n❌ 不要把私有变量设为\"适用于所有角色\"——会导致所有敌机行为相同\n❌ 不要忘记删除克隆体——会导致内存溢出\n\n---\n\n**核心知识点**\n- 私有变量：只属于当前克隆体的变量\n- 全局变量：所有角色共享的变量\n- 碰撞检测：检测两个角色是否接触\n- 随机生成：用随机数决定出现位置\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-02-001]\n\n---\n\n### 第3课：太空防卫战-大招与平衡\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-03 |\n| **课程名称** | 太空防卫战-大招与平衡 |\n| **认知负荷** | 高 |\n| **核心技能** | 冷却时间(Cooldown)、UI设计、游戏平衡 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们的太空防卫战已经有战机、子弹、敌机了！但是游戏还不够刺激。今天我们要加入'大招'——一个超强的技能，可以清除屏幕上所有敌机！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"大招太强了，如果随时都能用，游戏就太简单了。所以我们要加入'冷却时间'！\n>\n> 冷却时间的逻辑：\n> 1. 按Q键释放大招\n> 2. 大招释放后，开始10秒倒计时\n> 3. 倒计时结束前，不能再次释放\n> 4. 倒计时结束，大招可用\n>\n> 这就是游戏设计中的'平衡性'——让游戏不会太简单也不会太难！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 冷却太长 | 减少冷却时间 | 从10秒改为5秒 |\n| 想要多种大招 | 添加不同技能 | 护盾、加速等 |\n| UI不清晰 | 添加进度条 | 显示冷却剩余时间 |\n\n**核心代码模式**\n```\n// 大招系统\n当绿旗被点击\n将 [冷却时间] 设为 (0)\n将 [大招可用] 设为 [是]\n\n// 冷却倒计时\n当绿旗被点击\n重复执行\n  如果 <(冷却时间) > (0)> 那么\n    将 [大招可用] 设为 [否]\n    等待 (1) 秒\n    将 [冷却时间] 增加 (-1)\n  否则\n    将 [大招可用] 设为 [是]\n  结束\n结束\n\n// 释放大招\n当按下 [q] 键\n如果 <(大招可用) = [是]> 那么\n  广播 [大招发动]\n  播放声音 [爆炸]\n  将 [冷却时间] 设为 (10)\n结束\n\n// 敌机响应大招\n当收到 [大招发动]\n删除此克隆体\n```\n\n---\n\n**步骤3：UI设计（10分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"一个好游戏需要好的界面设计：\n> 1. **得分显示**：让玩家知道打了多少敌机\n> 2. **冷却显示**：让玩家知道大招什么时候可用\n> 3. **开始界面**：游戏开始前的标题画面\n> 4. **结束界面**：游戏结束时显示最终得分\"\n\n---\n\n**步骤4：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！太空防卫战项目完成了！三节课下来，孩子们学会了：\n> 1. **克隆技术**：批量创建游戏对象\n> 2. **变量系统**：私有变量vs全局变量\n> 3. **冷却机制**：游戏平衡性设计\n> 4. **UI设计**：用户界面的重要性\n>\n> 这是一个完整的游戏开发流程！\"\n\n---\n\n**核心知识点**\n- 冷却时间(Cooldown)：技能使用后的等待时间\n- 游戏平衡：通过数值调整控制游戏难度\n- UI设计：得分、冷却条、开始/结束界面\n- 广播机制：一对多的消息传递\n\n**底层逻辑**\n- **游戏设计**：平衡性是游戏可玩性的关键\n- **用户体验**：清晰的UI让玩家更容易上手\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-03-001]\n\n---\n\n## 项目二：篮球小子（第4-6课）\n\n### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第4课 | 投篮物理 | 状态机（运球vs投篮）、造型切换 | 高 |\n| 第5课 | 力度与角度 | 局部变量、游标控制 | 高 |\n| 第6课 | 关卡与判定 | 抛物线算法、关卡切换、碰撞侦测 | 高 |\n\n---\n\n### 第4课：篮球小子-投篮物理\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-04 |\n| **课程名称** | 篮球小子-投篮物理 |\n| **认知负荷** | 高 |\n| **核心技能** | 状态机、造型切换、角色动画 |\n\n#### 详细教学流程\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"小朋友们，你们喜欢打篮球吗？今天我们要做一个投篮游戏！你要控制一个篮球运动员，瞄准篮筐，把球投进去！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"篮球运动员有两种状态：\n> 1. **运球状态**：球在手上，可以移动位置\n> 2. **投篮状态**：球飞出去，运动员不能动\n>\n> 这就是'状态机'的概念！程序根据当前状态决定能做什么。\n>\n> 运球状态时：\n> - 按左右键移动位置\n> - 按空格键进入投篮状态\n>\n> 投篮状态时：\n> - 球飞向篮筐\n> - 等球落地后回到运球状态\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解状态机 | 用红绿灯类比 | \"红灯时只能停，绿灯时才能走\" |\n| 造型切换混乱 | 画状态图 | 画出两种状态和切换条件 |\n| 想增加功能 | 添加跳投 | 投篮时角色跳起来 |\n\n**核心代码模式**\n```\n// 状态机控制\n当绿旗被点击\n将 [游戏状态] 设为 [运球]\n重复执行\n  如果 <(游戏状态) = [运球]> 那么\n    将造型设为 [运球造型]\n    如果 <按下 [左移] 键?> 那么\n      将 x 增加 (-5)\n    结束\n    如果 <按下 [右移] 键?> 那么\n      将 x 增加 (5)\n    结束\n    如果 <按下 [空格] 键?> 那么\n      将 [游戏状态] 设为 [投篮]\n      广播 [开始投篮]\n    结束\n  结束\n结束\n```\n\n**禁忌提醒**\n❌ 不要在投篮状态允许移动——会导致逻辑混乱\n❌ 不要忘记状态切换——球落地后要回到运球状态\n\n---\n\n**核心知识点**\n- 状态机：程序根据当前状态决定行为\n- 造型切换：不同状态显示不同造型\n- 状态变量：用变量记录当前状态\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-04-001]\n\n---\n\n### 第5课：篮球小子-力度与角度\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-05 |\n| **课程名称** | 篮球小子-力度与角度 |\n| **认知负荷** | 高 |\n| **核心技能** | 力度条、角度控制、游标系统 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了状态机，运动员可以运球和投篮了。但是投篮的力度和角度怎么控制呢？今天我们来加入力度条和角度控制！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"力度控制的原理：\n> 1. 屏幕上有一个来回移动的游标\n> 2. 游标在左边 → 力度小\n> 3. 游标在右边 → 力度大\n> 4. 按空格键时，记录游标位置作为力度\n>\n> 角度控制也类似：\n> 1. 另一个游标控制投篮角度\n> 2. 游标位置决定球飞出的方向\n>\n> 这样玩家需要把握时机，在合适的位置按下空格！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 游标太快 | 降低移动速度 | 从5步改为3步 |\n| 想简化操作 | 只控制力度 | 角度固定为45度 |\n| 想增加难度 | 游标加速 | 游标速度逐渐变快 |\n\n**核心代码模式**\n```\n// 力度游标（力度条角色）\n当绿旗被点击\n移到 x: (-100) y: (-150)\n将 [方向] 设为 (1)\n重复执行\n  如果 <(游戏状态) = [运球]> 那么\n    将 x 增加 ((方向) * 5)\n    如果 <(x) > (100)> 那么\n      将 [方向] 设为 (-1)\n    结束\n    如果 <(x) < (-100)> 那么\n      将 [方向] 设为 (1)\n    结束\n  结束\n结束\n\n// 记录力度\n当按下 [空格] 键\n如果 <(游戏状态) = [运球]> 那么\n  将 [投篮力度] 设为 ((x) + 100)  // 0-200的范围\n  将 [投篮力度] 设为 ((投篮力度) / 20)  // 转换为0-10的力度\n结束\n```\n\n---\n\n**步骤3：角度控制（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"角度控制的代码和力度类似，但我们用Y坐标来表示角度：\n> - Y坐标高 → 角度大（高抛）\n> - Y坐标低 → 角度小（平射）\n>\n> 投篮角度一般在30度到70度之间效果最好！\"\n\n**核心代码模式**\n```\n// 角度游标\n当绿旗被点击\n移到 x: (-150) y: (0)\n将 [角度方向] 设为 (1)\n重复执行\n  如果 <(游戏状态) = [瞄准角度]> 那么\n    将 y 增加 ((角度方向) * 3)\n    如果 <(y) > (50)> 那么\n      将 [角度方向] 设为 (-1)\n    结束\n    如果 <(y) < (-50)> 那么\n      将 [角度方向] 设为 (1)\n    结束\n  结束\n结束\n\n// 记录角度\n当按下 [空格] 键\n如果 <(游戏状态) = [瞄准角度]> 那么\n  将 [投篮角度] 设为 (30 + ((y) + 50) * 0.4)  // 30-70度\n结束\n```\n\n---\n\n**核心知识点**\n- 游标系统：来回移动的指示器\n- 力度控制：游标位置决定力度大小\n- 角度控制：游标位置决定投篮角度\n- 时机把握：玩家需要在合适时机按键\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-05-001]\n\n---\n\n### 第6课：篮球小子-关卡与判定\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-06 |\n| **课程名称** | 篮球小子-关卡与判定 |\n| **认知负荷** | 高 |\n| **核心技能** | 抛物线算法、碰撞检测、关卡系统 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们已经有了力度和角度控制，今天要让球真正飞起来！球在空中的轨迹是什么形状？对，是抛物线！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"抛物线的物理原理：\n> 1. **水平方向**：匀速运动，X每次增加固定值\n> 2. **垂直方向**：先上升后下降，Y速度逐渐减小\n>\n> 代码逻辑：\n> ```\n> X速度 = 力度 × cos(角度)  // 水平分量\n> Y速度 = 力度 × sin(角度)  // 垂直分量\n>\n> 每帧：\n>   X增加（X速度）  // 水平匀速\n>   Y增加（Y速度）  // 垂直变速\n>   Y速度减少1     // 重力作用\n> ```\n>\n> 这就是物理课学的抛体运动！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解三角函数 | 简化公式 | 用固定比例代替sin/cos |\n| 球飞太远/太近 | 调整力度系数 | 修改力度的乘数 |\n| 想增加功能 | 添加风力 | X速度受风力影响 |\n\n**核心代码模式**\n```\n// 篮球飞行（篮球角色）\n当收到 [开始投篮]\n移到 [运动员] 位置\n显示\n// 简化版：用角度45度近似\n将 [X速度] 设为 ((投篮力度) * 0.7)\n将 [Y速度] 设为 ((投篮力度) * 0.7)\n重复执行直到 <<碰到 [地面] ?> 或 <碰到 [篮筐] ?>>\n  将 x 增加 (X速度)\n  将 y 增加 (Y速度)\n  将 [Y速度] 增加 (-0.5)  // 重力\n结束\n如果 <碰到 [篮筐] ?> 那么\n  将 [得分] 增加 (1)\n  播放声音 [进球]\n  说 [好球！] (1) 秒\n结束\n隐藏\n将 [游戏状态] 设为 [运球]\n```\n\n---\n\n**步骤3：关卡系统（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"一个好游戏需要多个关卡！每个关卡篮筐的位置不同：\n> - 第1关：篮筐在近处\n> - 第2关：篮筐在远处\n> - 第3关：篮筐在高处\n>\n> 每进3个球就进入下一关！\"\n\n**核心代码模式**\n```\n// 关卡控制\n当绿旗被点击\n将 [关卡] 设为 (1)\n将 [本关得分] 设为 (0)\n广播 [设置关卡]\n\n当收到 [设置关卡]\n如果 <(关卡) = (1)> 那么\n  篮筐移到 x: (150) y: (50)\n结束\n如果 <(关卡) = (2)> 那么\n  篮筐移到 x: (200) y: (50)\n结束\n如果 <(关卡) = (3)> 那么\n  篮筐移到 x: (150) y: (100)\n结束\n\n// 进球后检查关卡\n当 [得分] 变化时\n将 [本关得分] 增加 (1)\n如果 <(本关得分) >= (3)> 那么\n  将 [关卡] 增加 (1)\n  将 [本关得分] 设为 (0)\n  说 (连接 [恭喜进入第] 和 (关卡) 和 [关！])\n  广播 [设置关卡]\n结束\n```\n\n---\n\n**步骤4：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！篮球小子项目完成了！三节课下来，孩子们学会了：\n> 1. **状态机**：程序根据状态决定行为\n> 2. **游标控制**：力度和角度的交互设计\n> 3. **抛物线算法**：物理运动的编程实现\n> 4. **关卡系统**：游戏难度递进设计\n>\n> 这是一个完整的物理模拟游戏！\"\n\n---\n\n**核心知识点**\n- 抛物线运动：水平匀速+垂直变速\n- 碰撞检测：检测球是否进入篮筐\n- 关卡系统：根据得分切换关卡\n- 物理模拟：用代码模拟真实物理\n\n**底层逻辑**\n- **物理与编程**：将物理知识转化为代码\n- **游戏设计**：关卡递进增加可玩性\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-06-001]\n\n---\n\n## 项目三：植物大战僵尸（第7-9课）\n\n### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第7课 | 阳光与种植 | 阳光掉落、鼠标跟随、网格对齐 | 高 |\n| 第8课 | 射手与子弹 | 射线检测、克隆体通信 | 高 |\n| 第9课 | 僵尸潮 | 列表(List)应用、胜负判定 | 高 |\n\n---\n\n### 第7课：植物大战僵尸-阳光与种植\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-07 |\n| **课程名称** | 植物大战僵尸-阳光与种植 |\n| **认知负荷** | 高 |\n| **核心技能** | 阳光掉落、鼠标跟随、网格对齐 |\n\n#### 详细教学流程\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"小朋友们，你们玩过植物大战僵尸吗？这是一个超级经典的塔防游戏！今天开始，我们要用三节课的时间，自己做一个植物大战僵尸！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"植物大战僵尸有几个核心元素：\n> 1. **阳光**：从天上掉下来，点击收集\n> 2. **植物**：用阳光购买，种在草坪上\n> 3. **僵尸**：从右边走过来，要被植物消灭\n>\n> 今天我们先做阳光系统和种植系统！\n>\n> 阳光的逻辑：\n> - 阳光从天上随机位置掉落\n> - 点击阳光，阳光消失，阳光值+25\n>\n> 种植的逻辑：\n> - 点击植物卡片，植物跟随鼠标\n> - 点击草坪，植物种下（要对齐格子！）\n> - 阳光值减少\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 阳光掉太快 | 调整下落速度 | 从-3改为-2 |\n| 网格对齐困难 | 简化格子 | 先用5×3的大格子 |\n| 想增加功能 | 添加向日葵 | 向日葵可以生产阳光 |\n\n**核心代码模式**\n```\n// 阳光掉落（阳光角色）\n当绿旗被点击\n隐藏\n重复执行\n  等待 (在 3 到 8 之间取随机数) 秒\n  克隆 [自己]\n结束\n\n当作为克隆体启动时\n移到 x: (在 -200 到 200 之间取随机数) y: (180)\n显示\n重复执行直到 <(y) < (-100)>\n  将 y 增加 (-2)\n  如果 <碰到 [鼠标指针] ?> 那么\n    如果 <按下鼠标?> 那么\n      将 [阳光值] 增加 (25)\n      播放声音 [收集]\n      删除此克隆体\n    结束\n  结束\n结束\n删除此克隆体\n\n// 网格对齐算法\n// 草坪格子：每格80像素宽，60像素高\n// 左上角起点：x=-200, y=100\n当按下鼠标\n如果 <(种植模式) = [是]> 那么\n  // 计算对齐后的格子位置\n  将 [格子X] 设为 (取整 (((鼠标x) + 200) / 80))\n  将 [格子Y] 设为 (取整 ((100 - (鼠标y)) / 60))\n  // 转换回实际坐标\n  将 [种植X] 设为 (-200 + (格子X) * 80 + 40)\n  将 [种植Y] 设为 (100 - (格子Y) * 60 - 30)\n  // 种植植物\n  移到 x: (种植X) y: (种植Y)\n  将 [种植模式] 设为 [否]\n结束\n```\n\n**禁忌提醒**\n❌ 不要让阳光掉出屏幕外——设置边界检测\n❌ 不要忘记网格对齐——植物乱放会很丑\n\n---\n\n**核心知识点**\n- 阳光掉落：克隆+随机位置+下落动画\n- 鼠标跟随：植物跟随鼠标移动\n- 网格对齐：坐标取整算法，让植物对齐格子\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-07-001]\n\n---\n\n### 第8课：植物大战僵尸-射手与子弹\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-08 |\n| **课程名称** | 植物大战僵尸-射手与子弹 |\n| **认知负荷** | 高 |\n| **核心技能** | 射线检测、克隆体通信、攻击逻辑 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了阳光收集和植物种植。今天要让植物'活'起来——豌豆射手要发射豌豆！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"豌豆射手的攻击逻辑：\n> 1. 检测同一行有没有僵尸（射线检测）\n> 2. 如果有僵尸，发射豌豆\n> 3. 豌豆飞行，碰到僵尸就消失，僵尸扣血\n>\n> 什么是'射线检测'？\n> - 想象豌豆射手往右边'看'\n> - 如果看到僵尸，就开火\n> - 如果没看到，就不发射（节省资源）\n>\n> 这里有个难点：豌豆射手是克隆体，僵尸也是克隆体，它们怎么通信？\n> - 用'私有变量'记录每个克隆体的行号\n> - 豌豆射手只攻击同一行的僵尸\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 射线检测困难 | 简化逻辑 | 先做\"一直发射\"，再优化 |\n| 豌豆太慢 | 调整速度 | 从10步改为15步 |\n| 想增加植物 | 添加寒冰射手 | 豌豆变蓝色，僵尸减速 |\n\n**核心代码模式**\n```\n// 豌豆射手（种下后的行为）\n当作为克隆体启动时\n将 [我的行号] 设为 (格子Y)  // 私有变量，记录在哪一行\n显示\n重复执行\n  // 射线检测：检查同一行有没有僵尸\n  将 [检测到僵尸] 设为 [否]\n  // 遍历检测（简化版：直接检测颜色）\n  如果 <颜色 [绿色] 碰到 [僵尸颜色] ?> 那么\n    将 [检测到僵尸] 设为 [是]\n  结束\n\n  如果 <(检测到僵尸) = [是]> 那么\n    // 发射豌豆\n    广播 (连接 [发射豌豆-行] 和 (我的行号))\n    等待 (1.5) 秒  // 攻击间隔\n  结束\n结束\n\n// 豌豆角色\n当收到 [发射豌豆-行0]  // 第0行的豌豆\n克隆 [自己]\n\n当作为克隆体启动时\n将 [豌豆行号] 设为 (0)  // 根据消息设置行号\n移到 [发射位置]\n显示\n重复执行直到 <<碰到边缘?> 或 <碰到 [僵尸] ?>>\n  将 x 增加 (10)\n结束\n如果 <碰到 [僵尸] ?> 那么\n  广播 [僵尸受伤]\n结束\n删除此克隆体\n```\n\n---\n\n**步骤3：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长好！今天孩子们学习了'射线检测'和'克隆体通信'。\n> 1. **射线检测**：让程序'看'到远处的物体\n> 2. **克隆体通信**：多个相似对象之间传递信息\n>\n> 这些是游戏开发中非常重要的技术！\"\n\n---\n\n**核心知识点**\n- 射线检测：检测某个方向上是否有目标\n- 克隆体通信：用广播+私有变量实现\n- 攻击间隔：控制发射频率\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-08-001]\n\n---\n\n### 第9课：植物大战僵尸-僵尸潮\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-09 |\n| **课程名称** | 植物大战僵尸-僵尸潮 |\n| **认知负荷** | 高 |\n| **核心技能** | 列表(List)应用、波次系统、胜负判定 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们已经有了阳光、植物、豌豆，今天要加入最重要的敌人——僵尸！而且不是一个僵尸，是一波一波的僵尸潮！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"僵尸潮的设计需要用到'列表'！\n>\n> 什么是列表？就像一排小格子，每个格子存一个数据：\n> - 列表[僵尸血量]：记录每个僵尸还有多少血\n> - 列表[僵尸行号]：记录每个僵尸在哪一行\n>\n> 波次系统：\n> - 第1波：3个普通僵尸\n> - 第2波：5个普通僵尸\n> - 第3波：3个普通僵尸 + 2个铁桶僵尸\n>\n> 胜负判定：\n> - 胜利：所有波次的僵尸都被消灭\n> - 失败：任何一个僵尸走到最左边\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 列表概念困难 | 用抽屉类比 | \"每个抽屉放一个僵尸的信息\" |\n| 僵尸太强 | 减少血量 | 普通僵尸从3血改为2血 |\n| 想增加难度 | 添加僵尸类型 | 路障僵尸、铁桶僵尸 |\n\n**核心代码模式**\n```\n// 僵尸生成系统\n当绿旗被点击\n删除 [僵尸列表] 的全部项目\n将 [当前波次] 设为 (1)\n将 [本波僵尸数] 设为 (3)\n将 [已生成数] 设为 (0)\n广播 [开始波次]\n\n当收到 [开始波次]\n重复 (本波僵尸数) 次\n  等待 (在 2 到 5 之间取随机数) 秒\n  克隆 [僵尸]\n  将 [已生成数] 增加 (1)\n结束\n\n// 僵尸克隆体行为\n当作为克隆体启动时\n将 [我的血量] 设为 (3)\n将 [我的行号] 设为 (在 0 到 4 之间取随机数)\n// 添加到列表\n将 (我的血量) 加入 [僵尸血量列表]\n将 (我的行号) 加入 [僵尸行号列表]\n// 移动到对应行\n移到 x: (240) y: (100 - (我的行号) * 60 - 30)\n显示\n重复执行\n  将 x 增加 (-1)  // 向左移动\n  // 检测是否被豌豆击中\n  如果 <碰到 [豌豆] ?> 那么\n    将 [我的血量] 增加 (-1)\n    如果 <(我的血量) <= (0)> 那么\n      将 [击杀数] 增加 (1)\n      删除此克隆体\n    结束\n  结束\n  // 检测是否到达终点\n  如果 <(x) < (-220)> 那么\n    广播 [游戏失败]\n    停止 [全部]\n  结束\n结束\n\n// 胜利判定\n当绿旗被点击\n等待直到 <<(当前波次) > (3)> 且 <(击杀数) = (总僵尸数)>>\n广播 [游戏胜利]\n```\n\n---\n\n**步骤3：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！植物大战僵尸项目完成了！三节课下来，孩子们学会了：\n> 1. **阳光系统**：资源收集与管理\n> 2. **网格对齐**：坐标计算与取整\n> 3. **射线检测**：智能攻击判断\n> 4. **列表应用**：批量数据管理\n> 5. **波次系统**：游戏难度设计\n>\n> 这是一个完整的塔防游戏，涉及了很多高级编程概念！\"\n\n---\n\n**核心知识点**\n- 列表(List)：存储多个数据的数据结构\n- 波次系统：分批生成敌人，控制难度曲线\n- 胜负判定：检测游戏结束条件\n\n**底层逻辑**\n- **数据结构**：列表是管理批量数据的基础\n- **游戏设计**：波次系统控制游戏节奏\n- **状态管理**：用变量和列表记录游戏状态\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-09-001]\n\n---\n\n## 项目四：勇闯黑白岛（第10-12课，典型案例）\n\n### 项目结构\n\n| 课次 | 内容 | 核心知识点 | 认知负荷 |\n|------|------|------------|----------|\n| 第10课 | 重力引擎 | 重力模拟、地面检测、二段跳 | 高 |\n| 第11课 | 卷轴地图 | 相对坐标、背景滚动 | 高 |\n| 第12课 | 交互与AI | NPC对话、敌人巡逻AI、机关陷阱 | 高 |\n\n### 详细教学流程（第10课：重力引擎）\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-10 |\n| **课程名称** | 勇闯黑白岛-重力引擎 |\n| **认知负荷** | 高 |\n| **核心技能** | 重力模拟、地面检测、跳跃 |\n\n**步骤1：情境引入（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"斯斯透过超能眼镜发现，黑白岛上有很多危险的机关... 小白说：'大家不要害怕，我在前面带路。' 可是，小白要怎么跳过这些深坑呢？如果不小心掉下去会怎么样？\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"大家观察一下，小白跳起来的时候，是一直往上飞吗？（不是，会掉下来）\"\n>\n> \"为什么会掉下来？（因为有地心引力/重力）\"\n>\n> \"在编程里，我们怎么模拟重力？是不是让Y坐标一直减小？那什么时候停止减小呢？（碰到地面/黑色的时候）\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解重力 | 扔球演示 | \"你扔一个球，球会一直往上吗？\" |\n| 跳跃太高/太低 | 调整初速度 | 调整\"Y速度设为10\"中的数值 |\n| 想做二段跳 | 增加跳跃次数变量 | 只有跳跃次数<2才能跳 |\n\n---\n\n**步骤3：拆解任务** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"这个游戏太复杂了，我们把它切成小块：\n> - 第一块是'主角移动'\n> - 第二块是'地图设计'\n> - 第三块是'敌人AI'\n>\n> 今天我们先攻克第一块。\"\n\n---\n\n**步骤4：编程实现（40分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"重力模拟的代码逻辑是：\n> ```\n> 重复执行：\n>   将Y速度增加-1  // 重力加速度\n>   将Y坐标增加（Y速度）\n>   如果碰到黑色：\n>     将Y速度设为0  // 停止下落\n> ```\"\n\n---\n\n**步骤5：调试引导（15分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"哎呀，我发现小白跳起来后陷进地里了，这是为什么？是不是地面检测的颜色不对？大家用'取色笔'重新吸一下地面的颜色。\"\n\n**禁忌提醒**\n❌ 颜色检测不准——用取色笔精确取色\n❌ 角色陷入地面——检测点要在角色脚底\n\n---\n\n**核心知识点**\n- 重力模拟：Y速度逐渐减小（负加速度）\n- 地面检测：碰到特定颜色时停止下落\n- 跳跃：将Y速度设为正数\n\n**底层逻辑**\n- **物理模拟**：用代码模拟现实世界的物理规律\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-10-001]\n\n---\n\n### 第11课：勇闯黑白岛-卷轴地图\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-11 |\n| **课程名称** | 勇闯黑白岛-卷轴地图 |\n| **认知负荷** | 高 |\n| **核心技能** | 相对坐标、背景滚动、视差效果 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"上节课我们做了重力引擎，小白可以跳跃了！但是地图只有一个屏幕大小，太小了！今天我们要让地图变得无限大——用卷轴地图技术！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"什么是卷轴地图？想象一下古代的卷轴画，画很长，但你只能看到展开的那一部分。\n>\n> 卷轴地图的原理：\n> - 主角始终在屏幕中央\n> - 按右键时，不是主角向右走，而是背景向左移动\n> - 看起来就像主角在前进！\n>\n> 这就是'相对运动'——你坐在火车上，看窗外的树在往后跑，其实是你在往前走！\n>\n> 我们还要做'视差效果'：\n> - 远处的山移动慢\n> - 近处的树移动快\n> - 这样看起来更有立体感！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解相对运动 | 用火车类比 | \"坐火车时树往后跑\" |\n| 背景移动卡顿 | 减少背景数量 | 先用一层背景 |\n| 想增加效果 | 添加云朵层 | 云朵移动最慢 |\n\n**核心代码模式**\n```\n// 主角控制（保持在屏幕中央）\n当绿旗被点击\n移到 x: (0) y: (-50)  // 屏幕中央偏下\n重复执行\n  // 主角不移动X坐标，只处理跳跃\n  如果 <按下 [上移] 键?> 那么\n    如果 <碰到 [黑色] ?> 那么  // 在地面上才能跳\n      将 [Y速度] 设为 (12)\n    结束\n  结束\n  // 重力\n  将 [Y速度] 增加 (-1)\n  将 y 增加 (Y速度)\n  如果 <碰到 [黑色] ?> 那么\n    将 [Y速度] 设为 (0)\n    将 y 增加 (1)  // 微调防止陷入\n  结束\n结束\n\n// 背景滚动（背景角色脚本）\n当绿旗被点击\n重复执行\n  如果 <按下 [右移] 键?> 那么\n    将 x 增加 (-5)  // 背景向左移动\n    广播 [向右移动]\n  结束\n  如果 <按下 [左移] 键?> 那么\n    将 x 增加 (5)   // 背景向右移动\n    广播 [向左移动]\n  结束\n  // 背景循环：当背景移出屏幕时，移到另一边\n  如果 <(x) < (-480)> 那么\n    将 x 增加 (960)\n  结束\n  如果 <(x) > (480)> 那么\n    将 x 增加 (-960)\n  结束\n结束\n\n// 视差效果（远景角色，移动更慢）\n当绿旗被点击\n重复执行\n  如果 <按下 [右移] 键?> 那么\n    将 x 增加 (-2)  // 远景移动慢\n  结束\n  如果 <按下 [左移] 键?> 那么\n    将 x 增加 (2)\n  结束\n结束\n```\n\n**禁忌提醒**\n❌ 不要让主角X坐标改变——会破坏卷轴效果\n❌ 不要忘记背景循环——否则背景会移出屏幕\n\n---\n\n**步骤3：地图拼接（15分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"一张背景图不够长怎么办？我们用多张背景拼接！\n>\n> 技巧：\n> 1. 准备2-3张背景图，首尾能衔接\n> 2. 把它们排成一排\n> 3. 当第一张移出屏幕时，移到最后面\n>\n> 这样就能实现无限循环的地图！\"\n\n---\n\n**核心知识点**\n- 卷轴地图：主角保持屏幕中心，背景移动\n- 相对坐标：背景移动而非角色移动\n- 视差效果：不同层移动速度不同，产生立体感\n- 背景循环：背景移出屏幕后移到另一边\n\n**底层逻辑**\n- **相对运动**：参照物不同，运动描述不同\n- **视觉欺骗**：用背景移动模拟角色移动\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-11-001]\n\n---\n\n### 第12课：勇闯黑白岛-交互与AI\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-12 |\n| **课程名称** | 勇闯黑白岛-交互与AI |\n| **认知负荷** | 高 |\n| **核心技能** | NPC对话、敌人巡逻AI、机关陷阱 |\n\n#### 详细教学流程\n\n**步骤1：项目回顾（5分钟）** `#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们的勇闯黑白岛已经有了重力和卷轴地图！今天是最后一课，我们要让游戏更有趣——加入NPC对话、敌人AI和机关陷阱！\"\n\n---\n\n**步骤2：任务分析（15分钟）** `#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"今天要做三个功能：\n>\n> 1. **NPC对话**：遇到村民，按空格键可以对话\n> 2. **敌人AI**：怪物会来回巡逻，碰到就掉血\n> 3. **机关陷阱**：踩到陷阱会触发机关\n>\n> 先来看NPC对话的逻辑：\n> - 主角靠近NPC时，显示'按空格对话'提示\n> - 按空格后，NPC说出对话内容\n> - 对话可以用列表存储多句话\n>\n> 敌人AI的逻辑：\n> - 敌人在两个点之间来回走动（巡逻）\n> - 碰到边界就转向\n> - 碰到主角就造成伤害\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 对话太简单 | 添加选项 | 玩家可以选择回答 |\n| 敌人太难 | 减慢速度 | 敌人移动速度降低 |\n| 想增加功能 | 添加商店 | NPC可以买卖道具 |\n\n**核心代码模式**\n```\n// NPC对话系统\n当绿旗被点击\n将 [对话列表] 设为 [你好，勇士！|前方有危险！|小心那些怪物！|祝你好运！]\n将 [当前对话] 设为 (0)\n隐藏变量 [对话提示]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    显示变量 [对话提示]\n    将 [对话提示] 设为 [按空格对话]\n    如果 <按下 [空格] 键?> 那么\n      将 [当前对话] 增加 (1)\n      如果 <(当前对话) > (4)> 那么\n        将 [当前对话] 设为 (1)\n      结束\n      说 (第 (当前对话) 项 [对话列表]) (2) 秒\n      等待 (0.5) 秒\n    结束\n  否则\n    隐藏变量 [对话提示]\n  结束\n结束\n\n// 敌人巡逻AI\n当绿旗被点击\n将 [巡逻方向] 设为 (1)  // 1=向右，-1=向左\n将 [左边界] 设为 (-100)\n将 [右边界] 设为 (100)\n重复执行\n  // 巡逻移动\n  将 x 增加 ((巡逻方向) * 2)\n  // 到达边界就转向\n  如果 <(x) > (右边界)> 那么\n    将 [巡逻方向] 设为 (-1)\n    面向 (-90) 度  // 面向左\n  结束\n  如果 <(x) < (左边界)> 那么\n    将 [巡逻方向] 设为 (1)\n    面向 (90) 度   // 面向右\n  结束\n  // 碰到主角造成伤害\n  如果 <碰到 [主角] ?> 那么\n    广播 [主角受伤]\n    等待 (1) 秒  // 无敌时间\n  结束\n结束\n\n// 机关陷阱\n当绿旗被点击\n将造型设为 [隐藏]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    将造型设为 [触发]\n    播放声音 [陷阱]\n    广播 [陷阱触发]\n    等待 (0.5) 秒\n    // 发射飞镖或落石\n    克隆 [飞镖]\n    等待 (2) 秒\n    将造型设为 [隐藏]\n  结束\n结束\n\n// 主角受伤处理\n当收到 [主角受伤]\n将 [生命值] 增加 (-1)\n将 [虚像] 特效设为 (50)  // 闪烁效果\n等待 (0.2) 秒\n清除图形特效\n如果 <(生命值) <= (0)> 那么\n  广播 [游戏结束]\n结束\n```\n\n---\n\n**步骤3：游戏完善（15分钟）** `#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"最后我们来完善游戏：\n> 1. **生命值系统**：用爱心显示剩余生命\n> 2. **胜利条件**：到达终点旗帜就胜利\n> 3. **开始/结束界面**：让游戏更完整\"\n\n**核心代码模式**\n```\n// 胜利判定\n当绿旗被点击\n重复执行\n  如果 <碰到 [终点旗帜] ?> 那么\n    广播 [游戏胜利]\n    停止 [全部]\n  结束\n结束\n\n// 游戏胜利界面\n当收到 [游戏胜利]\n播放声音 [胜利]\n说 [恭喜通关！] (3) 秒\n```\n\n---\n\n**步骤4：家长班会（10分钟）** `#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！勇闯黑白岛项目完成了！这是一个完整的平台跳跃游戏，三节课下来，孩子们学会了：\n> 1. **重力引擎**：物理模拟，让角色能跳跃和下落\n> 2. **卷轴地图**：相对运动，创造无限大的游戏世界\n> 3. **游戏AI**：敌人巡逻、NPC对话、机关陷阱\n>\n> 整个CODE3-2单元，孩子们完成了四个大型游戏项目：\n> - 太空防卫战：克隆、变量、冷却机制\n> - 篮球小子：状态机、抛物线算法\n> - 植物大战僵尸：列表、网格对齐、射线检测\n> - 勇闯黑白岛：重力引擎、卷轴地图、敌人AI\n>\n> 这些都是专业游戏开发的核心技术！孩子们已经具备了独立设计和开发游戏的能力！\"\n\n---\n\n**核心知识点**\n- NPC对话：靠近触发、按键交互、列表存储对话\n- 敌人巡逻AI：边界检测、方向切换、伤害判定\n- 机关陷阱：触发检测、状态切换、克隆发射\n- 生命值系统：变量管理、受伤反馈、游戏结束\n\n**底层逻辑**\n- **游戏AI**：用简单规则模拟智能行为\n- **状态管理**：用变量记录游戏各种状态\n- **完整性**：开始、游戏、结束的完整流程\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-12-001]\n\n---\n\n## 教学禁忌清单\n\n| 序号 | 禁忌 | 原因 | 正确做法 |\n|------|------|------|----------|\n| 1 | 直接给代码 | 学生产生依赖，遇Bug无法独立解决 | 通过流程图或伪代码讲解逻辑 |\n| 2 | 忽视调试过程 | 学生不会Debug | 引导学生观察现象（\"变量数值在变吗？\"） |\n| 3 | 忽视游戏平衡性 | 游戏太简单没趣味 | 讨论游戏设计，调整数值增加可玩性 |\n| 4 | 只关注功能不关注体验 | 产品不完整 | 强调UI/UX设计（开始界面、胜利特效） |\n| 5 | 项目拆分不清晰 | 学生不知道从哪里下手 | 每节课明确本次目标 |\n\n`#执行层` `#测评项`\n[UID: CODE3-TABOO-002]\n\n---\n\n## 底层教育学原理\n\n| 原理 | 说明 | 在本单元的应用 |\n|------|------|----------------|\n| **PBL项目制学习** | 通过真实项目驱动学习 | 3节课完成一个完整游戏 |\n| **物理模拟** | 用代码模拟现实物理规律 | 重力、抛物线、碰撞 |\n| **数据结构** | 列表(数组)管理批量数据 | 植物大战僵尸的僵尸状态管理 |\n| **游戏设计** | 平衡性、可玩性、用户体验 | 冷却时间、难度曲线 |\n| **工程迭代** | 设计-实现-测试-优化 | 每节课都有调试环节 |\n\n`#执行层` `#测评项`\n[UID: CODE3-THEORY-002]\n\n---\n\n**质量评估**：10/10（原子化萃取版）\n**已补充**：认知负荷标签、IFC标签、变体示例、详细教师话术\n\n---\n\n**最后更新**：2026-02-09\n"
}