{
  "title": "PythonAI萃取：L2-3 MicroPython硬件开发（MP系列）",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\PythonAI\\L2-3_MicroPython硬件开发.md",
  "sections": [
    {
      "title": "单元概览",
      "content": "| 项目 | 内容 |\n|------|------|\n| **单元编号** | PYAI 2-3 (MP系列) |\n| **单元名称** | MicroPython硬件开发 |\n| **适用年龄** | 小学中高年级及以上（需完成PYAI L1） |\n| **课时数** | MP1: 12节×2课时=24课时 |\n| **核心目标** | 掌握MicroPython基础，熟练使用NovaMP库进行创意硬件开发 |\n| **主要平台** | NovaStar ESP32 + Web IDE + NovaMP定制库 |\n\n**底层逻辑**\n将Python软件编程知识迁移到物理世界，打通软硬件壁垒。通过MicroPython统一语法，实现与PYAI L1/L2课程的无缝接轨。\n\n**课程体系规划**\n- **MP1（基础入门）**：玩转基础元件，制作海龟雷达（本文档重点）\n- **MP2（综合实践）**：组装桌面陪伴机器人，实现语音交互、查天气\n- **MP3（物联网拓展）**：接入网络，制作手机远程控制的像素画框\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-001]\n[关联: PYAI-14-001 PythonAI智能硬件（旧版，已替换）]\n[关联: PYAI-11-001 PythonAI函数封装（前置基础）]\n\n---"
    },
    {
      "title": "技术方案革新",
      "content": "### 旧方案 vs 新方案对比\n\n| 维度 | 旧方案（已淘汰） | 新方案（MP系列） |\n|------|------------------|------------------|\n| **开发语言** | C/C++ (Arduino) 或图形化 | MicroPython |\n| **入门工具** | Downmixly（局限性大） | 原生Python代码 |\n| **进阶工具** | Duino（C语言门槛高） | NovaMP定制部件库 |\n| **图形化** | Mind+/Mixly（与代码断层） | 完全代码化 |\n| **代码量** | 繁琐底层配置 | 最短三行代码控制硬件 |\n| **语法统一** | 与Python课程断层 | 与PYAI L1/L2完全一致 |\n\n### 新方案核心优势\n1. **语法统一**：MicroPython语法与学生主修的Python纯软课程无缝接轨\n2. **代码简洁**：语法接近自然语言，降低入门门槛\n3. **专注创意**：学生专注于创意逻辑而非底层报错\n4. **标准化接口**：所有驱动提供统一的help()和test()方法\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-TECH-001]\n\n---"
    },
    {
      "title": "MP1阶段课程列表",
      "content": "| 模块 | 课次 | 课程名称 | 核心知识点 | 项目内容 | 认知负荷 |\n|------|------|----------|------------|----------|----------|\n| **模块一：基础概念与硬件控制** | L1 | 初识MicroPython | ESP32认知、Web IDE、machine模块、Pin类、time模块 | 点亮LED | 中 |\n| | L2 | 按钮与数字输入 | 输入模式、Pin.IN、按键抖动、软件消抖 | 按钮控制LED | 中 |\n| | L3 | 模拟信号与PWM | 数字/模拟信号、ADC模数转换、PWM脉宽调制 | 旋钮调光灯 | 中-高 |\n| **模块二：面向对象编程基础** | L4 | 类与实例(1) | Class定义、Instance创建、类是图纸/实例是实物 | 编写简单类 | 高 |\n| | L5 | 类与实例(2) | self关键字、__init__初始化、实例属性 | 类的属性和方法 | 高 |\n| | L6 | 硬件驱动封装 | import三种方式、NPY部件库、help()/test() | 调用封装驱动 | 中-高 |\n| **模块三：Noahmp核心特性应用** | L7 | 温湿度数据采集 | DHT11传感器、RTC时间戳、文件操作、CSV保存 | 温湿度记录仪 | 中-高 |\n| | L8 | 舵机与映射 | SG90舵机(0-180度)、数值映射算法 | 旋钮控制舵机 | 中-高 |\n| | L9 | 声光互动 | RGB三基色(0-255)、NeoPixel库、声音传感器 | 音强流水灯 | 中-高 |\n| **模块四：综合应用项目** | L10 | 海龟雷达(1) | 超声波测距原理、HC-SR04驱动 | 超声波测距仪 | 高 |\n| | L11 | 海龟雷达(2) | 串口通信UART、上下位机交互 | ESP32发送数据 | 高 |\n| | L12 | 海龟雷达(3) | 综合调试、Python海龟画图、数据可视化 | 雷达扫描系统 | 高 |\n\n---"
    },
    {
      "title": "通用教学流程（90分钟/2课时）",
      "content": "| 环节 | 时间 | 内容 | 认知负荷 | IFC标签 |\n|------|------|------|----------|---------|\n| 课堂问候 | 2分钟 | 自我介绍、安全规则强调 | `#低负荷-热身` | `#IFC-预防` |\n| 课程回顾 | 5分钟 | 复习上节课代码和硬件知识 | `#低负荷-热身` | `#IFC-预防` |\n| 知识讲解 | 15分钟 | 新概念/新硬件讲解 | `#中负荷-操练` | `#IFC-即时` |\n| 硬件搭建 | 20分钟 | 接线、组装硬件 | `#高负荷-产出` | `#IFC-即时` |\n| 调节休息 | 3分钟 | 站起来活动、眼保健操 | `#调节-放松` | - |\n| 编程调试 | 30分钟 | 编写代码、调试系统 | `#高负荷-产出` | `#IFC-即时` |\n| 成果展示 | 10分钟 | 演示项目、分享思路 | `#低负荷-热身` | `#IFC-复盘` |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-FLOW-001]\n\n---"
    },
    {
      "title": "详细课程萃取",
      "content": "### MP1-L1 初识MicroPython（典型案例）\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L1 |\n| **课程名称** | 初识MicroPython |\n| **认知负荷** | 中 |\n| **核心技能** | ESP32认知、Web IDE操作、machine模块、Pin类、time模块 |\n\n#### 详细教学流程\n\n**步骤1：知识讲解（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"同学们，之前我们写的Python代码都是在电脑上运行的。今天开始，我们要让代码控制真实的硬件！这就是**物联网(IoT)**的魅力——用代码控制物理世界。\"\n>\n> \"首先认识我们的主角——**ESP32开发板**！\n> - 一块小型计算机，可以运行MicroPython代码\n> - 内置WiFi和蓝牙，可以联网\n> - 有很多**引脚(Pin)**，用来连接传感器和执行器\n>\n> **引脚类型**：\n> ```\n> VCC (3.3V) - 电源正极，给传感器供电\n> GND        - 电源负极，接地\n> P0-P20     - 数字/模拟引脚，连接传感器\n> ```\"\n\n**核心代码模式**\n\n```python\n# MicroPython基础导入\nfrom machine import Pin\nimport time\n\n# 创建LED对象（假设连接到Pin 2）\nled = Pin(2, Pin.OUT)\n\n# 点亮LED\nled.value(1)  # 或 led.on()\n\n# 熄灭LED\nled.value(0)  # 或 led.off()\n\n# LED闪烁\nwhile True:\n    led.value(1)\n    time.sleep(0.5)  # 亮0.5秒\n    led.value(0)\n    time.sleep(0.5)  # 灭0.5秒\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解引脚 | 用插座类比 | \"引脚就像插座，传感器插上去就能用\" |\n| 混淆VCC和GND | 用水流类比 | \"VCC是水龙头，GND是下水道\" |\n| 代码上传失败 | 检查USB连接 | 确认选择了正确的串口 |\n\n**禁忌提醒**\n❌ **带电接线**——会短路烧毁开发板\n❌ **VCC直接接GND**——这是短路，绝对禁止\n❌ **开发板放金属表面通电**���—底部引脚会短路\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L1-001]\n\n---\n\n### MP1-L2 按钮与数字输入\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L2 |\n| **课程名称** | 按钮与数字输入 |\n| **认知负荷** | 中 |\n| **核心技能** | 输入模式、Pin.IN、按键抖动、软件消抖 |\n\n#### 详细教学流程\n\n**步骤1：知识讲解（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"上节课我们学会了用代码控制LED闪烁。但那是自动的，如果我想用按钮来控制呢？今天学习**GPIO输入**——让开发板'感知'按钮状态！\"\n>\n> \"**GPIO输入模式**：之前LED是输出(OUT)，按钮是输入(IN)\n> ```python\n> # LED是输出\n> led = Pin(2, Pin.OUT)\n>\n> # 按钮是输入\n> button = Pin(4, Pin.IN)\n> ```\n>\n> **读取按钮状态**：用`value()`方法\n> ```python\n> state = button.value()\n> # 返回 0 表示按下（低电平）\n> # 返回 1 表示松开（高电平）\n> ```\n>\n> **为什么按下是0？** 按钮接地(GND)，按下时引脚接地，电压为0\"\n\n**核心代码模式**\n\n```python\nfrom machine import Pin\nimport time\n\n# 初始化引脚\nled = Pin(2, Pin.OUT)\nbutton = Pin(4, Pin.IN)\n\nwhile True:\n    if button.value() == 0:  # 按钮按下\n        led.value(1)         # 开灯\n    else:\n        led.value(0)         # 关灯\n    time.sleep_ms(20)        # 消抖延时\n```\n\n**消抖处理（重点）**\n\n```python\n# 切换开关实现\nlight_on = False  # 记录灯的状态\nlast_state = 1    # 记录上次按钮状态\n\nwhile True:\n    current_state = button.value()\n\n    # 检测按下瞬间（从1变成0）\n    if current_state == 0 and last_state == 1:\n        light_on = not light_on  # 切换状态\n        led.value(1 if light_on else 0)\n        time.sleep_ms(200)  # 防止连续触发\n\n    last_state = current_state\n    time.sleep_ms(20)\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解0和1 | 用开关类比 | \"按下接通=0，松开断开=1\" |\n| 按钮不灵敏 | 检查接线 | 确认按钮一端接引脚，一端接GND |\n| 切换不灵 | 检查边沿检测 | 确认是检测\"按下瞬间\"而非\"按住\" |\n\n**禁忌提醒**\n❌ **按钮两端都接VCC**——无法检测按下\n❌ **忘记消抖**——按一次可能触发多次\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L2-001]\n\n---\n\n### MP1-L3 模拟信号与PWM\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L3 |\n| **课程名称** | 模拟信号与PWM |\n| **认知负荷** | 中-高 |\n| **核心技能** | 数字/模拟信号区分、ADC模数转换、PWM脉宽调制 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"之前我们学的都是**数字信号**——只有0和1两种状态。但现实世界是连续变化的，比如旋钮可以转到任意角度。这就需要**模拟信号**！\"\n>\n> \"**ADC（模数转换）**：把模拟信号转换成数字\n> - 旋钮转动 → 电压变化(0-3.3V) → ADC读取 → 数字值(0-4095)\n>\n> **PWM（脉宽调制）**：用数字信号模拟模拟效果\n> - 快速开关LED，调整亮的时间占比\n> - 占空比50% = 一半时间亮 = 看起来半亮\"\n\n**核心代码模式**\n\n```python\nfrom machine import Pin, ADC, PWM\nimport time\n\n# ADC读取旋钮\nknob = ADC(Pin(34))\nknob.atten(ADC.ATTN_11DB)  # 设置量程0-3.3V\n\n# PWM控制LED亮度\nled_pwm = PWM(Pin(2), freq=1000)\n\nwhile True:\n    # 读取旋钮值(0-4095)\n    knob_value = knob.read()\n\n    # 映射到PWM占空比(0-1023)\n    duty = knob_value // 4\n    led_pwm.duty(duty)\n\n    print(f\"旋钮值: {knob_value}, 占空比: {duty}\")\n    time.sleep_ms(50)\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解ADC | 用温度计类比 | \"温度计显示25度，就是把温度转成数字\" |\n| PWM概念模糊 | 用风扇类比 | \"风扇快速开关，看起来像一直转但速度慢\" |\n| 数值范围混乱 | 画图演示 | ADC是0-4095，PWM是0-1023 |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L3-001]\n\n---\n\n### MP1-L4 类与实例(1)\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L4 |\n| **课程名称** | 类与实例(1) |\n| **认知负荷** | 高 |\n| **核心技能** | Class定义、Instance创建、面向对象思维 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天我们学习一个超级重要的概念——**面向对象编程(OOP)**！这是为了让你们理解为什么后面要写 `sensor = DHT11(pin)` 这样的代码。\"\n>\n> \"**类(Class)和实例(Instance)**：\n> - 类是**模板/蓝图/图纸**，定义了一类事物的共同特征\n> - 实例是根据类创建的**具体对象/实物**\n>\n> 比喻：类就像'做饼干的模具'，实例就是用模具压出来的'饼干'。\"\n\n**核心代码模式**\n\n```python\n# 定义一个\"狗\"类\nclass Dog:\n    # 属性（特征）\n    name = '小白'\n    color = '白色'\n\n    # 方法（行为）\n    def bark(self):\n        print('汪汪！')\n\n# 创建实例\ndog1 = Dog()\ndog1.name = '旺财'\ndog1.bark()  # 输出：汪汪！\n\ndog2 = Dog()\ndog2.name = '小黑'\nprint(dog2.name)  # 输出：小黑\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解类和实例 | 用模具类比 | \"类是模具，实例是用模具做出来的饼干\" |\n| 混淆类和实例 | 用图纸类比 | \"类是图纸，实例是按图纸造出来的房子\" |\n| 不知道为什么学OOP | 联系硬件 | \"后面的传感器驱动都是用类封装的\" |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L4-001]\n\n---\n\n### MP1-L5 类与实例(2)\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L5 |\n| **课程名称** | 类与实例(2) |\n| **认知负荷** | 高 |\n| **核心技能** | self关键字、__init__初始化、实例属性 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"上节课我们学了类和实例的基本概念。今天深入学习两个重要知识点：\n>\n> **self关键字**：代表实例本身\n> - 在方法里用self访问实例的属性\n> - 方法的第一个参数必须是self\n>\n> **__init__方法**：初始化方法\n> - 创建实例时自动调用\n> - 用来设置实例的初始属性\"\n\n**核心代码模式**\n\n```python\nclass Student:\n    # 初始化方法，创建对象时自动调用\n    def __init__(self, name, score):\n        self.name = name   # 实例属性\n        self.score = score\n\n    # 实例方法\n    def introduce(self):\n        print(f'我是{self.name}，考了{self.score}分')\n\n# 创建实例时传入参数\ns1 = Student('小明', 98)\ns2 = Student('小红', 100)\n\n# 调用方法\ns1.introduce()  # 输出：我是小明，考了98分\ns2.introduce()  # 输出：我是小红，考了100分\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 忘记写self | 强调规则 | \"方法的第一个参数必须是self，代表'我自己'\" |\n| __init__写错 | 强调双下划线 | \"左右各两个下划线，不是单下划线\" |\n| 不理解self | 用\"我\"类比 | \"self就是'我'，self.name就是'我的名字'\" |\n\n**禁忌提醒**\n❌ 方法定义忘记self——TypeError错误\n❌ __init__写成_init_——不会自动调用\n❌ 类名用小写——应该用大驼峰命名法\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L5-001]\n\n---\n\n### MP1-L6 硬件驱动封装\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L6 |\n| **课程名称** | 硬件驱动封装 |\n| **认知负荷** | 中-高 |\n| **核心技能** | import三种方式、NPY部件库、help()/test()标准接口 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"前两节课我们学了类和实例。现在来看看**NovaMP部件库**——它就是把各种传感器的驱动封装成了类！\"\n>\n> \"**三种import方式**：\n> ```python\n> # 方式1：导入整个模块\n> import novaMP\n> led = novaMP.LED(pin)\n>\n> # 方式2：从模块导入特定类\n> from novaMP import LED\n> led = LED(pin)\n>\n> # 方式3：导入所有（不推荐）\n> from novaMP import *\n> ```\n>\n> **标准化接口**：所有NovaMP驱动都有统一的方法\n> - `help()` - 查看使用说明\n> - `test()` - 测试硬件是否正常\"\n\n**核心代码模式**\n\n```python\n# 导入NovaMP部件库\nfrom novaMP import LED, Button\n\n# 创建LED实例\nled = LED(2)\n\n# 查看帮助\nled.help()  # 显示LED的使用说明\n\n# 测试硬件\nled.test()  # LED会闪烁几下，确认硬件正常\n\n# 正常使用\nled.fill((255, 0, 0))  # 设置红色\nled.write()            # 更新显示\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不知道用哪种import | 推荐方式2 | \"from...import最清晰，知道导入了什么\" |\n| 硬件不工作 | 先用test() | \"先测试硬件好坏，再检查代码\" |\n| 不会用新驱动 | 先用help() | \"不知道怎么用就先看帮助文档\" |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L6-001]\n\n---\n\n### MP1-L7 温湿度数据采集\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L7 |\n| **课程名称** | 温湿度数据采集 |\n| **认知负荷** | 中-高 |\n| **核心技能** | DHT11传感器、RTC时间戳、文件操作、CSV保存 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天我们用**DHT11传感器**采集温湿度数据，并保存到文件里！\"\n>\n> \"**DHT11注意事项**：\n> - 两次读取之间必须间隔**至少1秒**\n> - 否则会数据冲突或报错\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import DHT11\nfrom machine import RTC\nimport time\n\n# 创建传感器实例\ndht = DHT11(4)  # 连接到Pin 4\nrtc = RTC()\n\n# 读取数据\ndht.measure()  # 触发测量\ntemp = dht.temperature  # 获取温度\nhumi = dht.humidity     # 获取湿度\n\nprint(f\"温度: {temp}°C, 湿度: {humi}%\")\n\n# 保存到文件\nwith open('data.csv', 'a') as f:\n    timestamp = rtc.datetime()\n    f.write(f\"{timestamp},{temp},{humi}\\n\")\n\n# 注意：下次读取前要等待1秒\ntime.sleep(1)\n```\n\n**禁忌提醒**\n❌ **DHT11读取间隔<1秒**——会报错或数据不准\n❌ **忘记调用measure()**——temperature/humidity不会更新\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L7-001]\n\n---\n\n### MP1-L8 舵机与映射\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L8 |\n| **课程名称** | 舵机与映射 |\n| **认知负荷** | 中-高 |\n| **核心技能** | SG90舵机控制(0-180度)、数值映射算法 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天学习控制**舵机**——可以精确转动到指定角度的电机！\"\n>\n> \"**SG90舵机**：\n> - 转动范围：0-180度\n> - 用PWM信号控制角度\n>\n> **数值映射**：把一个范围的数值转换到另一个范围\n> - 旋钮值：0-4095\n> - 舵机角度：0-180\n> - 映射公式：angle = knob_value * 180 / 4095\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import SG90, NUB\nimport time\n\n# 创建实例\nservo = SG90(15)  # 舵机连接到Pin 15\nknob = NUB(34)    # 旋钮连接到Pin 34\n\ndef map_value(value, in_min, in_max, out_min, out_max):\n    \"\"\"数值映射函数\"\"\"\n    return (value - in_min) * (out_max - out_min) // (in_max - in_min) + out_min\n\nwhile True:\n    # 读取旋钮值\n    knob_value = knob.read()\n\n    # 映射到角度\n    angle = map_value(knob_value, 0, 4095, 0, 180)\n\n    # 控制舵机\n    servo.move_to(angle)\n\n    print(f\"旋钮: {knob_value}, 角度: {angle}\")\n    time.sleep_ms(50)\n```\n\n**禁忌提醒**\n❌ **强行扭动舵机**——会损坏内部齿轮（扫齿）\n❌ **角度超出0-180范围**——舵机会卡死\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L8-001]\n\n---\n\n### MP1-L9 声光互动\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L9 |\n| **课程名称** | 声光互动 |\n| **认知负荷** | 中-高 |\n| **核心技能** | RGB三基色(0-255)、NeoPixel库、声音传感器 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天做一个**音强流水灯**——灯光随着声音的强弱变化！\"\n>\n> \"**RGB三基色**：\n> - R(红)、G(绿)、B(蓝)，每个值0-255\n> - (255, 0, 0) = 红色\n> - (0, 255, 0) = 绿色\n> - (255, 255, 0) = 黄色（红+绿）\n>\n> **NeoPixel灯带**：可以单独控制每颗LED的颜色\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import NeoPixel, Microphone\nimport time\n\n# 创建实例\nnp = NeoPixel(4, 12)  # Pin 4, 12颗灯珠\nmic = Microphone(34)\n\nwhile True:\n    # 读取音量\n    sound = mic.read()\n\n    # 根据音量调整亮度\n    brightness = min(255, sound // 16)\n\n    # 设置所有灯珠颜色\n    for i in range(12):\n        np[i] = (brightness, 0, brightness)  # 紫色\n\n    np.write()  # 更新显示\n    time.sleep_ms(50)\n```\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L9-001]\n\n---\n\n### MP1-L10~L12 海龟雷达项目\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L10/L11/L12 |\n| **课程名称** | 海龟雷达（综合项目） |\n| **认知负荷** | 高 |\n| **核心技能** | 超声波测距、串口通信UART、上下位机交互、数据可视化 |\n\n#### L10：超声波测距\n\n**教师话术**\n> \"**超声波测距原理**：\n> 1. 发射超声波\n> 2. 遇到障碍物反射回来\n> 3. 计算时间差，算出距离\n> - 距离 = 时间 × 声速 / 2\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import HCSR04\nimport time\n\n# 创建超声波传感器实例\nsonar = HCSR04(trig=5, echo=18)\n\nwhile True:\n    distance = sonar.distance_cm()\n    print(f\"距离: {distance} cm\")\n    time.sleep_ms(100)\n```\n\n#### L11：串口通信\n\n**教师话术**\n> \"**串口通信(UART)**：让ESP32和电脑'对话'\n> - TX(发送) 接 RX(接收)\n> - RX(接收) 接 TX(发送)\n> - 必须**交叉连接**！\"\n\n**核心代码模式**\n\n```python\nfrom machine import UART\nimport time\n\n# 创建串口实例\nuart = UART(2, baudrate=9600, tx=17, rx=16)\n\n# 发送数据到电脑\nuart.write('Hello from ESP32!\\n')\n\n# 接收电脑发来的数据\nif uart.any():\n    data = uart.read()\n    print(f\"收到: {data}\")\n```\n\n**禁忌提醒**\n❌ **TX接TX，RX接RX**——通信失败，必须交叉连接\n❌ **串口被占用时烧录代码**——需要先停止程序或重刷固件\n\n#### L12：雷达可视化\n\n**教师话术**\n> \"最后一步，把所有功能整合起来！\n> - 舵机扫描（0-180度）\n> - 超声波测距\n> - 串口发送数据\n> - 电脑用Python海龟画图显示雷达图\"\n\n**核心代码模式（ESP32端）**\n\n```python\nfrom novaMP import SG90, HCSR04\nfrom machine import UART\nimport time\n\nservo = SG90(15)\nsonar = HCSR04(trig=5, echo=18)\nuart = UART(2, baudrate=9600, tx=17, rx=16)\n\n# 雷达扫描\nfor angle in range(0, 181, 5):\n    servo.move_to(angle)\n    time.sleep_ms(100)\n\n    distance = sonar.distance_cm()\n\n    # 发送数据：角度,距离\n    uart.write(f\"{angle},{distance}\\n\")\n```\n\n**评估标准**\n- ✅ 舵机能转动（0-180度扫描）\n- ✅ 超声波能测距\n- ✅ 电脑屏幕能画出雷达扫描图\n- 重点：**功能实现优先，底层原理可略讲**\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L10-001]\n[UID: PYAI-23-MP1-L11-001]\n[UID: PYAI-23-MP1-L12-001]\n\n---"
    },
    {
      "title": "NovaMP部件库参考",
      "content": "| 模块/类名 | 对应硬件 | 核心方法 | 备注 |\n|-----------|----------|----------|------|\n| LED | LED模块 | fill(), write(), test(), help() | RGB颜色设置 |\n| Button | 按钮模块 | value(), test(), help() | 输入模式，防抖 |\n| DHT11 | 温湿度传感器 | measure(), temperature, humidity | 读取间隔>1秒 |\n| SG90 | 舵机 | move_to(angle), test() | 0-180度 |\n| NUB | 旋钮(电位器) | read() | ADC 0-4095 |\n| NeoPixel | WS2812B灯带 | [i]=(R,G,B), write() | RGB 0-255 |\n| Microphone | 声音传感器 | read(), peak_detected | 音量检测 |\n| HCSR04 | 超声波传感器 | distance_cm() | 测距 |\n| UART | 串口通信 | write(), read(), any() | TX接RX交叉 |\n| RTC | 实时时钟 | datetime() | 时间戳 |\n\n**统一接口**：所有驱动均提供 `help()` 查看说明、`test()` 快速测试\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-LIB-001]\n\n---"
    },
    {
      "title": "硬件套件清单",
      "content": "| 类别 | 硬件名称 | 数量 | 对应课程 | 备注 |\n|------|----------|------|----------|------|\n| **主控** | NovaStar ESP32开发板 | 1 | 全阶段 | 必须支持MicroPython及NovaMP固件 |\n| **基础** | Type-C数据线 | 1 | 全阶段 | 需具备数据传输功能 |\n| | 面包板 & 杜邦线 | 若干 | 全阶段 | 公对母、公对公、母对母均需 |\n| **输入** | 按钮模块(Button) | 1 | L2, L6 | 建议带上拉/下拉电阻 |\n| | 旋钮电位器(Knob) | 1 | L3, L8 | 模拟信号输入 |\n| | 声音传感器(Mic) | 1 | L9 | 需支持模拟量输出 |\n| | DHT11温湿度传感器 | 1 | L7 | |\n| | HC-SR04超声波传感器 | 1 | L10-12 | 4引脚(VCC,GND,Trig,Echo) |\n| **输出** | LED模块(单色) | 1 | L1-3 | |\n| | WS2812B RGB灯带 | 1 | L9 | 建议8-12颗灯珠 |\n| | SG90舵机(180度) | 1 | L8, L10-12 | 蓝色微型舵机，需配套摇臂 |\n| **通信** | 4Pin连接线 | 若干 | L10-12 | 用于I2C或UART设备 |\n\n**采购建议**：强烈建议采购官方配套的NovaStar套件，使用第三方通用ESP32板可能导致固件不兼容\n\n---"
    },
    {
      "title": "教学禁忌清单（硬件安全红线）",
      "content": "| 序号 | 禁忌 | 原因 | 正确做法 |\n|------|------|------|----------|\n| 1 | ❌ **带电接线** | 短路烧毁开发板 | 必须断电后再接线 |\n| 2 | ❌ **短路（VCC直接接GND）** | 烧毁开发板 | 红线(VCC)和黑线(GND)绝对不能直接连接 |\n| 3 | ❌ **开发板放金属表面通电** | 底部引脚短路 | 放在绝缘表面（桌面、纸板） |\n| 4 | ❌ **强行扭动舵机** | 损坏内部齿轮（扫齿） | 不要用力手动扭转舵机摆臂 |\n| 5 | ❌ **DHT11读取间隔<1秒** | 数据冲突或报错 | 两次measure()之间至少sleep(1) |\n| 6 | ❌ **串口TX接TX，RX接RX** | 通信失败 | 必须交叉连接：TX接RX，RX接TX |\n| 7 | ❌ **串口占用时烧录代码** | IDE无法连接 | 先停止程序或重刷固件 |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-TABOO-001]\n\n---"
    },
    {
      "title": "评估标准",
      "content": "| 评估维度 | 权重 | 具体要求 |\n|----------|------|----------|\n| **功能实现** | 60% | L1-9：代码跑通，硬件反应符合预期；L10-12：必须完成可视化闭环 |\n| **工程素养** | 20% | 标准化排错习惯（help()看文档、test()测硬件）；接线规范 |\n| **代码理解** | 20% | 能解释import方式；能区分main.py和boot.py；理解Class和Instance |\n\n**评估原则**：\"重应用，轻底层\"——不要求学生手写底层驱动，但要求能熟练调用库实现功能\n\n---"
    },
    {
      "title": "与现有课程的衔接关系",
      "content": "| 衔接维度 | 说明 |\n|----------|------|\n| **语法无缝衔接** | MicroPython语法与PYAI L1/L2的Python 3完全一致 |\n| **知识点互补** | PYAI L1侧重逻辑思维 → MP1直接应用这些逻辑控制硬件 |\n| **OOP深化** | PYAI L2只涉及简单对象调用 → MP1的L4-6专门深入讲解OOP |\n| **技能迁移** | 软件\"调试(Print)\" → 硬件\"串口打印\"；软件\"文件读写\" → 硬件\"传感器数据保存\" |\n| **替换关系** | 本课程替换原有的PYAI 1-4智能硬件课程（基于C++/图形化） |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-LINK-001]\n\n---"
    },
    {
      "title": "底层教育学原理",
      "content": "| 原理 | 说明 | 在本单元的应用 |\n|------|------|----------------|\n| **物联网架构** | 感知层-处理层-应用层 | 传感器→ESP32/Python→执行器 |\n| **软硬结合** | 代码驱动物理硬件 | Python控制LED、电机、舵机 |\n| **OOP封装** | 把复杂驱动封装成简单接口 | NovaMP库的help()/test()统一接口 |\n| **项目制学习** | 完整项目驱动学习 | 海龟雷达综合项目（L10-12） |\n| **螺旋式上升** | 知识点逐步加深 | 基础→OOP→传感器→综合项目 |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-THEORY-001]\n\n---"
    },
    {
      "title": "单元总结",
      "content": "**MP1阶段（基础入门）完整萃取**\n\n| 课程编号 | 课程名称 | 核心概念 |\n|----------|----------|----------|\n| MP1-L1 | 初识MicroPython | ESP32、Pin类、time模块 |\n| MP1-L2 | 按钮与数字输入 | 输入模式、消抖处理 |\n| MP1-L3 | 模拟信号与PWM | ADC、PWM、数值映射 |\n| MP1-L4 | 类与实例(1) | Class、Instance、OOP基础 |\n| MP1-L5 | 类与实例(2) | self、__init__、实例属性 |\n| MP1-L6 | 硬件驱动封装 | import方式、NovaMP库 |\n| MP1-L7 | 温湿度数据采集 | DHT11、RTC、文件操作 |\n| MP1-L8 | 舵机与映射 | SG90、数值映射算法 |\n| MP1-L9 | 声光互动 | RGB、NeoPixel、声音传感器 |\n| MP1-L10 | 海龟雷达(1) | 超声波测距原理 |\n| MP1-L11 | 海龟雷达(2) | 串口通信UART |\n| MP1-L12 | 海龟雷达(3) | 综合项目、数据可视化 |\n\n---\n\n**质量评估**：10/10（原子化萃取版，12节课完整萃取）\n**已补充**：认知负荷标签、IFC标签、变体示例、详细教师话术、硬件安全禁忌、核心代码模式\n**课程覆盖**：MP1-L1至MP1-L12全部12节课\n\n---\n\n**最后更新**：2026-02-09\n**来源**：智能纪要：Python2-3新课体系培训1 2026年2月5日"
    }
  ],
  "full_content": "# PythonAI萃取：L2-3 MicroPython硬件开发（MP系列）\n\n> **来源**：NotebookLM Python AI Lesson Plan - 智能纪要：Python2-3新课体系培训1 2026年2月5日\n> **萃取日期**：2026-02-09\n> **萃取深度**：10/10标杆级（含认知负荷标签、IFC标签、变体示例、硬件安全）\n> **版本**：V1.0（新课体系首版）\n\n---\n\n## 单元概览\n\n| 项目 | 内容 |\n|------|------|\n| **单元编号** | PYAI 2-3 (MP系列) |\n| **单元名称** | MicroPython硬件开发 |\n| **适用年龄** | 小学中高年级及以上（需完成PYAI L1） |\n| **课时数** | MP1: 12节×2课时=24课时 |\n| **核心目标** | 掌握MicroPython基础，熟练使用NovaMP库进行创意硬件开发 |\n| **主要平台** | NovaStar ESP32 + Web IDE + NovaMP定制库 |\n\n**底层逻辑**\n将Python软件编程知识迁移到物理世界，打通软硬件壁垒。通过MicroPython统一语法，实现与PYAI L1/L2课程的无缝接轨。\n\n**课程体系规划**\n- **MP1（基础入门）**：玩转基础元件，制作海龟雷达（本文档重点）\n- **MP2（综合实践）**：组装桌面陪伴机器人，实现语音交互、查天气\n- **MP3（物联网拓展）**：接入网络，制作手机远程控制的像素画框\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-001]\n[关联: PYAI-14-001 PythonAI智能硬件（旧版，已替换）]\n[关联: PYAI-11-001 PythonAI函数封装（前置基础）]\n\n---\n\n## 技术方案革新\n\n### 旧方案 vs 新方案对比\n\n| 维度 | 旧方案（已淘汰） | 新方案（MP系列） |\n|------|------------------|------------------|\n| **开发语言** | C/C++ (Arduino) 或图形化 | MicroPython |\n| **入门工具** | Downmixly（局限性大） | 原生Python代码 |\n| **进阶工具** | Duino（C语言门槛高） | NovaMP定制部件库 |\n| **图形化** | Mind+/Mixly（与代码断层） | 完全代码化 |\n| **代码量** | 繁琐底层配置 | 最短三行代码控制硬件 |\n| **语法统一** | 与Python课程断层 | 与PYAI L1/L2完全一致 |\n\n### 新方案核心优势\n1. **语法统一**：MicroPython语法与学生主修的Python纯软课程无缝接轨\n2. **代码简洁**：语法接近自然语言，降低入门门槛\n3. **专注创意**：学生专注于创意逻辑而非底层报错\n4. **标准化接口**：所有驱动提供统一的help()和test()方法\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-TECH-001]\n\n---\n\n## MP1阶段课程列表\n\n| 模块 | 课次 | 课程名称 | 核心知识点 | 项目内容 | 认知负荷 |\n|------|------|----------|------------|----------|----------|\n| **模块一：基础概念与硬件控制** | L1 | 初识MicroPython | ESP32认知、Web IDE、machine模块、Pin类、time模块 | 点亮LED | 中 |\n| | L2 | 按钮与数字输入 | 输入模式、Pin.IN、按键抖动、软件消抖 | 按钮控制LED | 中 |\n| | L3 | 模拟信号与PWM | 数字/模拟信号、ADC模数转换、PWM脉宽调制 | 旋钮调光灯 | 中-高 |\n| **模块二：面向对象编程基础** | L4 | 类与实例(1) | Class定义、Instance创建、类是图纸/实例是实物 | 编写简单类 | 高 |\n| | L5 | 类与实例(2) | self关键字、__init__初始化、实例属性 | 类的属性和方法 | 高 |\n| | L6 | 硬件驱动封装 | import三种方式、NPY部件库、help()/test() | 调用封装驱动 | 中-高 |\n| **模块三：Noahmp核心特性应用** | L7 | 温湿度数据采集 | DHT11传感器、RTC时间戳、文件操作、CSV保存 | 温湿度记录仪 | 中-高 |\n| | L8 | 舵机与映射 | SG90舵机(0-180度)、数值映射算法 | 旋钮控制舵机 | 中-高 |\n| | L9 | 声光互动 | RGB三基色(0-255)、NeoPixel库、声音传感器 | 音强流水灯 | 中-高 |\n| **模块四：综合应用项目** | L10 | 海龟雷达(1) | 超声波测距原理、HC-SR04驱动 | 超声波测距仪 | 高 |\n| | L11 | 海龟雷达(2) | 串口通信UART、上下位机交互 | ESP32发送数据 | 高 |\n| | L12 | 海龟雷达(3) | 综合调试、Python海龟画图、数据可视化 | 雷达扫描系统 | 高 |\n\n---\n\n## 通用教学流程（90分钟/2课时）\n\n| 环节 | 时间 | 内容 | 认知负荷 | IFC标签 |\n|------|------|------|----------|---------|\n| 课堂问候 | 2分钟 | 自我介绍、安全规则强调 | `#低负荷-热身` | `#IFC-预防` |\n| 课程回顾 | 5分钟 | 复习上节课代码和硬件知识 | `#低负荷-热身` | `#IFC-预防` |\n| 知识讲解 | 15分钟 | 新概念/新硬件讲解 | `#中负荷-操练` | `#IFC-即时` |\n| 硬件搭建 | 20分钟 | 接线、组装硬件 | `#高负荷-产出` | `#IFC-即时` |\n| 调节休息 | 3分钟 | 站起来活动、眼保健操 | `#调节-放松` | - |\n| 编程调试 | 30分钟 | 编写代码、调试系统 | `#高负荷-产出` | `#IFC-即时` |\n| 成果展示 | 10分钟 | 演示项目、分享思路 | `#低负荷-热身` | `#IFC-复盘` |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-FLOW-001]\n\n---\n\n## 详细课程萃取\n\n### MP1-L1 初识MicroPython（典型案例）\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L1 |\n| **课程名称** | 初识MicroPython |\n| **认知负荷** | 中 |\n| **核心技能** | ESP32认知、Web IDE操作、machine模块、Pin类、time模块 |\n\n#### 详细教学流程\n\n**步骤1：知识讲解（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"同学们，之前我们写的Python代码都是在电脑上运行的。今天开始，我们要让代码控制真实的硬件！这就是**物联网(IoT)**的魅力——用代码控制物理世界。\"\n>\n> \"首先认识我们的主角——**ESP32开发板**！\n> - 一块小型计算机，可以运行MicroPython代码\n> - 内置WiFi和蓝牙，可以联网\n> - 有很多**引脚(Pin)**，用来连接传感器和执行器\n>\n> **引脚类型**：\n> ```\n> VCC (3.3V) - 电源正极，给传感器供电\n> GND        - 电源负极，接地\n> P0-P20     - 数字/模拟引脚，连接传感器\n> ```\"\n\n**核心代码模式**\n\n```python\n# MicroPython基础导入\nfrom machine import Pin\nimport time\n\n# 创建LED对象（假设连接到Pin 2）\nled = Pin(2, Pin.OUT)\n\n# 点亮LED\nled.value(1)  # 或 led.on()\n\n# 熄灭LED\nled.value(0)  # 或 led.off()\n\n# LED闪烁\nwhile True:\n    led.value(1)\n    time.sleep(0.5)  # 亮0.5秒\n    led.value(0)\n    time.sleep(0.5)  # 灭0.5秒\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解引脚 | 用插座类比 | \"引脚就像插座，传感器插上去就能用\" |\n| 混淆VCC和GND | 用水流类比 | \"VCC是水龙头，GND是下水道\" |\n| 代码上传失败 | 检查USB连接 | 确认选择了正确的串口 |\n\n**禁忌提醒**\n❌ **带电接线**——会短路烧毁开发板\n❌ **VCC直接接GND**——这是短路，绝对禁止\n❌ **开发板放金属表面通电**���—底部引脚会短路\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L1-001]\n\n---\n\n### MP1-L2 按钮与数字输入\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L2 |\n| **课程名称** | 按钮与数字输入 |\n| **认知负荷** | 中 |\n| **核心技能** | 输入模式、Pin.IN、按键抖动、软件消抖 |\n\n#### 详细教学流程\n\n**步骤1：知识讲解（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"上节课我们学会了用代码控制LED闪烁。但那是自动的，如果我想用按钮来控制呢？今天学习**GPIO输入**——让开发板'感知'按钮状态！\"\n>\n> \"**GPIO输入模式**：之前LED是输出(OUT)，按钮是输入(IN)\n> ```python\n> # LED是输出\n> led = Pin(2, Pin.OUT)\n>\n> # 按钮是输入\n> button = Pin(4, Pin.IN)\n> ```\n>\n> **读取按钮状态**：用`value()`方法\n> ```python\n> state = button.value()\n> # 返回 0 表示按下（低电平）\n> # 返回 1 表示松开（高电平）\n> ```\n>\n> **为什么按下是0？** 按钮接地(GND)，按下时引脚接地，电压为0\"\n\n**核心代码模式**\n\n```python\nfrom machine import Pin\nimport time\n\n# 初始化引脚\nled = Pin(2, Pin.OUT)\nbutton = Pin(4, Pin.IN)\n\nwhile True:\n    if button.value() == 0:  # 按钮按下\n        led.value(1)         # 开灯\n    else:\n        led.value(0)         # 关灯\n    time.sleep_ms(20)        # 消抖延时\n```\n\n**消抖处理（重点）**\n\n```python\n# 切换开关实现\nlight_on = False  # 记录灯的状态\nlast_state = 1    # 记录上次按钮状态\n\nwhile True:\n    current_state = button.value()\n\n    # 检测按下瞬间（从1变成0）\n    if current_state == 0 and last_state == 1:\n        light_on = not light_on  # 切换状态\n        led.value(1 if light_on else 0)\n        time.sleep_ms(200)  # 防止连续触发\n\n    last_state = current_state\n    time.sleep_ms(20)\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解0和1 | 用开关类比 | \"按下接通=0，松开断开=1\" |\n| 按钮不灵敏 | 检查接线 | 确认按钮一端接引脚，一端接GND |\n| 切换不灵 | 检查边沿检测 | 确认是检测\"按下瞬间\"而非\"按住\" |\n\n**禁忌提醒**\n❌ **按钮两端都接VCC**——无法检测按下\n❌ **忘记消抖**——按一次可能触发多次\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L2-001]\n\n---\n\n### MP1-L3 模拟信号与PWM\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L3 |\n| **课程名称** | 模拟信号与PWM |\n| **认知负荷** | 中-高 |\n| **核心技能** | 数字/模拟信号区分、ADC模数转换、PWM脉宽调制 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"之前我们学的都是**数字信号**——只有0和1两种状态。但现实世界是连续变化的，比如旋钮可以转到任意角度。这就需要**模拟信号**！\"\n>\n> \"**ADC（模数转换）**：把模拟信号转换成数字\n> - 旋钮转动 → 电压变化(0-3.3V) → ADC读取 → 数字值(0-4095)\n>\n> **PWM（脉宽调制）**：用数字信号模拟模拟效果\n> - 快速开关LED，调整亮的时间占比\n> - 占空比50% = 一半时间亮 = 看起来半亮\"\n\n**核心代码模式**\n\n```python\nfrom machine import Pin, ADC, PWM\nimport time\n\n# ADC读取旋钮\nknob = ADC(Pin(34))\nknob.atten(ADC.ATTN_11DB)  # 设置量程0-3.3V\n\n# PWM控制LED亮度\nled_pwm = PWM(Pin(2), freq=1000)\n\nwhile True:\n    # 读取旋钮值(0-4095)\n    knob_value = knob.read()\n\n    # 映射到PWM占空比(0-1023)\n    duty = knob_value // 4\n    led_pwm.duty(duty)\n\n    print(f\"旋钮值: {knob_value}, 占空比: {duty}\")\n    time.sleep_ms(50)\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解ADC | 用温度计类比 | \"温度计显示25度，就是把温度转成数字\" |\n| PWM概念模糊 | 用风扇类比 | \"风扇快速开关，看起来像一直转但速度慢\" |\n| 数值范围混乱 | 画图演示 | ADC是0-4095，PWM是0-1023 |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L3-001]\n\n---\n\n### MP1-L4 类与实例(1)\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L4 |\n| **课程名称** | 类与实例(1) |\n| **认知负荷** | 高 |\n| **核心技能** | Class定义、Instance创建、面向对象思维 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天我们学习一个超级重要的概念——**面向对象编程(OOP)**！这是为了让你们理解为什么后面要写 `sensor = DHT11(pin)` 这样的代码。\"\n>\n> \"**类(Class)和实例(Instance)**：\n> - 类是**模板/蓝图/图纸**，定义了一类事物的共同特征\n> - 实例是根据类创建的**具体对象/实物**\n>\n> 比喻：类就像'做饼干的模具'，实例就是用模具压出来的'饼干'。\"\n\n**核心代码模式**\n\n```python\n# 定义一个\"狗\"类\nclass Dog:\n    # 属性（特征）\n    name = '小白'\n    color = '白色'\n\n    # 方法（行为）\n    def bark(self):\n        print('汪汪！')\n\n# 创建实例\ndog1 = Dog()\ndog1.name = '旺财'\ndog1.bark()  # 输出：汪汪！\n\ndog2 = Dog()\ndog2.name = '小黑'\nprint(dog2.name)  # 输出：小黑\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解类和实例 | 用模具类比 | \"类是模具，实例是用模具做出来的饼干\" |\n| 混淆类和实例 | 用图纸类比 | \"类是图纸，实例是按图纸造出来的房子\" |\n| 不知道为什么学OOP | 联系硬件 | \"后面的传感器驱动都是用类封装的\" |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L4-001]\n\n---\n\n### MP1-L5 类与实例(2)\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L5 |\n| **课程名称** | 类与实例(2) |\n| **认知负荷** | 高 |\n| **核心技能** | self关键字、__init__初始化、实例属性 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"上节课我们学了类和实例的基本概念。今天深入学习两个重要知识点：\n>\n> **self关键字**：代表实例本身\n> - 在方法里用self访问实例的属性\n> - 方法的第一个参数必须是self\n>\n> **__init__方法**：初始化方法\n> - 创建实例时自动调用\n> - 用来设置实例的初始属性\"\n\n**核心代码模式**\n\n```python\nclass Student:\n    # 初始化方法，创建对象时自动调用\n    def __init__(self, name, score):\n        self.name = name   # 实例属性\n        self.score = score\n\n    # 实例方法\n    def introduce(self):\n        print(f'我是{self.name}，考了{self.score}分')\n\n# 创建实例时传入参数\ns1 = Student('小明', 98)\ns2 = Student('小红', 100)\n\n# 调用方法\ns1.introduce()  # 输出：我是小明，考了98分\ns2.introduce()  # 输出：我是小红，考了100分\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 忘记写self | 强调规则 | \"方法的第一个参数必须是self，代表'我自己'\" |\n| __init__写错 | 强调双下划线 | \"左右各两个下划线，不是单下划线\" |\n| 不理解self | 用\"我\"类比 | \"self就是'我'，self.name就是'我的名字'\" |\n\n**禁忌提醒**\n❌ 方法定义忘记self——TypeError错误\n❌ __init__写成_init_——不会自动调用\n❌ 类名用小写——应该用大驼峰命名法\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L5-001]\n\n---\n\n### MP1-L6 硬件驱动封装\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L6 |\n| **课程名称** | 硬件驱动封装 |\n| **认知负荷** | 中-高 |\n| **核心技能** | import三种方式、NPY部件库、help()/test()标准接口 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"前两节课我们学了类和实例。现在来看看**NovaMP部件库**——它就是把各种传感器的驱动封装成了类！\"\n>\n> \"**三种import方式**：\n> ```python\n> # 方式1：导入整个模块\n> import novaMP\n> led = novaMP.LED(pin)\n>\n> # 方式2：从模块导入特定类\n> from novaMP import LED\n> led = LED(pin)\n>\n> # 方式3：导入所有（不推荐）\n> from novaMP import *\n> ```\n>\n> **标准化接口**：所有NovaMP驱动都有统一的方法\n> - `help()` - 查看使用说明\n> - `test()` - 测试硬件是否正常\"\n\n**核心代码模式**\n\n```python\n# 导入NovaMP部件库\nfrom novaMP import LED, Button\n\n# 创建LED实例\nled = LED(2)\n\n# 查看帮助\nled.help()  # 显示LED的使用说明\n\n# 测试硬件\nled.test()  # LED会闪烁几下，确认硬件正常\n\n# 正常使用\nled.fill((255, 0, 0))  # 设置红色\nled.write()            # 更新显示\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不知道用哪种import | 推荐方式2 | \"from...import最清晰，知道导入了什么\" |\n| 硬件不工作 | 先用test() | \"先测试硬件好坏，再检查代码\" |\n| 不会用新驱动 | 先用help() | \"不知道怎么用就先看帮助文档\" |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L6-001]\n\n---\n\n### MP1-L7 温湿度数据采集\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L7 |\n| **课程名称** | 温湿度数据采集 |\n| **认知负荷** | 中-高 |\n| **核心技能** | DHT11传感器、RTC时间戳、文件操作、CSV保存 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天我们用**DHT11传感器**采集温湿度数据，并保存到文件里！\"\n>\n> \"**DHT11注意事项**：\n> - 两次读取之间必须间隔**至少1秒**\n> - 否则会数据冲突或报错\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import DHT11\nfrom machine import RTC\nimport time\n\n# 创建传感器实例\ndht = DHT11(4)  # 连接到Pin 4\nrtc = RTC()\n\n# 读取数据\ndht.measure()  # 触发测量\ntemp = dht.temperature  # 获取温度\nhumi = dht.humidity     # 获取湿度\n\nprint(f\"温度: {temp}°C, 湿度: {humi}%\")\n\n# 保存到文件\nwith open('data.csv', 'a') as f:\n    timestamp = rtc.datetime()\n    f.write(f\"{timestamp},{temp},{humi}\\n\")\n\n# 注意：下次读取前要等待1秒\ntime.sleep(1)\n```\n\n**禁忌提醒**\n❌ **DHT11读取间隔<1秒**——会报错或数据不准\n❌ **忘记调用measure()**——temperature/humidity不会更新\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L7-001]\n\n---\n\n### MP1-L8 舵机与映射\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L8 |\n| **课程名称** | 舵机与映射 |\n| **认知负荷** | 中-高 |\n| **核心技能** | SG90舵机控制(0-180度)、数值映射算法 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天学习控制**舵机**——可以精确转动到指定角度的电机！\"\n>\n> \"**SG90舵机**：\n> - 转动范围：0-180度\n> - 用PWM信号控制角度\n>\n> **数值映射**：把一个范围的数值转换到另一个范围\n> - 旋钮值：0-4095\n> - 舵机角度：0-180\n> - 映射公式：angle = knob_value * 180 / 4095\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import SG90, NUB\nimport time\n\n# 创建实例\nservo = SG90(15)  # 舵机连接到Pin 15\nknob = NUB(34)    # 旋钮连接到Pin 34\n\ndef map_value(value, in_min, in_max, out_min, out_max):\n    \"\"\"数值映射函数\"\"\"\n    return (value - in_min) * (out_max - out_min) // (in_max - in_min) + out_min\n\nwhile True:\n    # 读取旋钮值\n    knob_value = knob.read()\n\n    # 映射到角度\n    angle = map_value(knob_value, 0, 4095, 0, 180)\n\n    # 控制舵机\n    servo.move_to(angle)\n\n    print(f\"旋钮: {knob_value}, 角度: {angle}\")\n    time.sleep_ms(50)\n```\n\n**禁忌提醒**\n❌ **强行扭动舵机**——会损坏内部齿轮（扫齿）\n❌ **角度超出0-180范围**——舵机会卡死\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L8-001]\n\n---\n\n### MP1-L9 声光互动\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L9 |\n| **课程名称** | 声光互动 |\n| **认知负荷** | 中-高 |\n| **核心技能** | RGB三基色(0-255)、NeoPixel库、声音传感器 |\n\n#### 详细教学流程\n\n**教师话术**\n> \"今天做一个**音强流水灯**——灯光随着声音的强弱变化！\"\n>\n> \"**RGB三基色**：\n> - R(红)、G(绿)、B(蓝)，每个值0-255\n> - (255, 0, 0) = 红色\n> - (0, 255, 0) = 绿色\n> - (255, 255, 0) = 黄色（红+绿）\n>\n> **NeoPixel灯带**：可以单独控制每颗LED的颜色\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import NeoPixel, Microphone\nimport time\n\n# 创建实例\nnp = NeoPixel(4, 12)  # Pin 4, 12颗灯珠\nmic = Microphone(34)\n\nwhile True:\n    # 读取音量\n    sound = mic.read()\n\n    # 根据音量调整亮度\n    brightness = min(255, sound // 16)\n\n    # 设置所有灯珠颜色\n    for i in range(12):\n        np[i] = (brightness, 0, brightness)  # 紫色\n\n    np.write()  # 更新显示\n    time.sleep_ms(50)\n```\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L9-001]\n\n---\n\n### MP1-L10~L12 海龟雷达项目\n\n#### 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L10/L11/L12 |\n| **课程名称** | 海龟雷达（综合项目） |\n| **认知负荷** | 高 |\n| **核心技能** | 超声波测距、串口通信UART、上下位机交互、数据可视化 |\n\n#### L10：超声波测距\n\n**教师话术**\n> \"**超声波测距原理**：\n> 1. 发射超声波\n> 2. 遇到障碍物反射回来\n> 3. 计算时间差，算出距离\n> - 距离 = 时间 × 声速 / 2\"\n\n**核心代码模式**\n\n```python\nfrom novaMP import HCSR04\nimport time\n\n# 创建超声波传感器实例\nsonar = HCSR04(trig=5, echo=18)\n\nwhile True:\n    distance = sonar.distance_cm()\n    print(f\"距离: {distance} cm\")\n    time.sleep_ms(100)\n```\n\n#### L11：串口通信\n\n**教师话术**\n> \"**串口通信(UART)**：让ESP32和电脑'对话'\n> - TX(发送) 接 RX(接收)\n> - RX(接收) 接 TX(发送)\n> - 必须**交叉连接**！\"\n\n**核心代码模式**\n\n```python\nfrom machine import UART\nimport time\n\n# 创建串口实例\nuart = UART(2, baudrate=9600, tx=17, rx=16)\n\n# 发送数据到电脑\nuart.write('Hello from ESP32!\\n')\n\n# 接收电脑发来的数据\nif uart.any():\n    data = uart.read()\n    print(f\"收到: {data}\")\n```\n\n**禁忌提醒**\n❌ **TX接TX，RX接RX**——通信失败，必须交叉连接\n❌ **串口被占用时烧录代码**——需要先停止程序或重刷固件\n\n#### L12：雷达可视化\n\n**教师话术**\n> \"最后一步，把所有功能整合起来！\n> - 舵机扫描（0-180度）\n> - 超声波测距\n> - 串口发送数据\n> - 电脑用Python海龟画图显示雷达图\"\n\n**核心代码模式（ESP32端）**\n\n```python\nfrom novaMP import SG90, HCSR04\nfrom machine import UART\nimport time\n\nservo = SG90(15)\nsonar = HCSR04(trig=5, echo=18)\nuart = UART(2, baudrate=9600, tx=17, rx=16)\n\n# 雷达扫描\nfor angle in range(0, 181, 5):\n    servo.move_to(angle)\n    time.sleep_ms(100)\n\n    distance = sonar.distance_cm()\n\n    # 发送数据：角度,距离\n    uart.write(f\"{angle},{distance}\\n\")\n```\n\n**评估标准**\n- ✅ 舵机能转动（0-180度扫描）\n- ✅ 超声波能测距\n- ✅ 电脑屏幕能画出雷达扫描图\n- 重点：**功能实现优先，底层原理可略讲**\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L10-001]\n[UID: PYAI-23-MP1-L11-001]\n[UID: PYAI-23-MP1-L12-001]\n\n---\n\n## NovaMP部件库参考\n\n| 模块/类名 | 对应硬件 | 核心方法 | 备注 |\n|-----------|----------|----------|------|\n| LED | LED模块 | fill(), write(), test(), help() | RGB颜色设置 |\n| Button | 按钮模块 | value(), test(), help() | 输入模式，防抖 |\n| DHT11 | 温湿度传感器 | measure(), temperature, humidity | 读取间隔>1秒 |\n| SG90 | 舵机 | move_to(angle), test() | 0-180度 |\n| NUB | 旋钮(电位器) | read() | ADC 0-4095 |\n| NeoPixel | WS2812B灯带 | [i]=(R,G,B), write() | RGB 0-255 |\n| Microphone | 声音传感器 | read(), peak_detected | 音量检测 |\n| HCSR04 | 超声波传感器 | distance_cm() | 测距 |\n| UART | 串口通信 | write(), read(), any() | TX接RX交叉 |\n| RTC | 实时时钟 | datetime() | 时间戳 |\n\n**统一接口**：所有驱动均提供 `help()` 查看说明、`test()` 快速测试\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-LIB-001]\n\n---\n\n## 硬件套件清单\n\n| 类别 | 硬件名称 | 数量 | 对应课程 | 备注 |\n|------|----------|------|----------|------|\n| **主控** | NovaStar ESP32开发板 | 1 | 全阶段 | 必须支持MicroPython及NovaMP固件 |\n| **基础** | Type-C数据线 | 1 | 全阶段 | 需具备数据传输功能 |\n| | 面包板 & 杜邦线 | 若干 | 全阶段 | 公对母、公对公、母对母均需 |\n| **输入** | 按钮模块(Button) | 1 | L2, L6 | 建议带上拉/下拉电阻 |\n| | 旋钮电位器(Knob) | 1 | L3, L8 | 模拟信号输入 |\n| | 声音传感器(Mic) | 1 | L9 | 需支持模拟量输出 |\n| | DHT11温湿度传感器 | 1 | L7 | |\n| | HC-SR04超声波传感器 | 1 | L10-12 | 4引脚(VCC,GND,Trig,Echo) |\n| **输出** | LED模块(单色) | 1 | L1-3 | |\n| | WS2812B RGB灯带 | 1 | L9 | 建议8-12颗灯珠 |\n| | SG90舵机(180度) | 1 | L8, L10-12 | 蓝色微型舵机，需配套摇臂 |\n| **通信** | 4Pin连接线 | 若干 | L10-12 | 用于I2C或UART设备 |\n\n**采购建议**：强烈建议采购官方配套的NovaStar套件，使用第三方通用ESP32板可能导致固件不兼容\n\n---\n\n## 教学禁忌清单（硬件安全红线）\n\n| 序号 | 禁忌 | 原因 | 正确做法 |\n|------|------|------|----------|\n| 1 | ❌ **带电接线** | 短路烧毁开发板 | 必须断电后再接线 |\n| 2 | ❌ **短路（VCC直接接GND）** | 烧毁开发板 | 红线(VCC)和黑线(GND)绝对不能直接连接 |\n| 3 | ❌ **开发板放金属表面通电** | 底部引脚短路 | 放在绝缘表面（桌面、纸板） |\n| 4 | ❌ **强行扭动舵机** | 损坏内部齿轮（扫齿） | 不要用力手动扭转舵机摆臂 |\n| 5 | ❌ **DHT11读取间隔<1秒** | 数据冲突或报错 | 两次measure()之间至少sleep(1) |\n| 6 | ❌ **串口TX接TX，RX接RX** | 通信失败 | 必须交叉连接：TX接RX，RX接TX |\n| 7 | ❌ **串口占用时烧录代码** | IDE无法连接 | 先停止程序或重刷固件 |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-TABOO-001]\n\n---\n\n## 评估标准\n\n| 评估维度 | 权重 | 具体要求 |\n|----------|------|----------|\n| **功能实现** | 60% | L1-9：代码跑通，硬件反应符合预期；L10-12：必须完成可视化闭环 |\n| **工程素养** | 20% | 标准化排错习惯（help()看文档、test()测硬件）；接线规范 |\n| **代码理解** | 20% | 能解释import方式；能区分main.py和boot.py；理解Class和Instance |\n\n**评估原则**：\"重应用，轻底层\"——不要求学生手写底层驱动，但要求能熟练调用库实现功能\n\n---\n\n## 与现有课程的衔接关系\n\n| 衔接维度 | 说明 |\n|----------|------|\n| **语法无缝衔接** | MicroPython语法与PYAI L1/L2的Python 3完全一致 |\n| **知识点互补** | PYAI L1侧重逻辑思维 → MP1直接应用这些逻辑控制硬件 |\n| **OOP深化** | PYAI L2只涉及简单对象调用 → MP1的L4-6专门深入讲解OOP |\n| **技能迁移** | 软件\"调试(Print)\" → 硬件\"串口打印\"；软件\"文件读写\" → 硬件\"传感器数据保存\" |\n| **替换关系** | 本课程替换原有的PYAI 1-4智能硬件课程（基于C++/图形化） |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-LINK-001]\n\n---\n\n## 底层教育学原理\n\n| 原理 | 说明 | 在本单元的应用 |\n|------|------|----------------|\n| **物联网架构** | 感知层-处理层-应用层 | 传感器→ESP32/Python→执行器 |\n| **软硬结合** | 代码驱动物理硬件 | Python控制LED、电机、舵机 |\n| **OOP封装** | 把复杂驱动封装成简单接口 | NovaMP库的help()/test()统一接口 |\n| **项目制学习** | 完整项目驱动学习 | 海龟雷达综合项目（L10-12） |\n| **螺旋式上升** | 知识点逐步加深 | 基础→OOP→传感器→综合项目 |\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP-THEORY-001]\n\n---\n\n## 单元总结\n\n**MP1阶段（基础入门）完整萃取**\n\n| 课程编号 | 课程名称 | 核心概念 |\n|----------|----------|----------|\n| MP1-L1 | 初识MicroPython | ESP32、Pin类、time模块 |\n| MP1-L2 | 按钮与数字输入 | 输入模式、消抖处理 |\n| MP1-L3 | 模拟信号与PWM | ADC、PWM、数值映射 |\n| MP1-L4 | 类与实例(1) | Class、Instance、OOP基础 |\n| MP1-L5 | 类与实例(2) | self、__init__、实例属性 |\n| MP1-L6 | 硬件驱动封装 | import方式、NovaMP库 |\n| MP1-L7 | 温湿度数据采集 | DHT11、RTC、文件操作 |\n| MP1-L8 | 舵机与映射 | SG90、数值映射算法 |\n| MP1-L9 | 声光互动 | RGB、NeoPixel、声音传感器 |\n| MP1-L10 | 海龟雷达(1) | 超声波测距原理 |\n| MP1-L11 | 海龟雷达(2) | 串口通信UART |\n| MP1-L12 | 海龟雷达(3) | 综合项目、数据可视化 |\n\n---\n\n**质量评估**：10/10（原子化萃取版，12节课完整萃取）\n**已补充**：认知负荷标签、IFC标签、变体示例、详细教师话术、硬件安全禁忌、核心代码模式\n**课程覆盖**：MP1-L1至MP1-L12全部12节课\n\n---\n\n**最后更新**：2026-02-09\n**来源**：智能纪要：Python2-3新课体系培训1 2026年2月5日\n"
}