{
  "title": "[CODE3-2-12] 勇闯黑白岛-交互与AI",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\CODE\\CODE3\\M2_游戏开发\\CODE3-2-12_勇闯黑白岛-交互与AI.md",
  "sections": [
    {
      "title": "课程基本信息",
      "content": "| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-12 |\n| **课程名称** | 勇闯黑白岛-交互与AI |\n| **认知负荷** | 高 |\n| **核心技能** | NPC对话、敌人巡逻AI、机关陷阱 |\n| **所属项目** | 项目四：勇闯黑白岛（第10-12课） |\n\n---"
    },
    {
      "title": "详细教学流程",
      "content": "### 步骤1：项目回顾（5分钟）\n\n`#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们的勇闯黑白岛已经有了重力和卷轴地图！今天是最后一课，我们要让游戏更有趣——加入NPC对话、敌人AI和机关陷阱！\"\n\n---\n\n### 步骤2：任务分析（15分钟）\n\n`#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"今天要做三个功能：\n>\n> 1. **NPC对话**：遇到村民，按空格键可以对话\n> 2. **敌人AI**：怪物会来回巡逻，碰到就掉血\n> 3. **机关陷阱**：踩到陷阱会触发机关\n>\n> 先来看NPC对话的逻辑：\n> - 主角靠近NPC时，显示'按空格对话'提示\n> - 按空格后，NPC说出对话内容\n> - 对话可以用列表存储多句话\n>\n> 敌人AI的逻辑：\n> - 敌人在两个点之间来回走动（巡逻）\n> - 碰到边界就转向\n> - 碰到主角就造成伤害\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 对话太简单 | 添加选项 | 玩家可以选择回答 |\n| 敌人太难 | 减慢速度 | 敌人移动速度降低 |\n| 想增加功能 | 添加商店 | NPC可以买卖道具 |\n\n**核心代码模式**\n```\n// NPC对话系统\n当绿旗被点击\n将 [对话列表] 设为 [你好，勇士！|前方有危险！|小心那些怪物！|祝你好运！]\n将 [当前对话] 设为 (0)\n隐藏变量 [对话提示]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    显示变量 [对话提示]\n    将 [对话提示] 设为 [按空格对话]\n    如果 <按下 [空格] 键?> 那么\n      将 [当前对话] 增加 (1)\n      如果 <(当前对话) > (4)> 那么\n        将 [当前对话] 设为 (1)\n      结束\n      说 (第 (当前对话) 项 [对话列表]) (2) 秒\n      等待 (0.5) 秒\n    结束\n  否则\n    隐藏变量 [对话提示]\n  结束\n结束\n\n// 敌人巡逻AI\n当绿旗被点击\n将 [巡逻方向] 设为 (1)  // 1=向右，-1=向左\n将 [左边界] 设为 (-100)\n将 [右边界] 设为 (100)\n重复执行\n  // 巡逻移动\n  将 x 增加 ((巡逻方向) * 2)\n  // 到达边界就转向\n  如果 <(x) > (右边界)> 那么\n    将 [巡逻方向] 设为 (-1)\n    面向 (-90) 度  // 面向左\n  结束\n  如果 <(x) < (左边界)> 那么\n    将 [巡逻方向] 设为 (1)\n    面向 (90) 度   // 面向右\n  结束\n  // 碰到主角造成伤害\n  如果 <碰到 [主角] ?> 那么\n    广播 [主角受伤]\n    等待 (1) 秒  // 无敌时间\n  结束\n结束\n\n// 机关陷阱\n当绿旗被点击\n将造型设为 [隐藏]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    将造型设为 [触发]\n    播放声音 [陷阱]\n    广播 [陷阱触发]\n    等待 (0.5) 秒\n    // 发射飞镖或落石\n    克隆 [飞镖]\n    等待 (2) 秒\n    将造型设为 [隐藏]\n  结束\n结束\n\n// 主角受伤处理\n当收到 [主角受伤]\n将 [生命值] 增加 (-1)\n将 [虚像] 特效设为 (50)  // 闪烁效果\n等待 (0.2) 秒\n清除图形特效\n如果 <(生命值) <= (0)> 那么\n  广播 [游戏结束]\n结束\n```\n\n---\n\n### 步骤3：游戏完善（15分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"最后我们来完善游戏：\n> 1. **生命值系统**：用爱心显示剩余生命\n> 2. **胜利条件**：到达终点旗帜就胜利\n> 3. **开始/结束界面**：让游戏更完整\"\n\n**核心代码模式**\n```\n// 胜利判定\n当绿旗被点击\n重复执行\n  如果 <碰到 [终点旗帜] ?> 那么\n    广播 [游戏胜利]\n    停止 [全部]\n  结束\n结束\n\n// 游戏胜利界面\n当收到 [游戏胜利]\n播放声音 [胜利]\n说 [恭喜通关！] (3) 秒\n```\n\n---\n\n### 步骤4：家长班会（10分钟）\n\n`#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！勇闯黑白岛项目完成了！这是一个完整的平台跳跃游戏，三节课下来，孩子们学会了：\n> 1. **重力引擎**：物理模拟，让角色能跳跃和下落\n> 2. **卷轴地图**：相对运动，创造无限大的游戏世界\n> 3. **游戏AI**：敌人巡逻、NPC对话、机关陷阱\n>\n> 整个CODE3-2单元，孩子们完成了四个大型游戏项目：\n> - 太空防卫战：克隆、变量、冷却机制\n> - 篮球小子：状态机、抛物线算法\n> - 植物大战僵尸：列表、网格对齐、射线检测\n> - 勇闯黑白岛：重力引擎、卷轴地图、敌人AI\n>\n> 这些都是专业游戏开发的核心技术！孩子们已经具备了独立设计和开发游戏的能力！\"\n\n---"
    },
    {
      "title": "核心知识点",
      "content": "- NPC对话：靠近触发、按键交互、列表存储对话\n- 敌人巡逻AI：边界检测、方向切换、伤害判定\n- 机关陷阱：触发检测、状态切换、克隆发射\n- 生命值系统：变量管理、受伤反馈、游戏结束\n\n---"
    },
    {
      "title": "底层逻辑",
      "content": "- **游戏AI**：用简单规则模拟智能行为\n- **状态管理**：用变量记录游戏各种状态\n- **完整性**：开始、游戏、结束的完整流程\n\n---"
    },
    {
      "title": "导航",
      "content": "- **上一课**：[CODE3-2-11 勇闯黑白岛-卷轴地图](CODE3-2-11_勇闯黑白岛-卷轴地图.md)\n- **下一课**：[CODE3-3-01 高级工程入门](../M3_高级工程/CODE3-3-01_高级工程入门.md)\n- **模块概览**：[M2 游戏开发](_模块概览.md)\n\n---\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-12-001]"
    }
  ],
  "full_content": "# [CODE3-2-12] 勇闯黑白岛-交互与AI\n\n> **模块**：M2 游戏开发\n> **认知负荷**：高\n> **核心技能**：NPC对话、敌人巡逻AI、机关陷阱\n> **UID**：CODE3-M2-12-001\n\n---\n\n## 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | 3-2-12 |\n| **课程名称** | 勇闯黑白岛-交互与AI |\n| **认知负荷** | 高 |\n| **核心技能** | NPC对话、敌人巡逻AI、机关陷阱 |\n| **所属项目** | 项目四：勇闯黑白岛（第10-12课） |\n\n---\n\n## 详细教学流程\n\n### 步骤1：项目回顾（5分钟）\n\n`#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"我们的勇闯黑白岛已经有了重力和卷轴地图！今天是最后一课，我们要让游戏更有趣——加入NPC对话、敌人AI和机关陷阱！\"\n\n---\n\n### 步骤2：任务分析（15分钟）\n\n`#中负荷-操练` `#IFC-即时` ⭐核心环节\n\n**教师话术**\n> \"今天要做三个功能：\n>\n> 1. **NPC对话**：遇到村民，按空格键可以对话\n> 2. **敌人AI**：怪物会来回巡逻，碰到就掉血\n> 3. **机关陷阱**：踩到陷阱会触发机关\n>\n> 先来看NPC对话的逻辑：\n> - 主角靠近NPC时，显示'按空格对话'提示\n> - 按空格后，NPC说出对话内容\n> - 对话可以用列表存储多句话\n>\n> 敌人AI的逻辑：\n> - 敌人在两个点之间来回走动（巡逻）\n> - 碰到边界就转向\n> - 碰到主角就造成伤害\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 对话太简单 | 添加选项 | 玩家可以选择回答 |\n| 敌人太难 | 减慢速度 | 敌人移动速度降低 |\n| 想增加功能 | 添加商店 | NPC可以买卖道具 |\n\n**核心代码模式**\n```\n// NPC对话系统\n当绿旗被点击\n将 [对话列表] 设为 [你好，勇士！|前方有危险！|小心那些怪物！|祝你好运！]\n将 [当前对话] 设为 (0)\n隐藏变量 [对话提示]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    显示变量 [对话提示]\n    将 [对话提示] 设为 [按空格对话]\n    如果 <按下 [空格] 键?> 那么\n      将 [当前对话] 增加 (1)\n      如果 <(当前对话) > (4)> 那么\n        将 [当前对话] 设为 (1)\n      结束\n      说 (第 (当前对话) 项 [对话列表]) (2) 秒\n      等待 (0.5) 秒\n    结束\n  否则\n    隐藏变量 [对话提示]\n  结束\n结束\n\n// 敌人巡逻AI\n当绿旗被点击\n将 [巡逻方向] 设为 (1)  // 1=向右，-1=向左\n将 [左边界] 设为 (-100)\n将 [右边界] 设为 (100)\n重复执行\n  // 巡逻移动\n  将 x 增加 ((巡逻方向) * 2)\n  // 到达边界就转向\n  如果 <(x) > (右边界)> 那么\n    将 [巡逻方向] 设为 (-1)\n    面向 (-90) 度  // 面向左\n  结束\n  如果 <(x) < (左边界)> 那么\n    将 [巡逻方向] 设为 (1)\n    面向 (90) 度   // 面向右\n  结束\n  // 碰到主角造成伤害\n  如果 <碰到 [主角] ?> 那么\n    广播 [主角受伤]\n    等待 (1) 秒  // 无敌时间\n  结束\n结束\n\n// 机关陷阱\n当绿旗被点击\n将造型设为 [隐藏]\n重复执行\n  如果 <碰到 [主角] ?> 那么\n    将造型设为 [触发]\n    播放声音 [陷阱]\n    广播 [陷阱触发]\n    等待 (0.5) 秒\n    // 发射飞镖或落石\n    克隆 [飞镖]\n    等待 (2) 秒\n    将造型设为 [隐藏]\n  结束\n结束\n\n// 主角受伤处理\n当收到 [主角受伤]\n将 [生命值] 增加 (-1)\n将 [虚像] 特效设为 (50)  // 闪烁效果\n等待 (0.2) 秒\n清除图形特效\n如果 <(生命值) <= (0)> 那么\n  广播 [游戏结束]\n结束\n```\n\n---\n\n### 步骤3：游戏完善（15分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"最后我们来完善游戏：\n> 1. **生命值系统**：用爱心显示剩余生命\n> 2. **胜利条件**：到达终点旗帜就胜利\n> 3. **开始/结束界面**：让游戏更完整\"\n\n**核心代码模式**\n```\n// 胜利判定\n当绿旗被点击\n重复执行\n  如果 <碰到 [终点旗帜] ?> 那么\n    广播 [游戏胜利]\n    停止 [全部]\n  结束\n结束\n\n// 游戏胜利界面\n当收到 [游戏胜利]\n播放声音 [胜利]\n说 [恭喜通关！] (3) 秒\n```\n\n---\n\n### 步骤4：家长班会（10分钟）\n\n`#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"各位家长大家好！勇闯黑白岛项目完成了！这是一个完整的平台跳跃游戏，三节课下来，孩子们学会了：\n> 1. **重力引擎**：物理模拟，让角色能跳跃和下落\n> 2. **卷轴地图**：相对运动，创造无限大的游戏世界\n> 3. **游戏AI**：敌人巡逻、NPC对话、机关陷阱\n>\n> 整个CODE3-2单元，孩子们完成了四个大型游戏项目：\n> - 太空防卫战：克隆、变量、冷却机制\n> - 篮球小子：状态机、抛物线算法\n> - 植物大战僵尸：列表、网格对齐、射线检测\n> - 勇闯黑白岛：重力引擎、卷轴地图、敌人AI\n>\n> 这些都是专业游戏开发的核心技术！孩子们已经具备了独立设计和开发游戏的能力！\"\n\n---\n\n## 核心知识点\n\n- NPC对话：靠近触发、按键交互、列表存储对话\n- 敌人巡逻AI：边界检测、方向切换、伤害判定\n- 机关陷阱：触发检测、状态切换、克隆发射\n- 生命值系统：变量管理、受伤反馈、游戏结束\n\n---\n\n## 底层逻辑\n\n- **游戏AI**：用简单规则模拟智能行为\n- **状态管理**：用变量记录游戏各种状态\n- **完整性**：开始、游戏、结束的完整流程\n\n---\n\n## 导航\n\n- **上一课**：[CODE3-2-11 勇闯黑白岛-卷轴地图](CODE3-2-11_勇闯黑白岛-卷轴地图.md)\n- **下一课**：[CODE3-3-01 高级工程入门](../M3_高级工程/CODE3-3-01_高级工程入门.md)\n- **模块概览**：[M2 游戏开发](_模块概览.md)\n\n---\n\n`#执行层` `#测评项`\n[UID: CODE3-M2-12-001]\n"
}