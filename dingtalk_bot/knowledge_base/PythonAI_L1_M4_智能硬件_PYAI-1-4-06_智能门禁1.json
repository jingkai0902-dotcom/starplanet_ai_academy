{
  "title": "[PYAI-1-4-06] 智能门禁(1) - 人脸捕捉相机",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\PythonAI\\L1\\M4_智能硬件\\PYAI-1-4-06_智能门禁1.md",
  "sections": [
    {
      "title": "课程基本信息",
      "content": "| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI-1-4-06 |\n| **课程名称** | 智能门禁(1) - 人脸捕捉相机 |\n| **认知负荷** | 高 |\n| **核心技能** | AI视觉基础、cv2.VideoCapture |\n| **课时** | 90分钟 |\n| **系列** | 智能门禁三部曲（1/3） |\n\n---"
    },
    {
      "title": "详细教学流程",
      "content": "### 步骤1：课程导入（5分钟）\n\n`#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"同学们，今天我们开始做智能门禁系统！第一步是让电脑'看见'人脸。这是AI视觉的入门——让计算机拥有'眼睛'！\"\n\n---\n\n### 步骤2：知识讲解（15分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"我们用**OpenCV**库来控制摄像头。OpenCV是计算机视觉领域最流行的库。\n>\n> **基本流程**：\n> 1. 打开摄像头\n> 2. 读取图像帧\n> 3. 显示图像\n> 4. 释放摄像头\n>\n> ```python\n> import cv2\n>\n> # 打开摄像头（0表示第一个摄像头）\n> cap = cv2.VideoCapture(0)\n>\n> # 读取一帧图像\n> ret, frame = cap.read()\n> # ret: 是否成功读取（True/False）\n> # frame: 图像数据（numpy数组）\n>\n> # 显示图像\n> cv2.imshow('Camera', frame)\n>\n> # 等待按键\n> cv2.waitKey(0)\n>\n> # 释放摄像头\n> cap.release()\n> cv2.destroyAllWindows()\n> ```\"\n\n**核心代码模式**\n\n```python\nimport cv2\n\n# 打开摄像头\ncap = cv2.VideoCapture(0)\n\n# 检查摄像头是否打开成功\nif not cap.isOpened():\n    print(\"无法打开摄像头\")\n    exit()\n\nwhile True:\n    # 读取一帧\n    ret, frame = cap.read()\n\n    if not ret:\n        print(\"无法读取图像\")\n        break\n\n    # 显示图像\n    cv2.imshow('Camera', frame)\n\n    # 按'q'键退出\n    if cv2.waitKey(1) & 0xFF == ord('q'):\n        break\n\n# 释放资源\ncap.release()\ncv2.destroyAllWindows()\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 摄像头打不开 | 检查设备 | 确认摄像头没被其他程序占用 |\n| 图像是黑的 | 检查权限 | 可能需要授权摄像头访问 |\n| 想保存照片 | 使用imwrite | `cv2.imwrite('photo.jpg', frame)` |\n\n---\n\n### 步骤3：硬件准备（20分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"今天使用电脑自带的摄像头或USB摄像头。\n>\n> **检查步骤**：\n> 1. 确认摄像头已连接\n> 2. 在设备管理器中查看是否识别\n> 3. 关闭其他可能占用摄像头的程序（如QQ、微信视频）\n>\n> **摄像头参数**：\n> ```python\n> # 设置分辨率\n> cap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)\n> cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)\n>\n> # 获取当前分辨率\n> width = cap.get(cv2.CAP_PROP_FRAME_WIDTH)\n> height = cap.get(cv2.CAP_PROP_FRAME_HEIGHT)\n> print(f'分辨率: {width}x{height}')\n> ```\"\n\n**禁忌提醒**\n\n❌ **忘记释放摄像头**——程序结束前必须调用 `cap.release()`\n❌ **摄像头被占用**——确保没有其他程序在使用摄像头\n❌ **无限循环没有退出条件**——必须有按键退出机制\n\n---\n\n### 步骤4：编程调试（30分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"现在我们来实现**拍照功能**：\n>\n> ```python\n> import cv2\n>\n> cap = cv2.VideoCapture(0)\n> photo_count = 0\n>\n> while True:\n>     ret, frame = cap.read()\n>     if not ret:\n>         break\n>\n>     # 在画面上显示提示\n>     cv2.putText(frame, 'Press S to save, Q to quit',\n>                 (10, 30), cv2.FONT_HERSHEY_SIMPLEX,\n>                 0.7, (0, 255, 0), 2)\n>\n>     cv2.imshow('Camera', frame)\n>\n>     key = cv2.waitKey(1) & 0xFF\n>     if key == ord('s'):\n>         # 保存照片\n>         filename = f'photo_{photo_count}.jpg'\n>         cv2.imwrite(filename, frame)\n>         print(f'已保存: {filename}')\n>         photo_count += 1\n>     elif key == ord('q'):\n>         break\n>\n> cap.release()\n> cv2.destroyAllWindows()\n> ```\n>\n> 按S键拍照，按Q键退出。试试看！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 按键没反应 | 检查窗口焦点 | 确保OpenCV窗口是当前活动窗口 |\n| 想加滤镜 | 图像处理 | 可以加灰度、模糊等效果 |\n| 想录视频 | 使用VideoWriter | 保存为视频文件 |\n\n---\n\n### 步骤5：成果展示（10分钟）\n\n`#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"谁的摄像头程序做好了？展示一下你拍的照片！\n>\n> 下节课我们将学习如何让电脑'认识'人脸——人脸比对算法！\"\n\n---"
    },
    {
      "title": "核心知识点",
      "content": "- OpenCV摄像头控制：`cv2.VideoCapture(0)`\n- 读取图像帧：`cap.read()` 返回 (ret, frame)\n- 显示图像：`cv2.imshow('窗口名', frame)`\n- 资源释放：`cap.release()` + `cv2.destroyAllWindows()`\n\n---"
    },
    {
      "title": "底层逻辑",
      "content": "- **AI视觉流程**：采集 → 处理 → 输出\n- **实时处理**：循环读取帧，实现视频效果\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-14-06-001]\n\n---\n\n[上一课](PYAI-1-4-05_智能通风.md) | [返回模块](_模块概览.md) | [下一课](PYAI-1-4-07_智能门禁2.md)"
    }
  ],
  "full_content": "# [PYAI-1-4-06] 智能门禁(1) - 人脸捕捉相机\n\n> **模块**：L1-M4 智能硬件\n> **认知负荷**：高\n> **核心技能**：AI视觉基础、cv2.VideoCapture\n> **UID**：PYAI-14-06-001\n\n---\n\n## 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI-1-4-06 |\n| **课程名称** | 智能门禁(1) - 人脸捕捉相机 |\n| **认知负荷** | 高 |\n| **核心技能** | AI视觉基础、cv2.VideoCapture |\n| **课时** | 90分钟 |\n| **系列** | 智能门禁三部曲（1/3） |\n\n---\n\n## 详细教学流程\n\n### 步骤1：课程导入（5分钟）\n\n`#低负荷-热身` `#IFC-预防`\n\n**教师话术**\n> \"同学们，今天我们开始做智能门禁系统！第一步是让电脑'看见'人脸。这是AI视觉的入门——让计算机拥有'眼睛'！\"\n\n---\n\n### 步骤2：知识讲解（15分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"我们用**OpenCV**库来控制摄像头。OpenCV是计算机视觉领域最流行的库。\n>\n> **基本流程**：\n> 1. 打开摄像头\n> 2. 读取图像帧\n> 3. 显示图像\n> 4. 释放摄像头\n>\n> ```python\n> import cv2\n>\n> # 打开摄像头（0表示第一个摄像头）\n> cap = cv2.VideoCapture(0)\n>\n> # 读取一帧图像\n> ret, frame = cap.read()\n> # ret: 是否成功读取（True/False）\n> # frame: 图像数据（numpy数组）\n>\n> # 显示图像\n> cv2.imshow('Camera', frame)\n>\n> # 等待按键\n> cv2.waitKey(0)\n>\n> # 释放摄像头\n> cap.release()\n> cv2.destroyAllWindows()\n> ```\"\n\n**核心代码模式**\n\n```python\nimport cv2\n\n# 打开摄像头\ncap = cv2.VideoCapture(0)\n\n# 检查摄像头是否打开成功\nif not cap.isOpened():\n    print(\"无法打开摄像头\")\n    exit()\n\nwhile True:\n    # 读取一帧\n    ret, frame = cap.read()\n\n    if not ret:\n        print(\"无法读取图像\")\n        break\n\n    # 显示图像\n    cv2.imshow('Camera', frame)\n\n    # 按'q'键退出\n    if cv2.waitKey(1) & 0xFF == ord('q'):\n        break\n\n# 释放资源\ncap.release()\ncv2.destroyAllWindows()\n```\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 摄像头打不开 | 检查设备 | 确认摄像头没被其他程序占用 |\n| 图像是黑的 | 检查权限 | 可能需要授权摄像头访问 |\n| 想保存照片 | 使用imwrite | `cv2.imwrite('photo.jpg', frame)` |\n\n---\n\n### 步骤3：硬件准备（20分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"今天使用电脑自带的摄像头或USB摄像头。\n>\n> **检查步骤**：\n> 1. 确认摄像头已连接\n> 2. 在设备管理器中查看是否识别\n> 3. 关闭其他可能占用摄像头的程序（如QQ、微信视频）\n>\n> **摄像头参数**：\n> ```python\n> # 设置分辨率\n> cap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)\n> cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)\n>\n> # 获取当前分辨率\n> width = cap.get(cv2.CAP_PROP_FRAME_WIDTH)\n> height = cap.get(cv2.CAP_PROP_FRAME_HEIGHT)\n> print(f'分辨率: {width}x{height}')\n> ```\"\n\n**禁忌提醒**\n\n❌ **忘记释放摄像头**——程序结束前必须调用 `cap.release()`\n❌ **摄像头被占用**——确保没有其他程序在使用摄像头\n❌ **无限循环没有退出条件**——必须有按键退出机制\n\n---\n\n### 步骤4：编程调试（30分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"现在我们来实现**拍照功能**：\n>\n> ```python\n> import cv2\n>\n> cap = cv2.VideoCapture(0)\n> photo_count = 0\n>\n> while True:\n>     ret, frame = cap.read()\n>     if not ret:\n>         break\n>\n>     # 在画面上显示提示\n>     cv2.putText(frame, 'Press S to save, Q to quit',\n>                 (10, 30), cv2.FONT_HERSHEY_SIMPLEX,\n>                 0.7, (0, 255, 0), 2)\n>\n>     cv2.imshow('Camera', frame)\n>\n>     key = cv2.waitKey(1) & 0xFF\n>     if key == ord('s'):\n>         # 保存照片\n>         filename = f'photo_{photo_count}.jpg'\n>         cv2.imwrite(filename, frame)\n>         print(f'已保存: {filename}')\n>         photo_count += 1\n>     elif key == ord('q'):\n>         break\n>\n> cap.release()\n> cv2.destroyAllWindows()\n> ```\n>\n> 按S键拍照，按Q键退出。试试看！\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 按键没反应 | 检查窗口焦点 | 确保OpenCV窗口是当前活动窗口 |\n| 想加滤镜 | 图像处理 | 可以加灰度、模糊等效果 |\n| 想录视频 | 使用VideoWriter | 保存为视频文件 |\n\n---\n\n### 步骤5：成果展示（10分钟）\n\n`#低负荷-热身` `#IFC-复盘`\n\n**教师话术**\n> \"谁的摄像头程序做好了？展示一下你拍的照片！\n>\n> 下节课我们将学习如何让电脑'认识'人脸——人脸比对算法！\"\n\n---\n\n## 核心知识点\n\n- OpenCV摄像头控制：`cv2.VideoCapture(0)`\n- 读取图像帧：`cap.read()` 返回 (ret, frame)\n- 显示图像：`cv2.imshow('窗口名', frame)`\n- 资源释放：`cap.release()` + `cv2.destroyAllWindows()`\n\n---\n\n## 底层逻辑\n\n- **AI视觉流程**：采集 → 处理 → 输出\n- **实时处理**：循环读取帧，实现视频效果\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-14-06-001]\n\n---\n\n[上一课](PYAI-1-4-05_智能通风.md) | [返回模块](_模块概览.md) | [下一课](PYAI-1-4-07_智能门禁2.md)\n"
}