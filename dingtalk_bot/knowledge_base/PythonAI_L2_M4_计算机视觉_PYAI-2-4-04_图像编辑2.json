{
  "title": "[PYAI-2-4-04] 图像编辑2",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\PythonAI\\L2\\M4_计算机视觉\\PYAI-2-4-04_图像编辑2.md",
  "sections": [
    {
      "title": "课程基本信息",
      "content": "| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI-2-4-04 |\n| **课程名称** | 图像编辑2 - 局部马赛克 |\n| **认知负荷** | 高 |\n| **核心技能** | ROI区域替换、cv2.resize、os.listdir |\n| **项目内容** | 局部马赛克 |\n\n---"
    },
    {
      "title": "详细教学流程",
      "content": "### 步骤1：知识讲解（20分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"上节课我们学了整张图片的操作，今天学习**局部区域操作**！\n>\n> **ROI (Region of Interest)** 就是'感兴趣区域'，我们可以只处理图片的一部分。\n>\n> ```python\n> import cv2\n>\n> img = cv2.imread('photo.jpg')\n>\n> # 用切片获取ROI区域 [y1:y2, x1:x2]\n> roi = img[100:200, 150:250]  # 从(150,100)到(250,200)的区域\n>\n> # 修改ROI\n> roi[:] = [0, 0, 255]  # 把这个区域变成红色\n>\n> # 或者替换为另一张图片\n> small_img = cv2.imread('logo.png')\n> small_img = cv2.resize(small_img, (100, 100))  # 调整大小\n> img[100:200, 150:250] = small_img  # 替换\n> ```\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 切片顺序混淆 | 强调y在前 | `img[y1:y2, x1:x2]`，先行后列 |\n| 尺寸不匹配 | 用resize调整 | 替换区域和图片尺寸必须一致 |\n| 想批量处理 | 介绍os.listdir | 遍历文件夹中的所有图片 |\n\n---\n\n### 步骤2：代码实践（35分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"现在我们来做**马赛克效果**！原理是：把一个区域缩小再放大，细节就丢失了。\n>\n> ```python\n> def add_mosaic(img, x1, y1, x2, y2, factor=10):\n>     '''给指定区域添加马赛克'''\n>     roi = img[y1:y2, x1:x2]\n>     h, w = roi.shape[:2]\n>\n>     # 先缩小\n>     small = cv2.resize(roi, (w//factor, h//factor))\n>     # 再放大回原尺寸（用最近邻插值保持块状效果）\n>     mosaic = cv2.resize(small, (w, h), interpolation=cv2.INTER_NEAREST)\n>\n>     # 替换原区域\n>     img[y1:y2, x1:x2] = mosaic\n>     return img\n>\n> # 使用示例\n> img = add_mosaic(img, 100, 50, 200, 150)\n> ```\"\n\n---\n\n### 步骤3：批量处理（15分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"如果要处理很多图片怎么办？用`os.listdir`遍历文件夹：\n>\n> ```python\n> import os\n>\n> folder = 'photos/'\n> for filename in os.listdir(folder):\n>     if filename.endswith('.jpg'):\n>         img = cv2.imread(folder + filename)\n>         # 处理图片...\n>         cv2.imwrite('output/' + filename, img)\n> ```\"\n\n---"
    },
    {
      "title": "核心代码模式",
      "content": "```python\n# ROI操作标准模板\nroi = img[y1:y2, x1:x2]  # 获取区域\nroi = cv2.resize(roi, (new_w, new_h))  # 调整大小\nimg[y1:y2, x1:x2] = processed_roi  # 替换回去\n```\n\n---"
    },
    {
      "title": "禁忌提醒",
      "content": "- ROI切片顺序错误——`img[y:y, x:x]`不是`img[x:x, y:y]`\n- 替换区域尺寸不匹配——会报错\n- 忘记检查文件扩展名——可能读取非图片文件\n\n---"
    },
    {
      "title": "核心知识点",
      "content": "- ROI区域：用切片`img[y1:y2, x1:x2]`获取\n- cv2.resize：调整图片尺寸\n- 马赛克原理：缩小再放大丢失细节\n- os.listdir：遍历文件夹批量处理\n\n**底层逻辑**\n- **局部处理**：只修改需要的区域，提高效率\n- **批量自动化**：用循环处理大量文件\n\n`#执行层` `#测评项`\n[UID: PYAI-24-04-001]\n[关联: PYAI-24-03-001 图像编辑1（前置课程）]\n[关联: PYAI-24-05-001 滤波降噪（后续课程）]\n\n---\n\n[上一课](PYAI-2-4-03_图像编辑1.md) | [模块概览](_模块概览.md) | [下一课](PYAI-2-4-05_滤波降噪.md)"
    }
  ],
  "full_content": "# [PYAI-2-4-04] 图像编辑2\n\n> **模块**：L2-M4 计算机视觉\n> **认知负荷**：高\n> **核心技能**：ROI区域替换、cv2.resize、os.listdir\n> **UID**：PYAI-24-04-001\n\n---\n\n## 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI-2-4-04 |\n| **课程名称** | 图像编辑2 - 局部马赛克 |\n| **认知负荷** | 高 |\n| **核心技能** | ROI区域替换、cv2.resize、os.listdir |\n| **项目内容** | 局部马赛克 |\n\n---\n\n## 详细教学流程\n\n### 步骤1：知识讲解（20分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"上节课我们学了整张图片的操作，今天学习**局部区域操作**！\n>\n> **ROI (Region of Interest)** 就是'感兴趣区域'，我们可以只处理图片的一部分。\n>\n> ```python\n> import cv2\n>\n> img = cv2.imread('photo.jpg')\n>\n> # 用切片获取ROI区域 [y1:y2, x1:x2]\n> roi = img[100:200, 150:250]  # 从(150,100)到(250,200)的区域\n>\n> # 修改ROI\n> roi[:] = [0, 0, 255]  # 把这个区域变成红色\n>\n> # 或者替换为另一张图片\n> small_img = cv2.imread('logo.png')\n> small_img = cv2.resize(small_img, (100, 100))  # 调整大小\n> img[100:200, 150:250] = small_img  # 替换\n> ```\"\n\n**变体示例**\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 切片顺序混淆 | 强调y在前 | `img[y1:y2, x1:x2]`，先行后列 |\n| 尺寸不匹配 | 用resize调整 | 替换区域和图片尺寸必须一致 |\n| 想批量处理 | 介绍os.listdir | 遍历文件夹中的所有图片 |\n\n---\n\n### 步骤2：代码实践（35分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"现在我们来做**马赛克效果**！原理是：把一个区域缩小再放大，细节就丢失了。\n>\n> ```python\n> def add_mosaic(img, x1, y1, x2, y2, factor=10):\n>     '''给指定区域添加马赛克'''\n>     roi = img[y1:y2, x1:x2]\n>     h, w = roi.shape[:2]\n>\n>     # 先缩小\n>     small = cv2.resize(roi, (w//factor, h//factor))\n>     # 再放大回原尺寸（用最近邻插值保持块状效果）\n>     mosaic = cv2.resize(small, (w, h), interpolation=cv2.INTER_NEAREST)\n>\n>     # 替换原区域\n>     img[y1:y2, x1:x2] = mosaic\n>     return img\n>\n> # 使用示例\n> img = add_mosaic(img, 100, 50, 200, 150)\n> ```\"\n\n---\n\n### 步骤3：批量处理（15分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"如果要处理很多图片怎么办？用`os.listdir`遍历文件夹：\n>\n> ```python\n> import os\n>\n> folder = 'photos/'\n> for filename in os.listdir(folder):\n>     if filename.endswith('.jpg'):\n>         img = cv2.imread(folder + filename)\n>         # 处理图片...\n>         cv2.imwrite('output/' + filename, img)\n> ```\"\n\n---\n\n## 核心代码模式\n\n```python\n# ROI操作标准模板\nroi = img[y1:y2, x1:x2]  # 获取区域\nroi = cv2.resize(roi, (new_w, new_h))  # 调整大小\nimg[y1:y2, x1:x2] = processed_roi  # 替换回去\n```\n\n---\n\n## 禁忌提醒\n\n- ROI切片顺序错误——`img[y:y, x:x]`不是`img[x:x, y:y]`\n- 替换区域尺寸不匹配——会报错\n- 忘记检查文件扩展名——可能读取非图片文件\n\n---\n\n## 核心知识点\n\n- ROI区域：用切片`img[y1:y2, x1:x2]`获取\n- cv2.resize：调整图片尺寸\n- 马赛克原理：缩小再放大丢失细节\n- os.listdir：遍历文件夹批量处理\n\n**底层逻辑**\n- **局部处理**：只修改需要的区域，提高效率\n- **批量自动化**：用循环处理大量文件\n\n`#执行层` `#测评项`\n[UID: PYAI-24-04-001]\n[关联: PYAI-24-03-001 图像编辑1（前置课程）]\n[关联: PYAI-24-05-001 滤波降噪（后续课程）]\n\n---\n\n[上一课](PYAI-2-4-03_图像编辑1.md) | [模块概览](_模块概览.md) | [下一课](PYAI-2-4-05_滤波降噪.md)\n"
}