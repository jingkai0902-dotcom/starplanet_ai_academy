{
  "title": "[PYAI-2-3-03] 眼控开关进阶",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\PythonAI\\L2\\M3_交互式AI\\PYAI-2-3-03_眼控开关进阶.md",
  "sections": [
    {
      "title": "课程基本信息",
      "content": "| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI 2-3-3 |\n| **课程名称** | 眼控开关3（进阶） |\n| **认知负荷** | 高 |\n| **核心技能** | 状态机设计、防抖动处理、GPIO控制 |\n| **项目内容** | 眨眼控制进阶 |\n\n---"
    },
    {
      "title": "详细教学流程",
      "content": "### 步骤1：知识讲解（20分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"前两节课我们实现了眨眼检测，但有个问题——眨眼太快会误触发！今天学习**状态机**和**防抖动**。\"\n>\n> \"**状态机设计**：用变量记录当前状态\n> ```python\n> # 状态定义\n> STATE_OPEN = 0   # 眼睛睁开\n> STATE_CLOSED = 1 # 眼睛闭合\n> current_state = STATE_OPEN\n> blink_count = 0\n>\n> # 状态转换逻辑\n> if eye_distance < threshold:\n>     if current_state == STATE_OPEN:\n>         current_state = STATE_CLOSED\n>         blink_count += 1\n> else:\n>     current_state = STATE_OPEN\n> ```\n>\n> **防抖动处理**：连续N帧才确认状态变化\n> ```python\n> close_frames = 0\n> DEBOUNCE_FRAMES = 3  # 连续3帧才确认\n>\n> if eye_distance < threshold:\n>     close_frames += 1\n>     if close_frames >= DEBOUNCE_FRAMES:\n>         # 确认闭眼\n>         trigger_action()\n> else:\n>     close_frames = 0\n> ```\"\n\n### 步骤2：代码实践（35分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"现在我们把眨眼检测和硬件控制结合起来！\n> 眨眼一次开灯，再眨眼一次关灯。\"\n\n---"
    },
    {
      "title": "变体示例",
      "content": "| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 状态切换太快 | 增加防抖帧数 | 把DEBOUNCE_FRAMES改为5 |\n| 想用双眨眼触发 | 添加计数器 | 1秒内眨眼2次才触发 |\n| 没有硬件 | 用屏幕模拟 | 用pygame画一个灯泡 |\n\n---"
    },
    {
      "title": "核心代码模式",
      "content": "```python\n# 完整的眨眼控制状态机\nclass BlinkController:\n    def __init__(self, threshold=0.01, debounce=3):\n        self.threshold = threshold\n        self.debounce = debounce\n        self.close_frames = 0\n        self.light_on = False\n\n    def update(self, eye_distance):\n        if eye_distance < self.threshold:\n            self.close_frames += 1\n            if self.close_frames == self.debounce:\n                self.light_on = not self.light_on\n                return self.light_on\n        else:\n            self.close_frames = 0\n        return None  # 无状态变化\n```\n\n---"
    },
    {
      "title": "核心知识点",
      "content": "- **状态机**：用变量记录和管理程序状态\n- **防抖动**：连续N帧确认，避免误触发\n- **边沿检测**：只在状态变化时触发动作\n\n---"
    },
    {
      "title": "导航",
      "content": "| 上一课 | 返回模块 | 下一课 |\n|--------|----------|--------|\n| [PYAI-2-3-01 眼控开关](PYAI-2-3-01_眼控开关.md) | [M3 交互式AI](_模块概览.md) | [PYAI-2-3-04 眼控开关综合](PYAI-2-3-04_眼控开关综合.md) |"
    }
  ],
  "full_content": "# [PYAI-2-3-03] 眼控开关进阶\n\n> **模块**：L2-M3 交互式AI\n> **认知负荷**：高\n> **核心技能**：状态机设计、防抖动处理、GPIO控制\n> **UID**：PYAI-23-03-001\n\n---\n\n## 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | PYAI 2-3-3 |\n| **课程名称** | 眼控开关3（进阶） |\n| **认知负荷** | 高 |\n| **核心技能** | 状态机设计、防抖动处理、GPIO控制 |\n| **项目内容** | 眨眼控制进阶 |\n\n---\n\n## 详细教学流程\n\n### 步骤1：知识讲解（20分钟）\n\n`#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"前两节课我们实现了眨眼检测，但有个问题——眨眼太快会误触发！今天学习**状态机**和**防抖动**。\"\n>\n> \"**状态机设计**：用变量记录当前状态\n> ```python\n> # 状态定义\n> STATE_OPEN = 0   # 眼睛睁开\n> STATE_CLOSED = 1 # 眼睛闭合\n> current_state = STATE_OPEN\n> blink_count = 0\n>\n> # 状态转换逻辑\n> if eye_distance < threshold:\n>     if current_state == STATE_OPEN:\n>         current_state = STATE_CLOSED\n>         blink_count += 1\n> else:\n>     current_state = STATE_OPEN\n> ```\n>\n> **防抖动处理**：连续N帧才确认状态变化\n> ```python\n> close_frames = 0\n> DEBOUNCE_FRAMES = 3  # 连续3帧才确认\n>\n> if eye_distance < threshold:\n>     close_frames += 1\n>     if close_frames >= DEBOUNCE_FRAMES:\n>         # 确认闭眼\n>         trigger_action()\n> else:\n>     close_frames = 0\n> ```\"\n\n### 步骤2：代码实践（35分钟）\n\n`#高负荷-产出` `#IFC-即时`\n\n**教师话术**\n> \"现在我们把眨眼检测和硬件控制结合起来！\n> 眨眼一次开灯，再眨眼一次关灯。\"\n\n---\n\n## 变体示例\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 状态切换太快 | 增加防抖帧数 | 把DEBOUNCE_FRAMES改为5 |\n| 想用双眨眼触发 | 添加计数器 | 1秒内眨眼2次才触发 |\n| 没有硬件 | 用屏幕模拟 | 用pygame画一个灯泡 |\n\n---\n\n## 核心代码模式\n\n```python\n# 完整的眨眼控制状态机\nclass BlinkController:\n    def __init__(self, threshold=0.01, debounce=3):\n        self.threshold = threshold\n        self.debounce = debounce\n        self.close_frames = 0\n        self.light_on = False\n\n    def update(self, eye_distance):\n        if eye_distance < self.threshold:\n            self.close_frames += 1\n            if self.close_frames == self.debounce:\n                self.light_on = not self.light_on\n                return self.light_on\n        else:\n            self.close_frames = 0\n        return None  # 无状态变化\n```\n\n---\n\n## 核心知识点\n\n- **状态机**：用变量记录和管理程序状态\n- **防抖动**：连续N帧确认，避免误触发\n- **边沿检测**：只在状态变化时触发动作\n\n---\n\n## 导航\n\n| 上一课 | 返回模块 | 下一课 |\n|--------|----------|--------|\n| [PYAI-2-3-01 眼控开关](PYAI-2-3-01_眼控开关.md) | [M3 交互式AI](_模块概览.md) | [PYAI-2-3-04 眼控开关综合](PYAI-2-3-04_眼控开关综合.md) |\n"
}