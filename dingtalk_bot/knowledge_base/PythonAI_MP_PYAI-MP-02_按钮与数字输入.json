{
  "title": "[PYAI-MP-02] 按钮与数字输入",
  "source": "C:\\Users\\Frank.J\\starplanet_ai_academy\\知识库\\萃取报告\\PythonAI\\MP\\PYAI-MP-02_按钮与数字输入.md",
  "sections": [
    {
      "title": "课程基本信息",
      "content": "| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L2 |\n| **课程名称** | 按钮与数字输入 |\n| **认知负荷** | 中 |\n| **核心技能** | 输入模式、Pin.IN、按键抖动、软件消抖 |\n| **项目内容** | 按钮控制LED |\n\n---"
    },
    {
      "title": "详细教学流程",
      "content": "**步骤1：知识讲解（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"上节课我们学会了用代码控制LED闪烁。但那是自动的，如果我想用按钮来控制呢？今天学习**GPIO输入**——让开发板'感知'按钮状态！\"\n>\n> \"**GPIO输入模式**：之前LED是输出(OUT)，按钮是输入(IN)\n> ```python\n> # LED是输出\n> led = Pin(2, Pin.OUT)\n>\n> # 按钮是输入\n> button = Pin(4, Pin.IN)\n> ```\n>\n> **读取按钮状态**：用`value()`方法\n> ```python\n> state = button.value()\n> # 返回 0 表示按下（低电平）\n> # 返回 1 表示松开（高电平）\n> ```\n>\n> **为什么按下是0？** 按钮接地(GND)，按下时引脚接地，电压为0\"\n\n---"
    },
    {
      "title": "核心代码模式",
      "content": "```python\nfrom machine import Pin\nimport time\n\n# 初始化引脚\nled = Pin(2, Pin.OUT)\nbutton = Pin(4, Pin.IN)\n\nwhile True:\n    if button.value() == 0:  # 按钮按下\n        led.value(1)         # 开灯\n    else:\n        led.value(0)         # 关灯\n    time.sleep_ms(20)        # 消抖延时\n```\n\n---"
    },
    {
      "title": "消抖处理（重点）",
      "content": "```python\n# 切换开关实现\nlight_on = False  # 记录灯的状态\nlast_state = 1    # 记录上次按钮状态\n\nwhile True:\n    current_state = button.value()\n\n    # 检测按下瞬间（从1变成0）\n    if current_state == 0 and last_state == 1:\n        light_on = not light_on  # 切换状态\n        led.value(1 if light_on else 0)\n        time.sleep_ms(200)  # 防止连续触发\n\n    last_state = current_state\n    time.sleep_ms(20)\n```\n\n---"
    },
    {
      "title": "变体示例",
      "content": "| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解0和1 | 用开关类比 | \"按下接通=0，松开断开=1\" |\n| 按钮不灵敏 | 检查接线 | 确认按钮一端接引脚，一端接GND |\n| 切换不灵 | 检查边沿检测 | 确认是检测\"按下瞬间\"而非\"按住\" |\n\n---"
    },
    {
      "title": "禁忌提醒",
      "content": "- **按钮两端都接VCC**——无法检测按下\n- **忘记消抖**——按一次可能触发多次\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L2-001]\n\n---\n\n[上一课](PYAI-MP-01_初识MicroPython.md) | [模块概览](_模块概览.md) | [下一课](PYAI-MP-03_模拟信号与PWM.md)"
    }
  ],
  "full_content": "# [PYAI-MP-02] 按钮与数字输入\n\n> **模块**：MicroPython硬件开发\n> **认知负荷**：中\n> **核心技能**：输入模式、Pin.IN、按键抖动、软件消抖\n> **UID**：PYAI-MP-02-001\n\n---\n\n## 课程基本信息\n\n| 项目 | 内容 |\n|------|------|\n| **课程编号** | MP1-L2 |\n| **课程名称** | 按钮与数字输入 |\n| **认知负荷** | 中 |\n| **核心技能** | 输入模式、Pin.IN、按键抖动、软件消抖 |\n| **项目内容** | 按钮控制LED |\n\n---\n\n## 详细教学流程\n\n**步骤1：知识讲解（15分钟）** `#中负荷-操练` `#IFC-即时`\n\n**教师话术**\n> \"上节课我们学会了用代码控制LED闪烁。但那是自动的，如果我想用按钮来控制呢？今天学习**GPIO输入**——让开发板'感知'按钮状态！\"\n>\n> \"**GPIO输入模式**：之前LED是输出(OUT)，按钮是输入(IN)\n> ```python\n> # LED是输出\n> led = Pin(2, Pin.OUT)\n>\n> # 按钮是输入\n> button = Pin(4, Pin.IN)\n> ```\n>\n> **读取按钮状态**：用`value()`方法\n> ```python\n> state = button.value()\n> # 返回 0 表示按下（低电平）\n> # 返回 1 表示松开（高电平）\n> ```\n>\n> **为什么按下是0？** 按钮接地(GND)，按下时引脚接地，电压为0\"\n\n---\n\n## 核心代码模式\n\n```python\nfrom machine import Pin\nimport time\n\n# 初始化引脚\nled = Pin(2, Pin.OUT)\nbutton = Pin(4, Pin.IN)\n\nwhile True:\n    if button.value() == 0:  # 按钮按下\n        led.value(1)         # 开灯\n    else:\n        led.value(0)         # 关灯\n    time.sleep_ms(20)        # 消抖延时\n```\n\n---\n\n## 消抖处理（重点）\n\n```python\n# 切换开关实现\nlight_on = False  # 记录灯的状态\nlast_state = 1    # 记录上次按钮状态\n\nwhile True:\n    current_state = button.value()\n\n    # 检测按下瞬间（从1变成0）\n    if current_state == 0 and last_state == 1:\n        light_on = not light_on  # 切换状态\n        led.value(1 if light_on else 0)\n        time.sleep_ms(200)  # 防止连续触发\n\n    last_state = current_state\n    time.sleep_ms(20)\n```\n\n---\n\n## 变体示例\n\n| 学生情况 | 调整方案 | 说明 |\n|----------|----------|------|\n| 不理解0和1 | 用开关类比 | \"按下接通=0，松开断开=1\" |\n| 按钮不灵敏 | 检查接线 | 确认按钮一端接引脚，一端接GND |\n| 切换不灵 | 检查边沿检测 | 确认是检测\"按下瞬间\"而非\"按住\" |\n\n---\n\n## 禁忌提醒\n\n- **按钮两端都接VCC**——无法检测按下\n- **忘记消抖**——按一次可能触发多次\n\n---\n\n`#执行层` `#测评项`\n[UID: PYAI-23-MP1-L2-001]\n\n---\n\n[上一课](PYAI-MP-01_初识MicroPython.md) | [模块概览](_模块概览.md) | [下一课](PYAI-MP-03_模拟信号与PWM.md)\n"
}