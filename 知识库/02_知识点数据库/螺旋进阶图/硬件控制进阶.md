# 硬件控制进阶

> **用途**：硬件控制在各课程体系中的螺旋式进阶详解
> **更新日期**：2026-02-10
> **数据来源**：萃取报告/CODE/、萃取报告/PythonAI/、萃取报告/STEM/

---

## 进阶路线图

```
STEM小班              STEM大班            CODE2               PYAI L1-4           MP系列
简单机械        →     电子元件      →     传感器编程    →     智能硬件      →     物联网
   ↓                    ↓                   ↓                   ↓                   ↓
齿轮杠杆            LED马达            图形化控制          Python控制         系统集成
```

---

## 一、STEM小班阶段：简单机械（3-4岁）

### 1.1 概念引入

在STEM小班阶段，通过简单机械认识"力"和"运动"的基本概念。

### 1.2 课程出现

| 课程编号 | 课程名称 | 机械类型 | 具体内容 |
|----------|---------|---------|---------|
| STEM 1-1-01 | 齿轮认识 | 齿轮 | 齿轮传动 |
| STEM 1-1-02 | 杠杆原理 | 杠杆 | 省力杠杆 |
| STEM 1-1-03 | 滑轮应用 | 滑轮 | 定滑轮/动滑轮 |

### 1.3 教学话术

> "看，大齿轮转一圈，小齿轮转好几圈！齿轮可以改变转动的方向和速度。"

### 1.4 认知目标

- 认识基本机械元件
- 理解力的传递
- 观察运动的变化

---

## 二、STEM中班阶段：智能机械（4-5岁）

### 2.1 概念深化

引入马达和传感器，从纯机械过渡到电子控制。

### 2.2 课程出现

| 课程编号 | 课程名称 | 元件类型 | 具体内容 |
|----------|---------|---------|---------|
| STEM 2-3-01 | 马达认识 | 马达 | 电机驱动 |
| STEM 2-3-02 | 传感器认识 | 传感器 | 光线/触碰传感器 |
| STEM 2-3-03 | 简单控制 | 控制 | 按钮控制马达 |

### 2.3 教学话术

> "马达就像机器的'肌肉'，给它电就会转。传感器就像机器的'眼睛'和'耳朵'，能感知周围的环境。"

---

## 三、STEM大班阶段：电子控制（5-6岁）

### 3.1 概念扩展

引入CodeMaker编程，实现简单的传感器-执行器控制。

### 3.2 课程出现

| 课程编号 | 课程名称 | 控制类型 | 具体内容 |
|----------|---------|---------|---------|
| STEM 3-4-01 | LED控制 | 输出 | 点亮LED |
| STEM 3-4-02 | 按钮输入 | 输入 | 按钮控制LED |
| STEM 3-4-03 | 传感器控制 | 输入输出 | 光线传感器控制马达 |

### 3.3 CodeMaker积木

```
// 点亮LED
当绿旗被点击
设置 [LED] 为 [亮]

// 按钮控制
当绿旗被点击
重复执行
    如果 <按钮被按下> 那么
        设置 [LED] 为 [亮]
    否则
        设置 [LED] 为 [灭]

// 传感器控制
当绿旗被点击
重复执行
    如果 <(光线传感器) < (50)> 那么
        设置 [马达] 为 [开]
    否则
        设置 [马达] 为 [关]
```

### 3.4 教学话术

> "我们用程序告诉机器：'如果光线暗了，就开灯'。这就是智能控制——机器能自己做决定！"

---

## 四、CODE2阶段：传感器编程（8-10岁）

### 4.1 概念转化

从简单控制过渡到复杂的传感器编程。

### 4.2 课程出现

| 课程编号 | 课程名称 | 传感器类型 | 具体内容 |
|----------|---------|---------|---------|
| CODE2-1-01 | 光线传感器 | 光线 | 自动灯 |
| CODE2-1-02 | 超声波传感器 | 距离 | 避障小车 |
| CODE2-1-03 | 温湿度传感器 | 环境 | 气象站 |
| CODE2-1-10 | 电位器 | 模拟输入 | 旋钮控制 |

### 4.3 Scratch+硬件积木

```scratch
// 光线传感器控制LED
当绿旗被点击
重复执行
    如果 <(光线传感器值) < (30)> 那么
        设置 [LED亮度] 为 (100)
    否则
        设置 [LED亮度] 为 (0)

// 超声波避障
当绿旗被点击
重复执行
    如果 <(超声波距离) < (20)> 那么
        设置 [左马达] 为 (0)
        设置 [右马达] 为 (0)
        等待 (0.5) 秒
        设置 [左马达] 为 (-50)
        设置 [右马达] 为 (50)
        等待 (0.5) 秒
    否则
        设置 [左马达] 为 (50)
        设置 [右马达] 为 (50)

// 电位器映射
当绿旗被点击
重复执行
    设置 [舵机角度] 为 (映射 (电位器值) 从 (0) 到 (4095) 映射到 (0) 到 (180))
```

### 4.4 常用传感器

| 传感器 | 输出类型 | 典型值范围 | 应用 |
|--------|---------|-----------|------|
| 光线传感器 | 模拟 | 0-4095 | 自动灯 |
| 超声波 | 数字 | 2-400cm | 避障 |
| 温度传感器 | 模拟 | -40~125°C | 温控 |
| 电位器 | 模拟 | 0-4095 | 旋钮 |
| 按钮 | 数字 | 0/1 | 开关 |

---

## 五、PYAI L1-4阶段：Python硬件控制（10-12岁）

### 5.1 概念升级

从图形化编程过渡到Python代码控制硬件。

### 5.2 课程出现

| 课程编号 | 课程名称 | 硬件类型 | 具体内容 |
|----------|---------|---------|---------|
| PYAI 1-4-1 | GPIO基础 | LED | Python控制LED |
| PYAI 1-4-2 | PWM控制 | 舵机 | 角度控制 |
| PYAI 1-4-3 | 传感器读取 | 传感器 | ADC读取 |
| PYAI 1-4-6~8 | 智能门禁 | AI+硬件 | 人脸识别开门 |

### 5.3 Python代码

```python
# LED控制
from machine import Pin
import time

led = Pin(2, Pin.OUT)

while True:
    led.on()
    time.sleep(1)
    led.off()
    time.sleep(1)

# PWM控制舵机
from machine import Pin, PWM

servo = PWM(Pin(9), freq=50)

def set_angle(angle):
    # 角度转换为占空比
    duty = int(40 + (angle / 180) * 115)
    servo.duty(duty)

set_angle(90)  # 转到90度

# 传感器读取
from machine import ADC

light_sensor = ADC(Pin(34))

while True:
    value = light_sensor.read()
    print(f"光线值: {value}")
    time.sleep(0.5)

# 完整示例：光控灯
from machine import Pin, ADC
import time

led = Pin(2, Pin.OUT)
light = ADC(Pin(34))

while True:
    if light.read() < 1000:  # 光线暗
        led.on()
    else:
        led.off()
    time.sleep(0.1)
```

### 5.4 Scratch → Python 映射

| Scratch积木 | Python语法 |
|------------|-----------|
| 设置[LED]为[亮] | `led.on()` |
| 设置[LED]为[灭] | `led.off()` |
| (光线传感器值) | `adc.read()` |
| 设置[舵机角度]为(90) | `set_angle(90)` |

---

## 六、MP系列：MicroPython物联网（12岁+）

### 6.1 概念升华

从单机控制升级到物联网系统集成。

### 6.2 课程出现

| 课程编号 | 课程名称 | 系统类型 | 具体内容 |
|----------|---------|---------|---------|
| MP1-L1 | MicroPython基础 | 基础 | NovaMP库 |
| MP1-L5 | WiFi连接 | 网络 | 联网控制 |
| MP1-L8 | 云端控制 | 物联网 | 远程控制 |

### 6.3 Python代码

```python
# NovaMP库使用
from novaMP import *

# LED控制
led = LED(1)
led.on()
led.off()
led.toggle()

# 舵机控制
servo = Servo(1)
servo.write_angle(90)

# 传感器读取
light = LightSensor(1)
value = light.read()

# WiFi连接
import network

wlan = network.WLAN(network.STA_IF)
wlan.active(True)
wlan.connect('SSID', 'password')

while not wlan.isconnected():
    pass

print('Connected:', wlan.ifconfig())

# MQTT物联网
from umqtt.simple import MQTTClient

client = MQTTClient('device_id', 'broker.hivemq.com')
client.connect()

# 发布数据
client.publish('sensor/light', str(light.read()))

# 订阅控制
def callback(topic, msg):
    if msg == b'on':
        led.on()
    elif msg == b'off':
        led.off()

client.set_callback(callback)
client.subscribe('control/led')
```

### 6.4 物联网架构

```
┌─────────────────────────────────────┐
│           云端/服务器                │
│   MQTT Broker / 云平台              │
└─────────────────────────────────────┘
                   ↑↓
┌─────────────────────────────────────┐
│           网络层                     │
│   WiFi / 4G / LoRa                  │
└─────────────────────────────────────┘
                   ↑↓
┌─────────────────────────────────────┐
│           设备层                     │
│   ESP32 + 传感器 + 执行器           │
└─────────────────────────────────────┘
```

---

## 七、跨阶段对比

### 7.1 概念演进

| 阶段 | 控制形式 | 抽象程度 | 系统复杂度 |
|------|---------|---------|-----------|
| STEM小班 | 机械传动 | 具体 | 单一元件 |
| STEM中班 | 电子元件 | 半具体 | 简单电路 |
| STEM大班 | 图形化控制 | 半抽象 | 传感器+执行器 |
| CODE2 | 图形化+硬件 | 半抽象 | 多传感器 |
| PYAI L1-4 | Python控制 | 抽象 | AI+硬件 |
| MP系列 | 物联网 | 高度抽象 | 系统集成 |

### 7.2 认知负荷

```
STEM小班    STEM大班    CODE2       PYAI L1-4   MP系列
   ⭐          ⭐⭐         ⭐⭐⭐        ⭐⭐⭐⭐       ⭐⭐⭐⭐⭐
  低           中          中高         高          很高
```

---

## 八、常用硬件对照表

| 硬件 | STEM | CODE2 | PYAI | 功能 |
|------|------|-------|------|------|
| LED | ✓ | ✓ | ✓ | 输出指示 |
| 按钮 | ✓ | ✓ | ✓ | 数字输入 |
| 马达 | ✓ | ✓ | ✓ | 动力输出 |
| 舵机 | - | ✓ | ✓ | 角度控制 |
| 光线传感器 | ✓ | ✓ | ✓ | 环境感知 |
| 超声波 | - | ✓ | ✓ | 距离测量 |
| 摄像头 | - | - | ✓ | 图像采集 |
| WiFi模块 | - | - | ✓ | 网络连接 |

---

## 九、教学建议

### 9.1 衔接策略

| 衔接点 | 策略 |
|--------|------|
| 机械→电子 | 用"给机械加上'大脑'"引出电子控制 |
| 图形化→Python | 先展示Scratch积木，再对照Python代码 |
| 单机→联网 | 用"远程控制"需求引出物联网 |

### 9.2 常见教学难点

| 难点 | 解决方案 |
|------|---------|
| 电路连接 | 用颜色标记，提供接线图 |
| 传感器值理解 | 用实际测量演示数值变化 |
| PWM概念 | 用"快速开关"类比 |
| 网络通信 | 用"发短信"类比MQTT |

---

**维护者**：知识库管理员
**关联文件**：[螺旋进阶总图.md](螺旋进阶总图.md)
