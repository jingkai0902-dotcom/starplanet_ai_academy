# [PYAI-2-4-10] 虚拟墨镜

> **模块**：L2-M4 计算机视觉
> **认知负荷**：高
> **核心技能**：FaceMesh 468点、Alpha通道、AR增强现实
> **UID**：PYAI-24-10-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | PYAI-2-4-10/11 |
| **课程名称** | 虚拟墨镜 - AR试戴 |
| **认知负荷** | 高 |
| **核心技能** | FaceMesh 468点、Alpha通道、AR增强现实 |
| **项目内容** | AR试戴 |
| **课时** | 2节课（10-11） |

---

## 详细教学流程

### 步骤1：知识讲解（20分钟）

`#中负荷-操练` `#IFC-即时`

**教师话术**
> "今天我们做AR虚拟试戴墨镜！需要解决三个问题：
>
> 1. **找到眼睛位置**：用FaceMesh模型，它能识别脸上468个关键点
> 2. **缩放墨镜大小**：根据两眼间距调整墨镜尺寸
> 3. **透明叠加**：墨镜PNG图片有Alpha通道（透明度）
>
> ```python
> # 获取FaceMesh关键点
> face_mesh = mp.solutions.face_mesh.FaceMesh()
> results = face_mesh.process(frame)
>
> # 关键点索引：左眼外角33，右眼外角263
> left_eye = results.multi_face_landmarks[0].landmark[33]
> right_eye = results.multi_face_landmarks[0].landmark[263]
> ```"

**变体示例**

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 墨镜位置偏 | 调整关键点索引 | 尝试不同的landmark索引 |
| 想换其他贴图 | 提供素材库 | 帽子、胡子、耳环等 |
| 多人同时检测 | 遍历所有face_landmarks | 循环处理每张脸 |

---

## 禁忌提醒

- 像素坐标用浮点数——必须用int()转换为整数
- 忘记处理Alpha通道——墨镜会有白色背景

---

## 核心知识点

- FaceMesh：468个关键点
- Alpha通道：透明图片叠加
- 几何计算：根据眼距缩放贴图

`#执行层` `#测评项`
[UID: PYAI-24-10-001]
[关联: PYAI-24-08-001 人像分割（前置课程）]
[关联: PYAI-24-12-001 动物伙伴（后续课程）]

---

[上一课](PYAI-2-4-08_人像分割.md) | [模块概览](_模块概览.md) | [下一课](PYAI-2-4-12_动物伙伴.md)
