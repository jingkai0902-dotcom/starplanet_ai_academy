# [PYAI-2-2-10] 举重若轻2

> **模块**：L2-M2 项目应用
> **认知负荷**：高
> **核心技能**：物理运动原理、加速度、速度合并
> **UID**：PYAI-22-10-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | 2-2-10 |
| **课程名称** | 举重若轻2 |
| **认知负荷** | 高 |
| **核心技能** | 物理运动原理、加速度、速度合并 |

---

## 详细教学流程

**步骤1：知识讲解（20分钟）** `#中负荷-操练` `#IFC-即时`

**教师话术**
> "今天我们要让炮弹'飞'起来！这需要用到**物理学**的知识。"
>
> "**抛物线运动**：
> - 水平方向：匀速运动，vx不变
> - 垂直方向：受���力影响，vy不断增加
>
> ```python
> # 物理参数
> gravity = 0.5  # 重力加速度
> vx = 10        # 水平速度（不变）
> vy = -15       # 垂直速度（负数表示向上）
>
> # 每帧更新
> x += vx        # 水平位移
> vy += gravity  # 垂直速度增加（重力）
> y += vy        # 垂直位移
> ```
>
> **速度分解**：
> - 初速度v和角度θ
> - vx = v × cos(θ)
> - vy = v × sin(θ)（向上为负）"

---

## 核心代码模式

```python
import pygame
import math

pygame.init()
screen = pygame.display.set_mode((800, 600))

# 物理常量
GRAVITY = 0.3

# 炮弹类
class Bullet:
    def __init__(self, x, y, speed, angle):
        self.x = x
        self.y = y
        # 速度分解
        rad = math.radians(angle)
        self.vx = speed * math.cos(rad)
        self.vy = -speed * math.sin(rad)  # 向上为负
        self.active = True

    def update(self):
        if self.active:
            self.x += self.vx
            self.vy += GRAVITY  # 重力作用
            self.y += self.vy

            # 落地检测
            if self.y > 550:
                self.active = False

    def draw(self, screen):
        if self.active:
            pygame.draw.circle(screen, (50, 50, 50), (int(self.x), int(self.y)), 8)

# 炮弹列表
bullets = []

# 发射炮弹
def fire(x, y, energy, angle):
    speed = energy / 5  # 能量转换为速度
    bullet = Bullet(x, y, speed, angle)
    bullets.append(bullet)

# 主循环
cannon_angle = 45
energy = 0
charging = False

running = True
while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        if event.type == pygame.KEYDOWN:
            if event.key == pygame.K_SPACE:
                charging = True
        if event.type == pygame.KEYUP:
            if event.key == pygame.K_SPACE:
                charging = False
                fire(80, 480, energy, cannon_angle)
                energy = 0

    if charging and energy < 100:
        energy += 2

    keys = pygame.key.get_pressed()
    if keys[pygame.K_UP]: cannon_angle = min(80, cannon_angle + 1)
    if keys[pygame.K_DOWN]: cannon_angle = max(10, cannon_angle - 1)

    screen.fill((135, 206, 235))

    # 绘制地面
    pygame.draw.rect(screen, (34, 139, 34), (0, 550, 800, 50))

    # 更新和绘制炮弹
    for bullet in bullets:
        bullet.update()
        bullet.draw(screen)

    # 清理已落地的炮弹
    bullets = [b for b in bullets if b.active]

    pygame.display.flip()
    pygame.time.delay(16)

pygame.quit()
```

---

## 变体示例

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 炮弹飞太快/太慢 | 调整speed计算 | 修改energy/5的系数 |
| 不理解三角函数 | 画图演示 | 用直角三角形解释sin/cos |
| 想加风力影响 | 引入wind变量 | vx += wind实现风力效果 |

---

## 禁忌提醒

- ❌ 忘记转换弧度——math.sin/cos需要弧度
- ❌ 重力方向错误——向下应该是正值

---

## 核心知识点

- 抛物线运动：水平匀速 + 垂直加速
- 速度分解：vx = v×cos(θ), vy = v×sin(θ)
- 重力模拟：每帧vy += gravity
- 弧度转换：math.radians(角度)

---

## 底层逻辑

- **物理仿真**：用数学公式模拟真实物理
- **帧更新**：每帧计算新位置

---

`#执行层` `#测评项`
[UID: PYAI-22-10-001]

---

[上一课](PYAI-2-2-09_举重若轻1.md) | [下一课](PYAI-2-2-11_举重若轻3.md) | [返回模块概览](_模块概览.md)
