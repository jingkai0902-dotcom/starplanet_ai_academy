# [PYAI-2-3-01] 眼控开关

> **模块**：L2-M3 交互式AI
> **认知负荷**：高
> **核心技能**：FaceMesh、眨眼检测、阈值判定
> **UID**：PYAI-23-01-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | PYAI 2-3-1/2 |
| **课程名称** | 眼控开关 |
| **认知负荷** | 高 |
| **核心技能** | MediaPipe FaceMesh、enumerate()、abs()/int()、阈值判定、状态机逻辑、cv2.putText |
| **项目内容** | 眨眼检测基础、智能灯控 |

---

## 详细教学流程

### 步骤1：知识讲解（20分钟）

`#中负荷-操练` `#IFC-即时`

**教师话术**
> "今天我们来做一个神奇的功能——**眨眼开灯**！用眼睛控制开关，是不是很酷？"
>
> "原理是用**FaceMesh**检测面部468个关键点，计算上下眼睑的距离：
> ```python
> import mediapipe as mp
>
> face_mesh = mp.solutions.face_mesh.FaceMesh()
> results = face_mesh.process(frame)
>
> # 获取眼睛关键点
> upper_lid = results.multi_face_landmarks[0].landmark[159]
> lower_lid = results.multi_face_landmarks[0].landmark[145]
>
> # 计算眼睛开合度
> eye_distance = abs(upper_lid.y - lower_lid.y)
> ```
>
> 当距离小于阈值（比如0.01），判定为闭眼！"

---

## 变体示例

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 阈值不准 | 实测调整 | 打印eye_distance观察正常值 |
| 想检测嘴巴 | 换关键点 | 用嘴唇的关键点检测张嘴 |
| 检测不稳定 | 添加滤波 | 连续N帧闭眼才判定为闭眼 |

---

## 核心知识点

- **FaceMesh**：面部网格模型，468个关键点
- **眨眼检测**：计算上下眼睑关键点的垂直距离
- **阈值判定**：距离差 < 阈值 → 判定为闭眼

---

## 导航

| 上一课 | 返回模块 | 下一课 |
|--------|----------|--------|
| - | [M3 交互式AI](_模块概览.md) | [PYAI-2-3-03 眼控开关进阶](PYAI-2-3-03_眼控开关进阶.md) |
