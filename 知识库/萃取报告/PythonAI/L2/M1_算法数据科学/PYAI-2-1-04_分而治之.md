# [PYAI-2-1-04] 分而治之

> **模块**：L2-M1 算法数据科学
> **认知负荷**：高
> **核心技能**：递归应用、分治思想、汉诺塔
> **UID**：PYAI-21-04-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | 2-1-4 |
| **课程名称** | 分而治之 |
| **认知负荷** | 高 |
| **核心技能** | 递归应用、分治思想、汉诺塔 |
| **项目内容** | 汉诺塔求解器 |

---

## 详细教学流程

**步骤1：知识讲解（25分钟）** `#中负荷-操练` `#IFC-即时`

**教师话术**
> "今天学习**分治思想**：把大问题拆成小问题，各个击破！"
>
> "**汉诺塔问题**：把n个盘子从A柱移到C柱，规则是：
> - 每次只能移动一个盘子
> - 大盘子不能放在小盘子上面
>
> **分治思路**：
> 1. 把上面n-1个盘子从A移到B（借助C）
> 2. 把最大的盘子从A移到C
> 3. 把n-1个盘子从B移到C（借助A）
>
> ```python
> def hanoi(n, source, target, auxiliary):
>     if n == 1:
>         print(f'移动盘子从 {source} 到 {target}')
>         return
>     # 步骤1：n-1个盘子从source移到auxiliary
>     hanoi(n-1, source, auxiliary, target)
>     # 步骤2：最大盘子从source移到target
>     print(f'移动盘子从 {source} 到 {target}')
>     # 步骤3：n-1个盘子从auxiliary移到target
>     hanoi(n-1, auxiliary, target, source)
>
> hanoi(3, 'A', 'C', 'B')
> ```"

**步骤2：代码实践（35分钟）** `#高负荷-产出` `#IFC-即时`

**教师话术**
> "运行汉诺塔程序，观察移动步骤。
> 思考：3个盘子需要几步？4个盘子呢？
>
> 规律：n个盘子需要 2^n - 1 步！"

---

## 变体示例

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 不理解三柱关系 | 用实物演示 | 用硬币或纸片模拟 |
| 递归调用混乱 | 画递归树 | 展示调用顺序 |
| 想统计步数 | 添加计数器 | 用全局变量或返回值计数 |

---

## 核心代码模式

```python
def divide_and_conquer(problem):
    # 基本情况
    if is_simple(problem):
        return solve_directly(problem)

    # 分解问题
    sub_problems = divide(problem)

    # 递归解决子问题
    sub_solutions = [divide_and_conquer(p) for p in sub_problems]

    # 合并结果
    return merge(sub_solutions)
```

---

## 禁忌提醒

- 分解不彻底——子问题必须比原问题简单
- 忽略合并步骤——分治的关键是合并子问题的解

---

## 核心知识点

- 分治思想：分解→解决→合并
- 汉诺塔：经典递归问题
- 步数公式：n个盘子需要 2^n - 1 步

---

`#执行层` `#测评项`
[UID: PYAI-21-04-001]

---

[上一课](PYAI-2-1-03_自我复制.md) | [下一课](PYAI-2-1-05_顺藤摸瓜.md) | [返回模块概览](_模块概览.md)
