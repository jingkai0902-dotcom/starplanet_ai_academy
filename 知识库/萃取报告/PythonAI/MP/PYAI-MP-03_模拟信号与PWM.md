# [PYAI-MP-03] 模拟信号与PWM

> **模块**：MicroPython硬件开发
> **认知负荷**：中-高
> **核心技能**：数字/模拟信号区分、ADC模数转换、PWM脉宽调制
> **UID**：PYAI-MP-03-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | MP1-L3 |
| **课程名称** | 模拟信号与PWM |
| **认知负荷** | 中-高 |
| **核心技能** | 数字/模拟信号区分、ADC模数转换、PWM脉宽调制 |
| **项目内容** | 旋钮调光灯 |

---

## 详细教学流程

**教师话术**
> "之前我们学的都是**数字信号**——只有0和1两种状态。但现实世界是连续变化的，比如旋钮可以转到任意角度。这就需要**模拟信号**！"
>
> "**ADC（模数转换）**：把模拟信号转换成数字
> - 旋钮转动 - 电压变化(0-3.3V) - ADC读取 - 数字值(0-4095)
>
> **PWM（脉宽调制）**：用数字信号模拟模拟效果
> - 快速开关LED，调整亮的时间占比
> - 占空比50% = 一半时间亮 = 看起来半亮"

---

## 核心代码模式

```python
from machine import Pin, ADC, PWM
import time

# ADC读取旋钮
knob = ADC(Pin(34))
knob.atten(ADC.ATTN_11DB)  # 设置量程0-3.3V

# PWM控制LED亮度
led_pwm = PWM(Pin(2), freq=1000)

while True:
    # 读取旋钮值(0-4095)
    knob_value = knob.read()

    # 映射到PWM占空比(0-1023)
    duty = knob_value // 4
    led_pwm.duty(duty)

    print(f"旋钮值: {knob_value}, 占空比: {duty}")
    time.sleep_ms(50)
```

---

## 变体示例

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 不理解ADC | 用温度计类比 | "温度计显示25度，就是把温度转成数字" |
| PWM概念模糊 | 用风扇类比 | "风扇快速开关，看起来像一直转但速度慢" |
| 数值范围混乱 | 画图演示 | ADC是0-4095，PWM是0-1023 |

---

`#执行层` `#测评项`
[UID: PYAI-23-MP1-L3-001]

---

[上一课](PYAI-MP-02_按钮与数字输入.md) | [模块概览](_模块概览.md) | [下一课](PYAI-MP-04_类与实例1.md)
