# [PYAI-1-4-12] 家居回顾 - 物联网架构复盘

> **模块**：L1-M4 智能硬件
> **认知负荷**：中
> **核心技能**：物联网架构、AI流程、系统设计思维
> **UID**：PYAI-14-12-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | PYAI-1-4-12 |
| **课程名称** | 家居回顾 - 物联网架构复盘 |
| **认知负荷** | 中 |
| **核心技能** | 物联网架构、AI流程、系统设计思维 |
| **课时** | 90分钟 |

---

## 详细教学流程

### 步骤1：课程导入（5分钟）

`#低负荷-热身` `#IFC-预防`

**教师话术**
> "同学们，这个单元我们做了很多智能硬件项目。今天我们来回顾总结，看看这些项目有什么共同点！"

---

### 步骤2：知识回顾（20分钟）

`#中负荷-操练` `#IFC-即时`

**教师话术**
> "**物联网三层架构**：
>
> ```
> ┌────────────────���────────────────────┐
> │           应用层（执行）              │
> │   LED、RGB、蜂鸣器、电机、舵机、屏幕   │
> └─────────────────────────────────────┘
>                    ↑
> ┌─────────────────────────────────────┐
> │           处理层（决策）              │
> │      ESP32 + Python代码              │
> │      if判断、阈值比较、AI算法         │
> └─────────────────────────────────────┘
>                    ↑
> ┌─────────────────────────────────────┐
> │           感知层（输入）              │
> │   光线传感器、气体传感器、土壤传感器   │
> │   摄像头、温度传感器、按键            │
> └─────────────────────────────────────┘
> ```
>
> **我们做过的项目**：
>
> | 项目 | 感知层 | 处理层 | 应用层 |
> |------|--------|--------|--------|
> | 智能夜灯 | 光线传感器 | 阈值判断 | LED/RGB |
> | 智能通风 | 气体传感器 | 阈值判断 | 电机+蜂鸣器 |
> | 智能门禁 | 摄像头 | AI人脸识别 | 舵机 |
> | 智能花房 | 土壤传感器 | 阈值判断 | 水泵+OLED |"

**核心代码模式**

```python
# 物联网项目通用模板
from mpython import *
import time

# 1. 感知层：初始化传感器
sensor = Pin(Pin.P0, Pin.IN)

# 2. 应用层：初始化执行器
actuator = Pin(Pin.P8, Pin.OUT)

# 3. 处理层：设置阈值
THRESHOLD = 500

while True:
    # 感知：读取传感器
    value = sensor.read_analog()

    # 处理：判断决策
    if value > THRESHOLD:
        # 应用：执行动作
        actuator.write_digital(1)
    else:
        actuator.write_digital(0)

    time.sleep(1)
```

**变体示例**

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 概念混淆 | 用具体例子 | "光线传感器是感知层，LED是应用层" |
| 想设计新项目 | 引导思考 | "你想感知什么？执行什么？" |
| 忘记某个项目 | 快速回顾 | 展示之前的代码和硬件 |

---

### 步骤3：AI流程复盘（15分钟）

`#中负荷-操练` `#IFC-即时`

**教师话术**
> "**AI视觉流程**（智能门禁）：
>
> ```
> 摄像头采集 → 灰度处理 → 特征提取 → 模板匹配 → 决策输出
>     ↓            ↓           ↓           ↓          ↓
>   frame      cvtColor    matchTemplate  相似度    开门/拒绝
> ```
>
> **AI的本质**：
> - 输入：传感器数据（图像、声音、数值）
> - 处理：算法分析（匹配、分类、预测）
> - 输出：决策结果（开门、报警、浇水）
>
> **AI和普通程序的区别**：
> - 普通程序：固定规则（if value > 500）
> - AI程序：学习规则（从数据中学习判断标准）"

---

### 步骤4：方案设计（25分钟）

`#高负荷-产出` `#IFC-即时`

**教师话术**
> "现在请设计一个**智能家居方案**！
>
> 要求：
> 1. 选择至少2个传感器
> 2. 选择至少2个执行器
> 3. 画出系统架构图
> 4. 写出核心代码逻辑
>
> 示例：**智能卧室**
> - 感知：光线传感器 + 温度传感器
> - 处理：ESP32判断
> - 应用：窗帘电机 + 空调控制 + 夜灯
>
> 逻辑：
> - 光线暗 + 晚上 → 开夜灯
> - 温度高 → 开空调
> - 早上 + 光线亮 → 开窗帘"

**变体示例**

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 没有思路 | 提供场景 | "想想厨房/浴室/客厅需要什么" |
| 方案太简单 | 引导扩展 | "能不能加入手机控制？" |
| 方案太复杂 | 简化聚焦 | "先实现最核心的功能" |

---

### 步骤5：成果展示（15分钟）

`#低负荷-热身` `#IFC-复盘`

**教师话术**
> "请上来展示你的智能家居方案！
>
> 评价标准：
> - 创意性：解决了什么实际问题？
> - 可行性：技术上能否实现？
> - 完整性：三层架构是否完整？"

---

## 核心知识点

- 物联网三层架构：感知层 → 处理层 → 应用层
- AI视觉流程：采集 → 处理 → 匹配 → 决策
- 系统设计思维：从需求出发，分层设计

---

## 底层逻辑

- **系统思维**：把复杂问题分解为三层
- **工程思维**：从设计到实现的完整流程

---

## 模块总结

### 本模块学习的传感器

| 传感器 | 功能 | 应用项目 |
|--------|------|----------|
| 光线传感器 | 检测环境亮度 | 智能夜灯 |
| 气体传感器 | 检测有害气体 | 智能通风 |
| 土壤湿度传感器 | 检测土壤湿度 | 智能花房 |
| 声音传感器 | 检测环境音量 | 音强流水灯 |
| 摄像头 | 采集图像 | 智能门禁 |

### 本模块学习的执行器

| 执行器 | 功能 | 应用项目 |
|--------|------|----------|
| LED/RGB灯 | 发光指示 | 智能夜灯 |
| 蜂鸣器 | 声音报警 | 智能通风 |
| 电机 | 驱动风扇 | 智能通风 |
| 舵机 | 精确角度控制 | 智能门禁 |
| 水泵 | 抽水灌溉 | 智能花房 |
| OLED屏幕 | 显示信息 | 智能花房 |
| NeoPixel灯带 | 彩色灯效 | 音强流水灯 |

---

`#执行层` `#测评项`
[UID: PYAI-14-12-001]
[关联: PYAI-24-001 PythonAI计算机视觉（进阶衔接）]

---

[上一课](PYAI-1-4-11_智能花房2.md) | [返回模块](_模块概览.md) | [下一模块](../M5_综合项目/)
