# [CODE2-1-04] 声控小夜灯

> **模块**：M1 智能应用
> **认知负荷**：中
> **核心技能**：声音传感器、响度检测、阈值设定
> **UID**：CODE2-M1-04-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | 2-1-04 |
| **课程名称** | 声控小夜灯 |
| **认知负荷** | 中 |
| **核心技能** | 声音传感器、响度检测、阈值设定 |
| **项目内容** | 拍手开灯 |

---

## 详细教学流程

### 步骤1：情境引入（5分钟）
`#低负荷-热身` `#IFC-预防`

**教师话术**
> "小朋友们，晚上起床上厕所，要摸黑找开关是不是很麻烦？如果拍拍手灯就亮了，是不是很方便？今天我们就来做一个声控小夜灯！"

---

### 步骤2：任务分析（20分钟）
`#中负荷-操练` `#IFC-即时` ⭐核心环节

**教师话术**
> "声音传感器就像耳朵，能'听到'声音的大小。
>
> 声音的大小用'响度'来表示（0-100）：
> - 0 表示很安静
> - 100 表示非常吵
>
> 我们设置一个阈值，比如响度大于30就算'拍手'。
>
> 但有个问题：拍一次手，灯亮了；再拍一次，灯要灭。这需要用'状态切换'！"

**变体示例**

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 环境太吵 | 提高阈值 | 从30调到50 |
| 检测不到 | 降低阈值 | 从30调到20 |
| 想增加功能 | 添加亮度调节 | 连续拍手调节亮度 |

---

### 步骤3：编程设计（25分钟）
`#高负荷-产出` `#IFC-即时`

**核心代码模式**
```
当绿旗被点击
将 [灯状态] 设为 [关]
重复执行
  如果 <(响度) > (30)> 那么
    如果 <(灯状态) = [关]> 那么
      将 [灯状态] 设为 [开]
      将灯的造型设为 [亮]
    否则
      将 [灯状态] 设为 [关]
      将灯的造型设为 [暗]
    结束
    等待 (0.5) 秒  // 防止连续触发
  结束
结束
```

---

## 核心知识点

- **声音传感器**：检测环境声音响度（0-100）
- **阈值设定**：确定触发条件
- **状态切换**：用变量记录当前状态并切换

---

`#执行层` `#测评项`
[UID: CODE2-M1-04-001]

---

[上一课](CODE2-1-03_商场自动门.md) | [下一课](CODE2-1-05_不倒翁.md) | [返回模块概览](_模块概览.md)
