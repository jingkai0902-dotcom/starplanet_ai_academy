# [CODE3-1-03] 魔力电吉他

> **模块**：M1 智能系统
> **认知负荷**：高
> **核心技能**：超声波测距、数学运算(线性变换)、音符控制
> **UID**：CODE3-M1-03-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | 3-1-03 |
| **课程名称** | 魔力电吉他 |
| **认知负荷** | 高 |
| **核心技能** | 超声波测距、数学运算(线性变换)、音符控制 |

---

## 详细教学流程

### 步骤1：情境引入（5分钟）
`#低负荷-热身` `#IFC-预防`

**教师话术**
> "小朋友们，你们见过电吉他吗？今天我们要做一个更神奇的乐器——不用弦，用手在空中挥动就能演奏！就像魔法一样！"

---

### 步骤2：任务分析（15分钟）
`#中负荷-操练` `#IFC-即时` ⭐核心环节

**教师话术**
> "魔力电吉他的原理：
> 1. 用超声波传感器测量手的距离
> 2. 把距离'转换'成音符
>
> 距离和音符的对应关系：
> - 手离得近（5cm）→ 低音Do
> - 手离得远（30cm）→ 高音Si
>
> 这里用到了'线性变换'（数学运算）：
> - 距离范围：5cm ~ 30cm（共25cm）
> - 音符范围：60 ~ 72（共12个音）
>
> 公式：音符 = 60 + (距离-5) / 25 × 12
>
> 简化版：音符 = 60 + (距离-5) × 0.48"

**变体示例**

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 音符跳动 | 添加平滑 | 取多次测量的平均值 |
| 想增加功能 | 添加节奏 | 用另一只手控制节拍 |
| 数学困难 | 简化映射 | 分成7个固定区间对应7个音 |

**核心代码模式**
```
当绿旗被点击
重复执行
  将 [距离] 设为 (超声波距离)
  // 限制距离范围
  如果 <(距离) < (5)> 那么
    将 [距离] 设为 (5)
  结束
  如果 <(距离) > (30)> 那么
    将 [距离] 设为 (30)
  结束
  // 线性变换：距离→音符
  将 [音符] 设为 (60 + ((距离) - 5) * 0.48)
  播放音符 (取整 (音符)) 持续 (0.2) 拍
结束
```

---

## 核心知识点

- **超声波测距**：精确测量距离
- **线性变换**：将一个范围的值映射到另一个范围
- **音符控制**：MIDI音符编号（60=中央C）

---

`#执行层` `#测评项`
[UID: CODE3-M1-03-001]

---

[上一课](CODE3-1-02_神奇遥控器.md) | [下一课](CODE3-1-04_楼梯灯.md) | [返回模块概览](_模块概览.md)
