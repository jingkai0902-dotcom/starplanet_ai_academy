# [CODE3-1-08] 智能停车场

> **模块**：M1 智能系统
> **认知负荷**：高
> **核心技能**：多传感器协同、变量计数、舵机控制
> **UID**：CODE3-M1-08-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | 3-1-08 |
| **课程名称** | 智能停车场 |
| **认知负荷** | 高 |
| **核心技能** | 多传感器协同、变量计数、舵机控制 |

---

## 详细教学流程

### 步骤1：情境引入（5分钟）
`#低负荷-热身` `#IFC-预防`

**教师话术**
> "小朋友们，你们去过停车场吗？停车场的入口有栏杆，车来了自动抬起，车走了自动落下。还能显示剩余车位！今天我们来做一个智能停车场系统！"

---

### 步骤2：任务分析（15分钟）
`#中负荷-操练` `#IFC-即时` ⭐核心环节

**教师话术**
> "智能停车场需要三个功能：
> 1. **入口检测**：红外传感器检测有车进入
> 2. **栏杆控制**：舵机控制栏杆抬起/落下
> 3. **车位计数**：变量记录剩余车位
>
> 工作流程：
> - 车来了 → 检测到 → 栏杆抬起 → 车位-1
> - 车走了 → 检测到 → 栏杆抬起 → 车位+1
> - 车位满了 → 显示'已满' → 栏杆不抬
>
> 我们需要两个传感器：入口一个，出口一个！"

**变体示例**

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 计数混乱 | 添加确认 | 车完全通过后再计数 |
| 想增加功能 | 添加收费 | 根据停车时间计费 |
| 想增加功能 | 添加引导 | 显示空车位位置 |

**核心代码模式**
```
当绿旗被点击
将 [总车位] 设为 (10)
将 [剩余车位] 设为 (10)
数码管显示 (剩余车位)

// 入口检测
重复执行
  如果 <入口红外检测到?> 那么
    如果 <(剩余车位) > (0)> 那么
      入口舵机转到 (90) 度  // 抬杆
      等待 (3) 秒
      入口舵机转到 (0) 度   // 落杆
      将 [剩余车位] 增加 (-1)
      数码管显示 (剩余车位)
    否则
      说 [车位已满，请等待]
      RGB灯设为 [红色]
    结束
  结束
结束

// 出口检测（另一个脚本）
重复执行
  如果 <出口红外检测到?> 那么
    出口舵机转到 (90) 度
    等待 (3) 秒
    出口舵机转到 (0) 度
    将 [剩余车位] 增加 (1)
    数码管显示 (剩余车位)
  结束
结束
```

---

## 核心知识点

- **多传感器协同**：入口+出口双传感器
- **变量计数**：记录车位状态
- **舵机控制**：栏杆抬起/落下

---

`#执行层` `#测评项`
[UID: CODE3-M1-08-001]

---

[上一课](CODE3-1-07_智能浇花器.md) | [下一课](CODE3-1-09_智能温室.md) | [返回模块概览](_模块概览.md)
