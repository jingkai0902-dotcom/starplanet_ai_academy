# [CODE3-2-04] 篮球小子-投篮物理

> **模块**：M2 游戏开发
> **认知负荷**：高
> **核心技能**：状态机、造型切换、角色动画
> **UID**：CODE3-M2-04-001

---

## 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程编号** | 3-2-04 |
| **课程名称** | 篮球小子-投篮物理 |
| **认知负荷** | 高 |
| **核心技能** | 状态机、造型切换、角色动画 |
| **所属项目** | 项目二：篮球小子（第4-6课） |

---

## 项目结构

| 课次 | 内容 | 核心知识点 | 认知负荷 |
|------|------|------------|----------|
| 第4课 | 投篮物理 | 状态机（运球vs投篮）、造型切换 | 高 |
| 第5课 | 力度与角度 | 局部变量、游标控制 | 高 |
| 第6课 | 关卡与判定 | 抛物线算法、关卡切换、碰撞侦测 | 高 |

---

## 详细教学流程

### 步骤1：情境引入（5分钟）

`#低负荷-热身` `#IFC-预防`

**教师话术**
> "小朋友们，你们喜欢打篮球吗？今天我们要做一个投篮游戏！你要控制一个篮球运动员，瞄准篮筐，把球投进去！"

---

### 步骤2：任务分析（15分钟）

`#中负荷-操练` `#IFC-即时` ⭐核心环节

**教师话术**
> "篮球运动员有两种状态：
> 1. **运球状态**：球在手上，可以移动位置
> 2. **投篮状态**：球飞出去，运动员不能动
>
> 这就是'状态机'的概念！程序根据当前状态决定能做什么。
>
> 运球状态时：
> - 按左右键移动位置
> - 按空格键进入投篮状态
>
> 投篮状态时：
> - 球飞向篮筐
> - 等球落地后回到运球状态"

**变体示例**

| 学生情况 | 调整方案 | 说明 |
|----------|----------|------|
| 不理解状态机 | 用红绿灯类比 | "红灯时只能停，绿灯时才能走" |
| 造型切换混乱 | 画状态图 | 画出两种状态和切换条件 |
| 想增加功能 | 添加跳投 | 投篮时角色跳起来 |

**核心代码模式**
```
// 状态机控制
当绿旗被点击
将 [游戏状态] 设为 [运球]
重复执行
  如果 <(游戏状态) = [运球]> 那么
    将造型设为 [运球造型]
    如果 <按下 [左移] 键?> 那么
      将 x 增加 (-5)
    结束
    如果 <按下 [右移] 键?> 那么
      将 x 增加 (5)
    结束
    如果 <按下 [空格] 键?> 那么
      将 [游戏状态] 设为 [投篮]
      广播 [开始投篮]
    结束
  结束
结束
```

**禁忌提醒**
- 不要在投篮状态允许移动——会导致逻辑混乱
- 不要忘记状态切换——球落地后要回到运球状态

---

## 核心知识点

- 状态机：程序根据当前状态决定行为
- 造型切换：不同状态显示不同造型
- 状态变量：用变量记录当前状态

---

## 导航

- **上一课**：[CODE3-2-03 太空防卫战-大招与平衡](CODE3-2-03_太空防卫战-大招与平衡.md)
- **下一课**：[CODE3-2-05 篮球小子-力度与角度](CODE3-2-05_篮球小子-力度与角度.md)
- **模块概览**：[M2 游戏开发](_模块概览.md)

---

`#执行层` `#测评项`
[UID: CODE3-M2-04-001]
